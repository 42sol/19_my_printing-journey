<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>OpenSCAD User Manual/The OpenSCAD Language - Wikibooks, open books for an open world</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"ac509a6a-a935-4430-a19c-1b4eebd72af9","wgCSPNonce":false,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OpenSCAD_User_Manual/The_OpenSCAD_Language","wgTitle":"OpenSCAD User Manual/The OpenSCAD Language","wgCurRevisionId":4070690,"wgRevisionId":4070690,"wgArticleId":214317,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Book:OpenSCAD User Manual"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"OpenSCAD_User_Manual/The_OpenSCAD_Language","wgRelevantArticleId":214317,"wgIsProbablyEditable":true,
"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgFlaggedRevsParams":{"tags":{"value":{"levels":3}}},"wgStableRevisionId":4070690,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"watchlist":true,"tagline":false,"nearby":true},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":3000,"wgNoticeProject":"wikibooks","wgVector2022PreviewPages":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgULSCurrentAutonym":"English","wgEditSubmitButtonLabelPublish":true,"wgCentralAuthMobileDomain":false,"wgULSPosition":"interlanguage","wgULSisCompactLinksEnabled":true,"wgWikibaseItemId":"Q28651208","wgSiteNoticeId":"2.24"};RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"loading","ext.flaggedRevs.icons":"ready","oojs-ui-core.styles":
"ready","oojs-ui.styles.indicators":"ready","mediawiki.widgets.styles":"ready","oojs-ui-core.icons":"ready","ext.pygments":"ready","mediawiki.page.gallery.styles":"ready","ext.math.styles":"ready","ext.cite.styles":"ready","skins.vector.styles.legacy":"ready","ext.flaggedRevs.basic":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.wikimediaBadges":"ready","ext.uls.interlanguage":"ready","wikibase.client.init":"ready","ext.dismissableSiteNotice.styles":"ready"};RLPAGEMODULES=["ext.math.scripts","ext.cite.ux-enhancements","site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.flaggedRevs.advanced","mmv.head","mmv.bootstrap.autostart","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.centralNotice.geoIP","ext.centralNotice.startUp","ext.gadget.wikidialog","ext.gadget.commons-file","ext.centralauth.centralautologin","ext.echo.centralauth",
"ext.uls.compactlinks","ext.uls.interface","ext.dismissableSiteNotice"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.cite.styles%7Cext.dismissableSiteNotice.styles%7Cext.flaggedRevs.basic%2Cicons%7Cext.math.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cmediawiki.page.gallery.styles%7Cmediawiki.widgets.styles%7Coojs-ui-core.icons%2Cstyles%7Coojs-ui.styles.indicators%7Cskins.vector.styles.legacy%7Cwikibase.client.init&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.40.0-wmf.12"/>
<meta name="referrer" content="origin"/>
<meta name="referrer" content="origin-when-crossorigin"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<meta name="robots" content="max-image-preview:standard"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<meta property="og:title" content="OpenSCAD User Manual/The OpenSCAD Language - Wikibooks, open books for an open world"/>
<meta property="og:type" content="website"/>
<link rel="preconnect" href="//upload.wikimedia.org"/>
<link rel="alternate" media="only screen and (max-width: 720px)" href="//en.m.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language"/>
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit"/>
<link rel="icon" href="/static/favicon/wikibooks.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikibooks (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//en.wikibooks.org/w/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language"/>
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<link rel="dns-prefetch" href="//login.wikimedia.org"/>
</head>
<body class="skin-vector-legacy mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-OpenSCAD_User_Manual_The_OpenSCAD_Language rootpage-OpenSCAD_User_Manual skin-vector action-view vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-enabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-legacy-toc-disabled vector-feature-page-tools-disabled vector-feature-limited-width-enabled vector-feature-limited-width-content-enabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"><!-- CentralNotice --><!--esi <esi:include src="/esitest-fa8a495983347898/content" /> --> <div id="mw-dismissablenotice-anonplace"></div><script>(function(){var node=document.getElementById("mw-dismissablenotice-anonplace");if(node){node.outerHTML="\u003Cdiv class=\"mw-dismissable-notice\"\u003E\u003Cdiv class=\"mw-dismissable-notice-close\"\u003E[\u003Ca tabindex=\"0\" role=\"button\"\u003Edismiss\u003C/a\u003E]\u003C/div\u003E\u003Cdiv class=\"mw-dismissable-notice-body\"\u003E\u003Cdiv id=\"localNotice\"\u003E\u003Cdiv class=\"anonnotice\" lang=\"en\" dir=\"ltr\"\u003E\u003Cdiv style=\"background: #ffffff; border: solid 1px #48b; width: auto; padding-left:2px; padding-right:2px; margin-left:auto; margin-right:auto; vertical-align: top; display:table; color:black;\"\u003E\u003Cdiv class=\"floatleft\"\u003E\u003Ca href=\"/wiki/Shelf:Strategy_guides\" title=\"Shelf:Strategy guides\"\u003E\u003Cimg alt=\"Nuvola apps package games.png\" src=\"//upload.wikimedia.org/wikipedia/commons/thumb/0/01/Nuvola_apps_package_games.png/40px-Nuvola_apps_package_games.png\" decoding=\"async\" width=\"40\" height=\"40\" srcset=\"//upload.wikimedia.org/wikipedia/commons/thumb/0/01/Nuvola_apps_package_games.png/60px-Nuvola_apps_package_games.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/01/Nuvola_apps_package_games.png/80px-Nuvola_apps_package_games.png 2x\" data-file-width=\"128\" data-file-height=\"128\" /\u003E\u003C/a\u003E\u003C/div\u003EThe Wikibooks community has accepted \u003Ca href=\"/wiki/Shelf:Strategy_guides\" title=\"Shelf:Strategy guides\"\u003Evideo game strategy guides\u003C/a\u003E on this wiki! See \u003Ca href=\"/wiki/Wikibooks:Strategy_guides\" title=\"Wikibooks:Strategy guides\"\u003EWikibooks:Strategy guides\u003C/a\u003E for the newly-created policy on strategy games. We're looking forward to your contributions.\n\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E";}}());</script></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">OpenSCAD User Manual/The OpenSCAD Language</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Wikibooks, open books for an open world</div>
		<div id="contentSub"><div class="subpages">&lt; <a href="/wiki/OpenSCAD_User_Manual" title="OpenSCAD User Manual">OpenSCAD User Manual</a></div></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p><br />
<span class="noprint">This is a printable version of only  <big><b>The OpenSCAD Language </b> </big>
Everything else is at <b><a href="/wiki/OpenSCAD_User_Manual/Print_version" title="OpenSCAD User Manual/Print version">OpenSCAD User Manual/Print version</a></b>
For the Contents governed by [hide] or [show], what you see is what gets printed.
This message is not printed.</span>
</p><p><br />
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Chapter_1_--_General"><span class="tocnumber">1</span> <span class="toctext">Chapter 1 -- General</span></a>
<ul>
<li class="toclevel-2"><a href="#Comments"><span class="tocnumber">1.1</span> <span class="toctext">Comments</span></a>
<ul>
<li class="toclevel-3"><a href="#Values_and_data_types"><span class="tocnumber">1.1.1</span> <span class="toctext">Values and data types</span></a></li>
<li class="toclevel-3"><a href="#Numbers"><span class="tocnumber">1.1.2</span> <span class="toctext">Numbers</span></a></li>
<li class="toclevel-3"><a href="#Boolean_values"><span class="tocnumber">1.1.3</span> <span class="toctext">Boolean values</span></a></li>
<li class="toclevel-3"><a href="#Strings"><span class="tocnumber">1.1.4</span> <span class="toctext">Strings</span></a></li>
<li class="toclevel-3"><a href="#Ranges"><span class="tocnumber">1.1.5</span> <span class="toctext">Ranges</span></a></li>
<li class="toclevel-3"><a href="#The_undefined_value"><span class="tocnumber">1.1.6</span> <span class="toctext">The undefined value</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Variables"><span class="tocnumber">1.2</span> <span class="toctext">Variables</span></a>
<ul>
<li class="toclevel-3"><a href="#Undefined_variable"><span class="tocnumber">1.2.1</span> <span class="toctext">Undefined variable</span></a></li>
<li class="toclevel-3"><a href="#Scope_of_variables"><span class="tocnumber">1.2.2</span> <span class="toctext">Scope of variables</span></a></li>
<li class="toclevel-3"><a href="#Variables_are_set_at_compile-time,_not_run-time"><span class="tocnumber">1.2.3</span> <span class="toctext">Variables are set at compile-time, not run-time</span></a></li>
<li class="toclevel-3"><a href="#Special_variables"><span class="tocnumber">1.2.4</span> <span class="toctext">Special variables</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Vectors"><span class="tocnumber">1.3</span> <span class="toctext">Vectors</span></a>
<ul>
<li class="toclevel-3"><a href="#Creation"><span class="tocnumber">1.3.1</span> <span class="toctext">Creation</span></a></li>
<li class="toclevel-3"><a href="#Indexing_elements_within_vectors"><span class="tocnumber">1.3.2</span> <span class="toctext">Indexing elements within vectors</span></a>
<ul>
<li class="toclevel-4"><a href="#Dot_notation_indexing"><span class="tocnumber">1.3.2.1</span> <span class="toctext">Dot notation indexing</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Vector_operators"><span class="tocnumber">1.3.3</span> <span class="toctext">Vector operators</span></a>
<ul>
<li class="toclevel-4"><a href="#concat"><span class="tocnumber">1.3.3.1</span> <span class="toctext">concat</span></a></li>
<li class="toclevel-4"><a href="#len"><span class="tocnumber">1.3.3.2</span> <span class="toctext">len</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Matrix"><span class="tocnumber">1.3.4</span> <span class="toctext">Matrix</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Getting_input"><span class="tocnumber">1.4</span> <span class="toctext">Getting input</span></a>
<ul>
<li class="toclevel-3"><a href="#Getting_a_point_from_a_drawing"><span class="tocnumber">1.4.1</span> <span class="toctext">Getting a point from a drawing</span></a></li>
<li class="toclevel-3"><a href="#Getting_a_dimension_value"><span class="tocnumber">1.4.2</span> <span class="toctext">Getting a dimension value</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-2"><a href="#Chapter_2_--_3D_Objects"><span class="tocnumber">2</span> <span class="toctext">Chapter 2 -- 3D Objects</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Primitive_Solids"><span class="tocnumber">2.1</span> <span class="toctext">Primitive Solids</span></a>
<ul>
<li class="toclevel-3"><a href="#cube"><span class="tocnumber">2.1.1</span> <span class="toctext">cube</span></a></li>
<li class="toclevel-3"><a href="#sphere"><span class="tocnumber">2.1.2</span> <span class="toctext">sphere</span></a></li>
<li class="toclevel-3"><a href="#cylinder"><span class="tocnumber">2.1.3</span> <span class="toctext">cylinder</span></a></li>
<li class="toclevel-3"><a href="#polyhedron"><span class="tocnumber">2.1.4</span> <span class="toctext">polyhedron</span></a>
<ul>
<li class="toclevel-4"><a href="#Debugging_polyhedra"><span class="tocnumber">2.1.4.1</span> <span class="toctext">Debugging polyhedra</span></a></li>
<li class="toclevel-4"><a href="#Mis-ordered_faces"><span class="tocnumber">2.1.4.2</span> <span class="toctext">Mis-ordered faces</span></a></li>
<li class="toclevel-4"><a href="#Point_repetitions_in_a_polyhedron_point_list"><span class="tocnumber">2.1.4.3</span> <span class="toctext">Point repetitions in a polyhedron point list</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-4"><a href="#3D_to_2D_Projection"><span class="tocnumber">2.2</span> <span class="toctext">3D to 2D Projection</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Chapter_3_--_2D_Objects"><span class="tocnumber">3</span> <span class="toctext">Chapter 3 -- 2D Objects</span></a>
<ul>
<li class="toclevel-2"><a href="#square"><span class="tocnumber">3.1</span> <span class="toctext">square</span></a></li>
<li class="toclevel-2"><a href="#circle"><span class="tocnumber">3.2</span> <span class="toctext">circle</span></a>
<ul>
<li class="toclevel-3"><a href="#Ellipses"><span class="tocnumber">3.2.1</span> <span class="toctext">Ellipses</span></a></li>
<li class="toclevel-3"><a href="#Regular_Polygons"><span class="tocnumber">3.2.2</span> <span class="toctext">Regular Polygons</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#polygon"><span class="tocnumber">3.3</span> <span class="toctext">polygon</span></a>
<ul>
<li class="toclevel-3"><a href="#Without_holes"><span class="tocnumber">3.3.1</span> <span class="toctext">Without holes</span></a></li>
<li class="toclevel-3"><a href="#One_hole"><span class="tocnumber">3.3.2</span> <span class="toctext">One hole</span></a></li>
<li class="toclevel-3"><a href="#Multi_hole"><span class="tocnumber">3.3.3</span> <span class="toctext">Multi hole</span></a></li>
<li class="toclevel-3"><a href="#Extruding_a_3D_shape_from_a_polygon"><span class="tocnumber">3.3.4</span> <span class="toctext">Extruding a 3D shape from a polygon</span></a></li>
<li class="toclevel-3"><a href="#convexity"><span class="tocnumber">3.3.5</span> <span class="toctext">convexity</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#import_dxf"><span class="tocnumber">3.4</span> <span class="toctext">import_dxf</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#text"><span class="tocnumber">3.5</span> <span class="toctext">text</span></a>
<ul>
<li class="toclevel-3"><a href="#Using_Fonts_&amp;_Styles"><span class="tocnumber">3.5.1</span> <span class="toctext">Using Fonts &amp; Styles</span></a></li>
<li class="toclevel-3"><a href="#Alignment"><span class="tocnumber">3.5.2</span> <span class="toctext">Alignment</span></a>
<ul>
<li class="toclevel-4"><a href="#Vertical_alignment"><span class="tocnumber">3.5.2.1</span> <span class="toctext">Vertical alignment</span></a></li>
<li class="toclevel-4"><a href="#Horizontal_alignment"><span class="tocnumber">3.5.2.2</span> <span class="toctext">Horizontal alignment</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#3D_text"><span class="tocnumber">3.5.3</span> <span class="toctext">3D text</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#2D_to_3D_Extrusion"><span class="tocnumber">3.6</span> <span class="toctext">2D to 3D Extrusion</span></a>
<ul>
<li class="toclevel-3"><a href="#linear_extrude"><span class="tocnumber">3.6.1</span> <span class="toctext">linear_extrude</span></a>
<ul>
<li class="toclevel-4"><a href="#Usage"><span class="tocnumber">3.6.1.1</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-4"><a href="#Twist"><span class="tocnumber">3.6.1.2</span> <span class="toctext">Twist</span></a></li>
<li class="toclevel-4"><a href="#Center"><span class="tocnumber">3.6.1.3</span> <span class="toctext">Center</span></a></li>
<li class="toclevel-4"><a href="#Mesh_Refinement"><span class="tocnumber">3.6.1.4</span> <span class="toctext">Mesh Refinement</span></a></li>
<li class="toclevel-4"><a href="#Scale"><span class="tocnumber">3.6.1.5</span> <span class="toctext">Scale</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#rotate_extrude"><span class="tocnumber">3.6.2</span> <span class="toctext">rotate_extrude</span></a>
<ul>
<li class="toclevel-4"><a href="#Usage_2"><span class="tocnumber">3.6.2.1</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-4"><a href="#Examples"><span class="tocnumber">3.6.2.2</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-4"><a href="#Mesh_Refinement_2"><span class="tocnumber">3.6.2.3</span> <span class="toctext">Mesh Refinement</span></a></li>
<li class="toclevel-4"><a href="#Extruding_a_Polygon"><span class="tocnumber">3.6.2.4</span> <span class="toctext">Extruding a Polygon</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Description_of_extrude_parameters"><span class="tocnumber">3.6.3</span> <span class="toctext">Description of extrude parameters</span></a>
<ul>
<li class="toclevel-4"><a href="#Extrude_parameters_for_all_extrusion_modes"><span class="tocnumber">3.6.3.1</span> <span class="toctext">Extrude parameters for all extrusion modes</span></a></li>
<li class="toclevel-4"><a href="#Extrude_parameters_for_linear_extrusion_only"><span class="tocnumber">3.6.3.2</span> <span class="toctext">Extrude parameters for linear extrusion only</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Chapter_4_--_Transform"><span class="tocnumber">4</span> <span class="toctext">Chapter 4 -- Transform</span></a>
<ul>
<li class="toclevel-2"><a href="#Basic_concept"><span class="tocnumber">4.1</span> <span class="toctext">Basic concept</span></a></li>
<li class="toclevel-2"><a href="#Advanced_concept"><span class="tocnumber">4.2</span> <span class="toctext">Advanced concept</span></a></li>
<li class="toclevel-2"><a href="#scale_2"><span class="tocnumber">4.3</span> <span class="toctext">scale</span></a></li>
<li class="toclevel-2"><a href="#resize"><span class="tocnumber">4.4</span> <span class="toctext">resize</span></a></li>
<li class="toclevel-2"><a href="#rotate"><span class="tocnumber">4.5</span> <span class="toctext">rotate</span></a>
<ul>
<li class="toclevel-3"><a href="#Rotation_rule_help"><span class="tocnumber">4.5.1</span> <span class="toctext">Rotation rule help</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#translate"><span class="tocnumber">4.6</span> <span class="toctext">translate</span></a></li>
<li class="toclevel-2"><a href="#mirror"><span class="tocnumber">4.7</span> <span class="toctext">mirror</span></a>
<ul>
<li class="toclevel-3"><a href="#Function_signature:"><span class="tocnumber">4.7.1</span> <span class="toctext">Function signature:</span></a></li>
<li class="toclevel-3"><a href="#Examples_2"><span class="tocnumber">4.7.2</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#multmatrix"><span class="tocnumber">4.8</span> <span class="toctext">multmatrix</span></a>
<ul>
<li class="toclevel-3"><a href="#More?"><span class="tocnumber">4.8.1</span> <span class="toctext">More?</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#color"><span class="tocnumber">4.9</span> <span class="toctext">color</span></a>
<ul>
<li class="toclevel-3"><a href="#Function_signature:_2"><span class="tocnumber">4.9.1</span> <span class="toctext">Function signature:</span></a></li>
<li class="toclevel-3"><a href="#Example"><span class="tocnumber">4.9.2</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-3"><a href="#Example_2"><span class="tocnumber">4.9.3</span> <span class="toctext">Example 2</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#offset"><span class="tocnumber">4.10</span> <span class="toctext">offset</span></a></li>
<li class="toclevel-2"><a href="#fill"><span class="tocnumber">4.11</span> <span class="toctext">fill</span></a></li>
<li class="toclevel-2"><a href="#minkowski"><span class="tocnumber">4.12</span> <span class="toctext">minkowski</span></a></li>
<li class="toclevel-2"><a href="#hull"><span class="tocnumber">4.13</span> <span class="toctext">hull</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Chapter_5_--_Boolean_combination"><span class="tocnumber">5</span> <span class="toctext">Chapter 5 -- Boolean combination</span></a>
<ul>
<li class="toclevel-2"><a href="#boolean_overview"><span class="tocnumber">5.1</span> <span class="toctext">boolean overview</span></a>
<ul>
<li class="toclevel-3"><a href="#2D_examples"><span class="tocnumber">5.1.1</span> <span class="toctext">2D examples</span></a></li>
<li class="toclevel-3"><a href="#3D_examples"><span class="tocnumber">5.1.2</span> <span class="toctext">3D examples</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#union"><span class="tocnumber">5.2</span> <span class="toctext">union</span></a></li>
<li class="toclevel-2"><a href="#difference"><span class="tocnumber">5.3</span> <span class="toctext">difference</span></a>
<ul>
<li class="toclevel-3"><a href="#difference_with_multiple_children"><span class="tocnumber">5.3.1</span> <span class="toctext">difference with multiple children</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#intersection"><span class="tocnumber">5.4</span> <span class="toctext">intersection</span></a></li>
<li class="toclevel-2"><a href="#render"><span class="tocnumber">5.5</span> <span class="toctext">render</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Chapter_6_--_Other_Functions_and_Operators"><span class="tocnumber">6</span> <span class="toctext">Chapter 6 -- Other Functions and Operators</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Conditional_and_Iterator_Functions"><span class="tocnumber">6.1</span> <span class="toctext">Conditional and Iterator Functions</span></a>
<ul>
<li class="toclevel-3"><a href="#For_loop"><span class="tocnumber">6.1.1</span> <span class="toctext">For loop</span></a></li>
<li class="toclevel-3"><a href="#Intersection_For_Loop"><span class="tocnumber">6.1.2</span> <span class="toctext">Intersection For Loop</span></a></li>
<li class="toclevel-3"><a href="#If_Statement"><span class="tocnumber">6.1.3</span> <span class="toctext">If Statement</span></a>
<ul>
<li class="toclevel-4"><a href="#else_if"><span class="tocnumber">6.1.3.1</span> <span class="toctext">else if</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Conditional_?_:"><span class="tocnumber">6.1.4</span> <span class="toctext">Conditional&#160;?&#160;:</span></a>
<ul>
<li class="toclevel-4"><a href="#Recursive_function_calls"><span class="tocnumber">6.1.4.1</span> <span class="toctext">Recursive function calls</span></a></li>
<li class="toclevel-4"><a href="#Formatting_complex_usage"><span class="tocnumber">6.1.4.2</span> <span class="toctext">Formatting complex usage</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Assign_Statement"><span class="tocnumber">6.1.5</span> <span class="toctext">Assign Statement</span></a></li>
<li class="toclevel-3"><a href="#Let_Statement"><span class="tocnumber">6.1.6</span> <span class="toctext">Let Statement</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Mathematical_Operators"><span class="tocnumber">6.2</span> <span class="toctext">Mathematical Operators</span></a></li>
<li class="toclevel-2"><a href="#Scalar_arithmetic_operators"><span class="tocnumber">6.3</span> <span class="toctext">Scalar arithmetic operators</span></a></li>
<li class="toclevel-2"><a href="#Relational_operators"><span class="tocnumber">6.4</span> <span class="toctext">Relational operators</span></a></li>
<li class="toclevel-2"><a href="#Logical_operators"><span class="tocnumber">6.5</span> <span class="toctext">Logical operators</span></a></li>
<li class="toclevel-2"><a href="#Conditional_operator"><span class="tocnumber">6.6</span> <span class="toctext">Conditional operator</span></a></li>
<li class="toclevel-2"><a href="#Vector-number_operators"><span class="tocnumber">6.7</span> <span class="toctext">Vector-number operators</span></a></li>
<li class="toclevel-2"><a href="#Vector_operators_2"><span class="tocnumber">6.8</span> <span class="toctext">Vector operators</span></a></li>
<li class="toclevel-2"><a href="#Vector_dot-product_operator"><span class="tocnumber">6.9</span> <span class="toctext">Vector dot-product operator</span></a></li>
<li class="toclevel-2"><a href="#Matrix_multiplication"><span class="tocnumber">6.10</span> <span class="toctext">Matrix multiplication</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Mathematical_Functions"><span class="tocnumber">6.11</span> <span class="toctext">Mathematical Functions</span></a></li>
<li class="toclevel-2"><a href="#Trigonometric_functions"><span class="tocnumber">6.12</span> <span class="toctext">Trigonometric functions</span></a>
<ul>
<li class="toclevel-3"><a href="#cos"><span class="tocnumber">6.12.1</span> <span class="toctext">cos</span></a></li>
<li class="toclevel-3"><a href="#sin"><span class="tocnumber">6.12.2</span> <span class="toctext">sin</span></a></li>
<li class="toclevel-3"><a href="#tan"><span class="tocnumber">6.12.3</span> <span class="toctext">tan</span></a></li>
<li class="toclevel-3"><a href="#acos"><span class="tocnumber">6.12.4</span> <span class="toctext">acos</span></a></li>
<li class="toclevel-3"><a href="#asin"><span class="tocnumber">6.12.5</span> <span class="toctext">asin</span></a></li>
<li class="toclevel-3"><a href="#atan"><span class="tocnumber">6.12.6</span> <span class="toctext">atan</span></a></li>
<li class="toclevel-3"><a href="#atan2"><span class="tocnumber">6.12.7</span> <span class="toctext">atan2</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Other_Mathematical_Functions"><span class="tocnumber">6.13</span> <span class="toctext">Other Mathematical Functions</span></a>
<ul>
<li class="toclevel-3"><a href="#abs"><span class="tocnumber">6.13.1</span> <span class="toctext">abs</span></a></li>
<li class="toclevel-3"><a href="#ceil"><span class="tocnumber">6.13.2</span> <span class="toctext">ceil</span></a></li>
<li class="toclevel-3"><a href="#concat_2"><span class="tocnumber">6.13.3</span> <span class="toctext">concat</span></a></li>
<li class="toclevel-3"><a href="#cross"><span class="tocnumber">6.13.4</span> <span class="toctext">cross</span></a></li>
<li class="toclevel-3"><a href="#exp"><span class="tocnumber">6.13.5</span> <span class="toctext">exp</span></a></li>
<li class="toclevel-3"><a href="#floor"><span class="tocnumber">6.13.6</span> <span class="toctext">floor</span></a></li>
<li class="toclevel-3"><a href="#ln"><span class="tocnumber">6.13.7</span> <span class="toctext">ln</span></a></li>
<li class="toclevel-3"><a href="#len_2"><span class="tocnumber">6.13.8</span> <span class="toctext">len</span></a></li>
<li class="toclevel-3"><a href="#let"><span class="tocnumber">6.13.9</span> <span class="toctext">let</span></a></li>
<li class="toclevel-3"><a href="#log"><span class="tocnumber">6.13.10</span> <span class="toctext">log</span></a></li>
<li class="toclevel-3"><a href="#lookup"><span class="tocnumber">6.13.11</span> <span class="toctext">lookup</span></a></li>
<li class="toclevel-3"><a href="#max"><span class="tocnumber">6.13.12</span> <span class="toctext">max</span></a></li>
<li class="toclevel-3"><a href="#min"><span class="tocnumber">6.13.13</span> <span class="toctext">min</span></a></li>
<li class="toclevel-3"><a href="#mod"><span class="tocnumber">6.13.14</span> <span class="toctext">mod</span></a></li>
<li class="toclevel-3"><a href="#norm"><span class="tocnumber">6.13.15</span> <span class="toctext">norm</span></a></li>
<li class="toclevel-3"><a href="#pow"><span class="tocnumber">6.13.16</span> <span class="toctext">pow</span></a></li>
<li class="toclevel-3"><a href="#rands"><span class="tocnumber">6.13.17</span> <span class="toctext">rands</span></a></li>
<li class="toclevel-3"><a href="#round"><span class="tocnumber">6.13.18</span> <span class="toctext">round</span></a></li>
<li class="toclevel-3"><a href="#sign"><span class="tocnumber">6.13.19</span> <span class="toctext">sign</span></a></li>
<li class="toclevel-3"><a href="#sqrt"><span class="tocnumber">6.13.20</span> <span class="toctext">sqrt</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Infinities_and_NaNs"><span class="tocnumber">6.14</span> <span class="toctext">Infinities and NaNs</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#String_Functions"><span class="tocnumber">6.15</span> <span class="toctext">String Functions</span></a>
<ul>
<li class="toclevel-3"><a href="#str"><span class="tocnumber">6.15.1</span> <span class="toctext">str</span></a></li>
<li class="toclevel-3"><a href="#chr"><span class="tocnumber">6.15.2</span> <span class="toctext">chr</span></a></li>
<li class="toclevel-3"><a href="#ord"><span class="tocnumber">6.15.3</span> <span class="toctext">ord</span></a></li>
<li class="toclevel-3"><a href="#len_3"><span class="tocnumber">6.15.4</span> <span class="toctext">len</span></a></li>
<li class="toclevel-3"><a href="#Also_See_search()"><span class="tocnumber">6.15.5</span> <span class="toctext">Also See search()</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#List_Comprehensions"><span class="tocnumber">6.16</span> <span class="toctext">List Comprehensions</span></a>
<ul>
<li class="toclevel-3"><a href="#Basic_Syntax"><span class="tocnumber">6.16.1</span> <span class="toctext">Basic Syntax</span></a>
<ul>
<li class="toclevel-4"><a href="#multiple_generator_expressions"><span class="tocnumber">6.16.1.1</span> <span class="toctext">multiple generator expressions</span></a></li>
<li class="toclevel-4"><a href="#for"><span class="tocnumber">6.16.1.2</span> <span class="toctext">for</span></a></li>
<li class="toclevel-4"><a href="#each"><span class="tocnumber">6.16.1.3</span> <span class="toctext">each</span></a></li>
<li class="toclevel-4"><a href="#if"><span class="tocnumber">6.16.1.4</span> <span class="toctext">if</span></a></li>
<li class="toclevel-4"><a href="#if/else"><span class="tocnumber">6.16.1.5</span> <span class="toctext">if/else</span></a></li>
<li class="toclevel-4"><a href="#let_2"><span class="tocnumber">6.16.1.6</span> <span class="toctext">let</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Nested_loops"><span class="tocnumber">6.16.2</span> <span class="toctext">Nested loops</span></a></li>
<li class="toclevel-3"><a href="#Advanced_Examples"><span class="tocnumber">6.16.3</span> <span class="toctext">Advanced Examples</span></a>
<ul>
<li class="toclevel-4"><a href="#Generating_vertices_for_a_polygon"><span class="tocnumber">6.16.3.1</span> <span class="toctext">Generating vertices for a polygon</span></a></li>
<li class="toclevel-4"><a href="#Flattening_a_nested_vector"><span class="tocnumber">6.16.3.2</span> <span class="toctext">Flattening a nested vector</span></a></li>
<li class="toclevel-4"><a href="#Sorting_a_vector"><span class="tocnumber">6.16.3.3</span> <span class="toctext">Sorting a vector</span></a></li>
<li class="toclevel-4"><a href="#Selecting_elements_of_a_vector"><span class="tocnumber">6.16.3.4</span> <span class="toctext">Selecting elements of a vector</span></a></li>
<li class="toclevel-4"><a href="#Concatenating_two_vectors"><span class="tocnumber">6.16.3.5</span> <span class="toctext">Concatenating two vectors</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Other_Language_Features"><span class="tocnumber">6.17</span> <span class="toctext">Other Language Features</span></a></li>
<li class="toclevel-2"><a href="#Special_variables_2"><span class="tocnumber">6.18</span> <span class="toctext">Special variables</span></a>
<ul>
<li class="toclevel-3"><a href="#$fa,_$fs_and_$fn"><span class="tocnumber">6.18.1</span> <span class="toctext">$fa, $fs and $fn</span></a></li>
<li class="toclevel-3"><a href="#$t"><span class="tocnumber">6.18.2</span> <span class="toctext">$t</span></a></li>
<li class="toclevel-3"><a href="#$vpr,_$vpt,_$vpf_and_$vpd"><span class="tocnumber">6.18.3</span> <span class="toctext">$vpr, $vpt, $vpf and $vpd</span></a></li>
<li class="toclevel-3"><a href="#$preview"><span class="tocnumber">6.18.4</span> <span class="toctext">$preview</span></a></li>
<li class="toclevel-3"><a href="#echo"><span class="tocnumber">6.18.5</span> <span class="toctext">echo</span></a></li>
<li class="toclevel-3"><a href="#Rounding_examples"><span class="tocnumber">6.18.6</span> <span class="toctext">Rounding examples</span></a></li>
<li class="toclevel-3"><a href="#Small_and_large_Numbers"><span class="tocnumber">6.18.7</span> <span class="toctext">Small and large Numbers</span></a></li>
<li class="toclevel-3"><a href="#HTML"><span class="tocnumber">6.18.8</span> <span class="toctext">HTML</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Echo_function"><span class="tocnumber">6.19</span> <span class="toctext">Echo function</span></a></li>
<li class="toclevel-2"><a href="#render_2"><span class="tocnumber">6.20</span> <span class="toctext">render</span></a></li>
<li class="toclevel-2"><a href="#surface"><span class="tocnumber">6.21</span> <span class="toctext">surface</span></a>
<ul>
<li class="toclevel-3"><a href="#Text_file_format"><span class="tocnumber">6.21.1</span> <span class="toctext">Text file format</span></a></li>
<li class="toclevel-3"><a href="#Images"><span class="tocnumber">6.21.2</span> <span class="toctext">Images</span></a></li>
<li class="toclevel-3"><a href="#Examples_3"><span class="tocnumber">6.21.3</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#search"><span class="tocnumber">6.22</span> <span class="toctext">search</span></a>
<ul>
<li class="toclevel-3"><a href="#Search_usage"><span class="tocnumber">6.22.1</span> <span class="toctext">Search usage</span></a></li>
<li class="toclevel-3"><a href="#Search_arguments"><span class="tocnumber">6.22.2</span> <span class="toctext">Search arguments</span></a></li>
<li class="toclevel-3"><a href="#Search_usage_examples"><span class="tocnumber">6.22.3</span> <span class="toctext">Search usage examples</span></a>
<ul>
<li class="toclevel-4"><a href="#Index_values_return_as_list"><span class="tocnumber">6.22.3.1</span> <span class="toctext">Index values return as list</span></a></li>
<li class="toclevel-4"><a href="#Search_on_different_column;_return_Index_values"><span class="tocnumber">6.22.3.2</span> <span class="toctext">Search on different column; return Index values</span></a></li>
<li class="toclevel-4"><a href="#Search_on_list_of_values"><span class="tocnumber">6.22.3.3</span> <span class="toctext">Search on list of values</span></a></li>
<li class="toclevel-4"><a href="#Search_on_list_of_strings"><span class="tocnumber">6.22.3.4</span> <span class="toctext">Search on list of strings</span></a></li>
<li class="toclevel-4"><a href="#Getting_the_right_results"><span class="tocnumber">6.22.3.5</span> <span class="toctext">Getting the right results</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#OpenSCAD_version"><span class="tocnumber">6.23</span> <span class="toctext">OpenSCAD version</span></a></li>
<li class="toclevel-2"><a href="#parent_module(n)_and_$parent_modules"><span class="tocnumber">6.24</span> <span class="toctext">parent_module(n) and $parent_modules</span></a></li>
<li class="toclevel-2"><a href="#assert"><span class="tocnumber">6.25</span> <span class="toctext">assert</span></a>
<ul>
<li class="toclevel-3"><a href="#Example_3"><span class="tocnumber">6.25.1</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-3"><a href="#Checking_parameters"><span class="tocnumber">6.25.2</span> <span class="toctext">Checking parameters</span></a></li>
<li class="toclevel-3"><a href="#Adding_message"><span class="tocnumber">6.25.3</span> <span class="toctext">Adding message</span></a></li>
<li class="toclevel-3"><a href="#Using_assertions_in_function"><span class="tocnumber">6.25.4</span> <span class="toctext">Using assertions in function</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Chapter_7_--_User-Defined_Functions_and_Modules"><span class="tocnumber">7</span> <span class="toctext">Chapter 7 -- User-Defined Functions and Modules</span></a>
<ul>
<li class="toclevel-2"><a href="#Scope"><span class="tocnumber">7.1</span> <span class="toctext">Scope</span></a></li>
<li class="toclevel-2"><a href="#Functions"><span class="tocnumber">7.2</span> <span class="toctext">Functions</span></a>
<ul>
<li class="toclevel-3"><a href="#Function_use"><span class="tocnumber">7.2.1</span> <span class="toctext">Function use</span></a></li>
<li class="toclevel-3"><a href="#Recursive_functions"><span class="tocnumber">7.2.2</span> <span class="toctext">Recursive functions</span></a></li>
<li class="toclevel-3"><a href="#Function_literals"><span class="tocnumber">7.2.3</span> <span class="toctext">Function literals</span></a></li>
<li class="toclevel-3"><a href="#Overwriting_built-in_functions"><span class="tocnumber">7.2.4</span> <span class="toctext">Overwriting built-in functions</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Modules"><span class="tocnumber">7.3</span> <span class="toctext">Modules</span></a>
<ul>
<li class="toclevel-3"><a href="#Object_modules"><span class="tocnumber">7.3.1</span> <span class="toctext">Object modules</span></a></li>
<li class="toclevel-3"><a href="#Operator_modules"><span class="tocnumber">7.3.2</span> <span class="toctext">Operator modules</span></a>
<ul>
<li class="toclevel-4"><a href="#Children"><span class="tocnumber">7.3.2.1</span> <span class="toctext">Children</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Further_module_examples"><span class="tocnumber">7.3.3</span> <span class="toctext">Further module examples</span></a></li>
<li class="toclevel-3"><a href="#Recursive_modules"><span class="tocnumber">7.3.4</span> <span class="toctext">Recursive modules</span></a></li>
<li class="toclevel-3"><a href="#Overwriting_built-in_modules"><span class="tocnumber">7.3.5</span> <span class="toctext">Overwriting built-in modules</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Chapter_8_--_Debugging_aids"><span class="tocnumber">8</span> <span class="toctext">Chapter 8 -- Debugging aids</span></a>
<ul>
<li class="toclevel-2"><a href="#Advanced_concept_2"><span class="tocnumber">8.1</span> <span class="toctext">Advanced concept</span></a></li>
<li class="toclevel-2"><a href="#Background_modifier"><span class="tocnumber">8.2</span> <span class="toctext">Background modifier</span></a></li>
<li class="toclevel-2"><a href="#Debug_modifier"><span class="tocnumber">8.3</span> <span class="toctext">Debug modifier</span></a></li>
<li class="toclevel-2"><a href="#Root_modifier"><span class="tocnumber">8.4</span> <span class="toctext">Root modifier</span></a></li>
<li class="toclevel-2"><a href="#Disable_modifier"><span class="tocnumber">8.5</span> <span class="toctext">Disable modifier</span></a></li>
<li class="toclevel-2"><a href="#Echo_statements"><span class="tocnumber">8.6</span> <span class="toctext">Echo statements</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Chapter_9_--_External_libraries_and_code_files"><span class="tocnumber">9</span> <span class="toctext">Chapter 9 -- External libraries and code files</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Use_and_Include"><span class="tocnumber">9.1</span> <span class="toctext">Use and Include</span></a>
<ul>
<li class="toclevel-3"><a href="#Directory_separators"><span class="tocnumber">9.1.1</span> <span class="toctext">Directory separators</span></a></li>
<li class="toclevel-3"><a href="#Variables_2"><span class="tocnumber">9.1.2</span> <span class="toctext">Variables</span></a>
<ul>
<li class="toclevel-4"><a href="#Scope_of_variables_2"><span class="tocnumber">9.1.2.1</span> <span class="toctext">Scope of variables</span></a></li>
<li class="toclevel-4"><a href="#Overwriting_variables"><span class="tocnumber">9.1.2.2</span> <span class="toctext">Overwriting variables</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Example_&quot;Ring-Library&quot;"><span class="tocnumber">9.1.3</span> <span class="toctext">Example "Ring-Library"</span></a></li>
<li class="toclevel-3"><a href="#Nested_Include_and_Use"><span class="tocnumber">9.1.4</span> <span class="toctext">Nested Include and Use</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#import"><span class="tocnumber">9.2</span> <span class="toctext">import</span></a>
<ul>
<li class="toclevel-3"><a href="#Parameters"><span class="tocnumber">9.2.1</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-4"><a href="#Convexity_2"><span class="tocnumber">9.2.1.1</span> <span class="toctext">Convexity</span></a></li>
<li class="toclevel-4"><a href="#Notes"><span class="tocnumber">9.2.1.2</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-4"><a href="#CGAL_ERROR:_assertion_violation!"><span class="tocnumber">9.2.1.3</span> <span class="toctext">CGAL ERROR: assertion violation!</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#import_dxf_2"><span class="tocnumber">9.3</span> <span class="toctext">import_dxf</span></a></li>
<li class="toclevel-2"><a href="#import_stl"><span class="tocnumber">9.4</span> <span class="toctext">import_stl</span></a></li>
<li class="toclevel-2"><a href="#surface_2"><span class="tocnumber">9.5</span> <span class="toctext">surface</span></a>
<ul>
<li class="toclevel-3"><a href="#Parameters_2"><span class="tocnumber">9.5.1</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-3"><a href="#Text_file_format_2"><span class="tocnumber">9.5.2</span> <span class="toctext">Text file format</span></a></li>
<li class="toclevel-3"><a href="#Images_2"><span class="tocnumber">9.5.3</span> <span class="toctext">Images</span></a></li>
<li class="toclevel-3"><a href="#Examples_4"><span class="tocnumber">9.5.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<p style="page-break-after:always;"></p>
<p><br />
</p>
<h1><span class="mw-headline" id="Chapter_1_--_General">Chapter 1 -- General</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=1" class="mw-editsection-visualeditor" title="Edit section: Chapter 1 -- General">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=1" title="Edit section: Chapter 1 -- General">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<p>OpenSCAD is a <a href="https://en.wikipedia.org/wiki/2D_computer_graphics" class="extiw" title="w:2D computer graphics">2D</a>/<a href="https://en.wikipedia.org/wiki/3D_computer_graphics_software" class="extiw" title="w:3D computer graphics software">3D</a> and <a href="https://en.wikipedia.org/wiki/Solid_modeling" class="extiw" title="w:Solid modeling">solid modeling</a> program which is based on a <a href="https://en.wikipedia.org/wiki/Functional_programming" class="extiw" title="w:Functional programming">Functional programming</a> <a href="https://en.wikipedia.org/wiki/Procedural_modeling" class="extiw" title="w:Procedural modeling">language</a> used to create <a href="https://en.wikipedia.org/wiki/Polygonal_modeling" class="extiw" title="w:Polygonal modeling">models</a> that are  previewed on the screen, and rendered into 3D <a href="https://en.wikipedia.org/wiki/Polygon_mesh" class="extiw" title="w:Polygon mesh">mesh</a> which allows the model to be exported in a variety of 2D/3D file formats.
</p><p>A script in the OpenSCAD language is used to create 2D or 3D models. This script is a free format list of action statements.
</p>
<pre> object();
 variable = value;
 operator()   action();
 operator() { action();    action(); }
 operator()   operator() { action(); action(); }
 operator() { operator()   action();
              operator() { action(); action(); } }
</pre>
<dl><dt>Objects</dt>
<dd>Objects are the building blocks for models, created by 2D and 3D primitives. Objects end in a semicolon ';'.</dd>
<dd>Examples are: cube(), sphere(), polygon(), circle(), etc.</dd></dl>
<dl><dt>Actions</dt>
<dd>Action statements include creating objects using primitives and assigning values to variables. Action statements also end in a semicolon ';'.</dd>
<dd>Example: a=1; b = a+7;</dd></dl>
<dl><dt>Operators</dt>
<dd>Operators, or transformations, modify the location, color and other properties of objects. Operators use braces '{}' when their scope covers more than one action. More than one operator may be used for the same action or group of actions. Multiple operators are processed Right to Left, that is, the operator closest to the action is processed first. Operators do not end in semicolons ';', but the individual actions they contain do.</dd>
<dd>Examples:</dd></dl>
<pre>   cube(5);
   x = 4+y;
   rotate(40) square(5,10);
   translate([10,5]) { circle(5); square(4); }
   rotate(60) color("red") { circle(5); square(4); }
   color("blue") { translate([5,3,0]) sphere(5); rotate([45,0,45]) { cylinder(10); cube([5,6,7]); } }
</pre>
<h2><span class="mw-headline" id="Comments">Comments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Comments">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-1" title="Edit section: Comments">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Comments are a way of leaving notes within the script, or code, (either to yourself or to future programmers) describing how the code works, or what it does. Comments are not evaluated by the compiler, and should not be used to describe self-evident code. 
</p><p>OpenSCAD uses C++-style comments:
</p>
<pre>// This is a comment
  
myvar = 10; // The rest of the line is a comment
  
/*
   Multi-line comments
   can span multiple lines.
*/
</pre>
<h3><span class="mw-headline" id="Values_and_data_types">Values and data types</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Values and data types">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-2" title="Edit section: Values and data types">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A value in OpenSCAD is either a Number (like 42), a Boolean (like true), a String (like "foo"), a Range (like [0: 1: 10]), a Vector (like [1,2,3]), or the Undefined value (undef). Values can be stored in variables, passed as function arguments, and returned as function results.
</p><p>[OpenSCAD is a dynamically typed language with a fixed set of data types. There are no type names, and no user defined types.]
</p>
<h3><span class="mw-headline" id="Numbers">Numbers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Numbers">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-3" title="Edit section: Numbers">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Numbers are the most important type of value in OpenSCAD, and they are written in the familiar decimal notation used in other languages. Eg, -1, 42, 0.5, 2.99792458e+8. [OpenSCAD does not support octal or hexadecimal notation for numbers.]
</p><p>In additional to decimal numerals, the following names for special numbers are defined:
</p>
<ul><li><code>PI</code></li></ul>
<p>OpenSCAD has only a single kind of number, which is a 64 bit IEEE floating point number. OpenSCAD does not distinguish integers and floating point numbers as two different types, nor does it support complex numbers. Because OpenSCAD uses the IEEE floating point standard, there are a few deviations from the behaviour of numbers in mathematics:
</p>
<ul><li>We use binary floating point. A fractional number is not represented exactly unless the denominator is a power of 2. For example, 0.2 (2/10) does not have an exact internal representation, but 0.25 (1/4) and 0.125 (1/8) are represented exactly.</li>
<li>The largest representable number is about 1e308. If a numeric result is too large, then the result can be infinity (printed as inf by echo).</li>
<li>The smallest representable number is about -1e308. If a numeric result is too small, then the result can be -infinity (printed as -inf by echo).</li>
<li>If a numeric result is invalid, then the result can be Not A Number (printed as nan by echo).</li>
<li>If a non-zero numeric result is too close to zero to be representable, then the result is -0 if the result is negative, otherwise it is 0. Zero (0) and negative zero (-0) are treated as two distinct numbers by some of the math operations, and are printed differently by 'echo', although they compare as equal.</li></ul>
<p>The constants <code>inf</code> and <code>nan</code> are not supported as numeric constants by OpenSCAD, even though you can compute numbers that are printed this way by 'echo'. You can define variables with these values by using:
</p>
<pre>inf = 1e200 * 1e200;
nan = 0 / 0;
echo(inf,nan);
</pre>
<p>The value <code>nan</code> is the only OpenSCAD value that is not equal to any other value, including itself. Although you can test if a variable 'x' has the undefined value using 'x == undef', you can't use 'x == 0/0' to test if x is Not A Number. Instead, you must use 'x&#160;!= x' to test if x is nan.
</p>
<h3><span class="mw-headline" id="Boolean_values">Boolean values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Boolean values">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-4" title="Edit section: Boolean values">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Booleans are variables with two states, typically denoted in OpenSCAD as true and false.  
Boolean variables are typically generated by conditional tests and are employed by conditional statement 'if()'. conditional operator '?&#160;:', 
and generated by logical operators <code>!</code> (not), <code>&amp;&amp;</code> (and), and <code>||</code> (or).  Statements such as <code>if()</code> actually accept non-boolean variables, but most values are converted to <code>true</code> in a boolean context. The values that count as <code>false</code> are:
</p>
<ul><li><code>false</code></li>
<li><code>0</code> and <code>-0</code></li>
<li><code>""</code></li>
<li><code>[]</code></li>
<li><code>undef</code></li></ul>
<p>Note that <code>"false"</code> (the string), <code>[0]</code> (a numeric vector), 
<code>[ [] ]</code> (a vector containing an empty vector), <code>[false]</code> 
(a vector containing the Boolean value false) and <code>0/0</code> (not a number) all count as true.
</p>
<h3><span class="mw-headline" id="Strings">Strings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Strings">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-5" title="Edit section: Strings">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A string is a sequence of zero or more unicode characters. String values are used to specify file names when importing a file, and to display text for debugging purposes when using echo(). Strings can also be used with the <a href="/wiki/OpenSCAD_User_Manual/Text" title="OpenSCAD User Manual/Text"><b>text()</b> primitive</a>, added in version <b>2015.03</b>.
</p><p>A string literal is written as a sequence of characters enclosed in quotation marks <code>"</code>, like this: <code>""</code> (an empty string), or <code>"this is a string"</code>.
</p><p>To include a <code>"</code> character in a string literal, use <code>\"</code>. To include a <code>\</code> character in a string literal, use <code>\\</code>. The following escape sequences beginning with <code>\</code> can be used within string literals:
</p>
<ul><li>\" → "</li>
<li>\\ → \</li>
<li>\t → tab</li>
<li>\n → newline</li>
<li>\r → carriage return</li>
<li>\x21 →&#160;! - only valid in the range from \x01 to \x7f, \x00 produces a space</li>
<li>\u03a9 → Ω - 4 digit unicode code point, see <b>text()</b> for further information on unicode characters</li>
<li>\U01f600 → 😀 - 6 digit unicode code point</li></ul>
<p>This behavior is new since OpenSCAD-2011.04. You can upgrade old files using the following sed command: <code>sed 's/\\/\\\\/g' non-escaped.scad &gt; escaped.scad</code>
</p><p><b>Example:</b>
</p>
<pre> echo("The quick brown fox \tjumps \"over\" the lazy dog.\rThe quick brown fox.\nThe \\lazy\\ dog.");
  
 <b>result</b><br />
   ECHO: "The quick brown fox     jumps "over" the lazy dog.
   The quick brown fox.
   The \lazy\ dog."
  
 <b>old result</b>
   ECHO: "The quick brown fox \tjumps \"over\" the lazy dog.
   The quick brown fox.\nThe \\lazy\\ dog."
</pre>
<h3><span class="mw-headline" id="Ranges">Ranges</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Ranges">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-6" title="Edit section: Ranges">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Ranges are used by <a href="/wiki/OpenSCAD_User_Manual/Conditional_and_Iterator_Functions#For_Loop" title="OpenSCAD User Manual/Conditional and Iterator Functions"> for() loops</a> and <a href="/wiki/OpenSCAD_User_Manual/User-Defined_Functions_and_Modules#Children" title="OpenSCAD User Manual/User-Defined Functions and Modules">children()</a>. They have 2 varieties:
</p>
<dl><dd>[&lt;<i>start</i>&gt;:&lt;<i>end</i>&gt;]</dd>
<dd>[&lt;<i>start</i>&gt;:&lt;<i>increment</i>&gt;:&lt;<i>end</i>&gt;]</dd></dl>
<p>Although enclosed in square brackets [] , they are not vectors. They use colons&#160;: for separators rather than commas.
</p>
<pre>r1 = [0:10];
r2 = [0.5:2.5:20];
echo(r1); // ECHO: [0: 1: 10]
echo(r2); // ECHO: [0.5: 2.5: 20]
</pre>
<p>You should avoid step values that cannot be represented exactly as binary floating point numbers. Integers are okay, as are fractional values whose denominator is a power of two. For example, 0.25 (1/4) and 0.125 (1/8) are safe, but 0.2 (2/10) should be avoided. The problem with these step values is that your range may have too many or too few elements, due to inexact arithmetic.
</p><p>A missing &lt;<i>increment</i>&gt; defaults to 1. A range in the form  [&lt;<i>start</i>&gt;:&lt;<i>end</i>&gt;] with &lt;<i>start</i>&gt; greater than &lt;<i>end</i>&gt; generates a warning and is equivalent to [&lt;<i>end</i>&gt;: 1: &lt;<i>start</i>&gt;]. A range in the form  [&lt;<i>start</i>&gt;:1:&lt;<i>end</i>&gt;] with &lt;<i>start</i>&gt; greater than &lt;<i>end</i>&gt; does not generate a warning and is equivalent to []. The &lt;<i>increment</i>&gt; in a range may be negative (for versions after 2014).
</p>
<h3><span class="mw-headline" id="The_undefined_value">The undefined value</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: The undefined value">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-7" title="Edit section: The undefined value">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The undefined value is a special value written as <code>undef</code>. It is the initial value of a variable that hasn't been assigned a value, and it is often returned as a result by functions or operations that are passed illegal arguments. Finally, <code>undef</code> can be used as a null value, equivalent to <code>null</code> or <code>NULL</code> in other programming languages.
</p><p>All arithmetic expressions containing <code>undef</code> values evaluate as <code>undef</code>. In logical expressions, <code>undef</code> is equivalent to <code>false</code>. Relational operator expressions with <code>undef</code> evaluate as <code>false</code> except for <code>undef==undef</code> which is <code>true</code>.
</p><p>Note that numeric operations may also return 'nan' (not-a-number) to indicate an illegal argument. For example, <code>0/false</code> is <code>undef</code>, but <code>0/0</code> is 'nan'. Relational operators like &lt; and &gt; return <code>false</code> if passed illegal arguments. Although <code>undef</code> is a language value, 'nan' is not.
</p>
<h2><span class="mw-headline" id="Variables">Variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-8" title="Edit section: Variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>OpenSCAD variables are created by a statement with a name or <a href="https://en.wikipedia.org/wiki/Identifier_(computer_programming)" class="extiw" title="w:Identifier (computer programming)">identifier</a>, assignment via an expression and a semicolon. The role of arrays, found in many imperative languages, is handled in OpenSCAD via vectors. Currently valid identifiers can only be composed of simple characters and underscores [a-zA-Z0-9_] and do not allow high-ascii or unicode characters.
</p>
<pre>var = 25;
xx = 1.25 * cos(50);
y = 2*xx+var;
logic = true;
MyString = "This is a string";
a_vector = [1,2,3];
rr = a_vector[2];      // member of vector
range1 = [-1.5:0.5:3]; // for() loop range
xx = [0:5];            // alternate for() loop range
</pre>
<p>OpenSCAD is a <a href="https://en.wikipedia.org/wiki/Functional_programming" class="extiw" title="w:Functional programming"> Functional</a> programming language, as such <a href="https://en.wikipedia.org/wiki/Variable_(computer_science))" class="extiw" title="w:Variable (computer science))">variables</a> are bound to expressions and keep a single value during their entire lifetime due to the requirements of <a href="https://en.wikipedia.org/wiki/Referential_transparency_(computer_science)" class="extiw" title="w:Referential transparency (computer science)">referential transparency</a>. In <a href="https://en.wikipedia.org/wiki/Imperative_programming" class="extiw" title="w:Imperative programming">imperative languages</a>, such as C, the same behavior is seen as constants, which are typically contrasted with normal variables. 
</p><p>In other words OpenSCAD variables are more like constants, but with an important difference. If variables are assigned a value multiple times, only the last assigned value is used in all places in the code. See further discussion at <a href="#Variables_are_set_at_compile-time,_not_run-time">Variables are set at compile-time, not run-time</a>.  This behavior is due to the need to supply variable input on the <a href="/wiki/OpenSCAD_User_Manual/Using_OpenSCAD_in_a_command_line_environment" title="OpenSCAD User Manual/Using OpenSCAD in a command line environment">command line</a>, via the use of <i>-D variable=value</i> option. OpenSCAD currently places that assignment at the end of the source code, and thus must allow a variable's value to be changed for this purpose.
</p><p>Values cannot be modified during run time; all variables are effectively constants that do not change. Each variable retains its last assigned value at compile time, in line with <a href="https://en.wikipedia.org/wiki/Functional_programming" class="extiw" title="w:Functional programming">Functional</a> programming languages. Unlike <a href="https://en.wikipedia.org/wiki/Imperative_programming" class="extiw" title="w:Imperative programming">Imperative</a> languages, such as C, OpenSCAD is not an iterative language, and as such the concept of <i>x&#160;=&#160;x&#160;+&#160;1</i> is not valid. Understanding this concept leads to understanding the beauty of OpenSCAD.
</p><p><b>Before version 2015.03</b>, it was not possible to do assignments at any place except the file top-level and module top-level. Inside an <i>if/else</i>&#160; or <i>for</i>&#160; loop, assign() was needed.
</p><p><b>Since version 2015.03</b>, variables can now be assigned in any scope. Note that assignments are only valid within the scope in which they are defined - you are still not allowed to leak values to an outer scope. See <a href="#Scope_of_variables">Scope of variables</a> for more details.
</p>
<pre>a=0;
if (a==0) 
  {
 a=1; //  before 2015.03 this line would generate a Compile Error
      //  since 2015.03  no longer an error, but the value a=1 is confined to within the braces {}
  }
</pre>
<h3><span class="mw-headline" id="Undefined_variable">Undefined variable</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Undefined variable">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-9" title="Edit section: Undefined variable">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A non assigned variable has the special value <b>undef</b>.
It could be tested in conditional expression, and returned by a function.
</p>
<pre> <b>Example</b>
  
 echo("Variable a is ", a);                // Variable a is undef
 if (a==undef) {
   echo("Variable a is tested undefined"); // Variable a is tested undefined
 }
</pre>
<h3><span class="mw-headline" id="Scope_of_variables">Scope of variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Scope of variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-10" title="Edit section: Scope of variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When operators such as translate() and color() need to encompass more than one action ( actions end in&#160;;), braces {} are needed to group the actions, creating a new, inner scope.
When there is only one semicolon, braces are usually optional.
</p><p>Each pair of braces creates a new scope inside the scope where they were used. <b>Since 2015.03</b>, new variables can be created within this new scope. New values can be given to variables which were created in an outer scope . 
These variables and their values are also available to further inner scopes created within this scope, but are <b>not available</b> to anything outside this scope. Variables still have only the last value assigned within a scope.
</p>
<pre>                       // scope 1
 a = 6;                // create a
 echo(a,b);            //                6, undef
 translate([5,0,0]){   // scope 1.1
   a= 10;
   b= 16;              // create b
   echo(a,b);          //              100, 16   a=10; was overridden by later a=100;
   color("blue") {     // scope 1.1.1
     echo(a,b);        //              100, 20
     cube();
     b=20;
   }                   // back to 1.1
   echo(a,b);          //              100, 16
   a=100;              // override a in 1.1
 }                     // back to 1   
 echo(a,b);            //                6, undef
 color("red"){         // scope 1.2
   cube();
   echo(a,b);          //                6, undef
 }                     // back to 1
 echo(a,b);            //                6, undef
  
 //In this example, scopes 1 and 1.1 are outer scopes to 1.1.1 but 1.2 is not.
</pre>
<dl><dd><b>Anonymous scopes</b> are not considered scopes:</dd></dl>
<pre> {
   angle = 45;
 }
 rotate(angle) square(10);
</pre>
<p>For() loops are not an exception to the rule about variables having only one value within a scope. A copy of loop contents is created for each pass. Each pass is given its own scope, allowing any variables to have unique values for that pass. No, you still can't do a=a+1;
</p>
<h3><span id="Variables_are_set_at_compile-time.2C_not_run-time"></span><span class="mw-headline" id="Variables_are_set_at_compile-time,_not_run-time">Variables are set at compile-time, not run-time</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: Variables are set at compile-time, not run-time">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-11" title="Edit section: Variables are set at compile-time, not run-time">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Because OpenSCAD calculates its variable values at compile-time, not run-time, the last variable assignment within a scope applies everywhere in that scope or inner scopes thereof. It may be helpful to think of them as override-able constants rather than as variables. 
</p>
<pre>// The value of 'a' reflects only the last set value
   a = 0;
   echo(a);  // 5
   a = 3;
   echo(a);  // 5
   a = 5;
</pre>
<p>While this appears to be counter-intuitive, it allows you to do some interesting things: for instance, if you set up your shared library files to have default values defined as variables at their root level, when you include that file in your own code you can 're-define' or override those constants by simply assigning a new value to them. So changing constant values gives you more flexibility. If constants would never change, of course, you always can be sure having the value you see in any constant definition. Not so here.  If you see a constant value definition at any other place its value could be different. This is very flexible.
</p><p>The preceding description appears to differ from the behaviour of OpenScad as at May 23 2022. At that date, running the above example causes the following output:
</p>
<blockquote><p><a href="/w/index.php?title=3,C:/Program_Files/OpenSCAD/libraries/Helpers&amp;action=edit&amp;redlink=1" class="new" title="3,C:/Program Files/OpenSCAD/libraries/Helpers (does not exist)">WARNING: a was assigned on line 1 of "Untitled" but was overwritten in file Untitled, line 3</a> 
Execution aborted</p></blockquote><p>Perhaps this document has not been kept up to date.
</p><p>For years, the behavior has been to show the error you present.
The documentation is a clown show in many areas.
</p>
<h3><span class="mw-headline" id="Special_variables">Special variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: Special variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-12" title="Edit section: Special variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Special variables provide an alternate means of passing arguments to modules and functions.
All variables starting with a '$' are special variables, similar to special variables in lisp.
As such they are more dynamic than regular variables.
(for more details see <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features#Special_variables" title="OpenSCAD User Manual/Other Language Features">Other Language Features</a>)
</p>
<h2><span class="mw-headline" id="Vectors">Vectors</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: Vectors">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-13" title="Edit section: Vectors">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A vector or list is a sequence of zero or more OpenSCAD values. Vectors are a collection of numeric or boolean values, variables, vectors, strings or any combination thereof. They can also be expressions which evaluate to one of these. Vectors handle the role of arrays found in many imperative languages.
The information here also applies to lists and tables which use vectors for their data.
</p><p>A vector has square brackets, [] enclosing zero or more items (elements or members), separated by commas. A vector can contain vectors, which contain vectors, etc.
</p><p><b>Examples</b>
</p>
<pre>   [1,2,3]
   [a,5,b]
   []
   [5.643]
   ["a","b","string"]
   [[1,r],[x,y,z,4,5]]
   [3, 5, [6,7], [[8,9],[10,[11,12],13], c, "string"]
   [4/3, 6*1.5, cos(60)]
</pre>
<p>use in OpenSCAD:
</p>
<pre>  cube( [width,depth,height] );           // optional spaces shown for clarity
  translate( [x,y,z] )
  polygon( [ [x<sub>0</sub>,y<sub>0</sub>],  [x<sub>1</sub>,y<sub>1</sub>],  [x<sub>2</sub>,y<sub>2</sub>] ] );
</pre>
<h3><span class="mw-headline" id="Creation">Creation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-14" class="mw-editsection-visualeditor" title="Edit section: Creation">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-14" title="Edit section: Creation">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Vectors are created by writing the list of elements, separated by commas, and enclosed in square brackets. Variables are replaced by their values.
</p>
<pre>  cube([10,15,20]);
  a1 = [1,2,3];
  a2 = [4,5];
  a3 = [6,7,8,9];
  b  = [a1,a2,a3];    // [ [1,2,3], [4,5], [6,7,8,9] ]  note increased nesting depth
</pre>
<h3><span class="mw-headline" id="Indexing_elements_within_vectors">Indexing elements within vectors</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-15" class="mw-editsection-visualeditor" title="Edit section: Indexing elements within vectors">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-15" title="Edit section: Indexing elements within vectors">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Elements within vectors are numbered from 0 to n-1 where n is the length returned by <a href="#len">len()</a>.
Address elements within vectors with the following notation:
</p>
<pre>e[5]           // element no 5 (sixth) at   1st nesting level
e[5][2]        // element 2 of element 5    2nd nesting level
e[5][2][0]     // element 0 of 2 of 5       3rd nesting level
e[5][2][0][1]  // element 1 of 0 of 2 of 5  4th nesting level
</pre>
<div id="example1"> example elements with lengths from len()</div>
<pre>e = [ [1], [], [3,4,5], "string", "x", [[10,11],[12,13,14],[[15,16],[17]]] ];  // length 6

address       length  element
e[0]          1       [1]
e[1]          0       []
e[5]          3       [ [10,11], [12,13,14], [[15,16],[17]] ]
e[5][1]       3       [ 12, 13, 14 ]
e[5][2]       2       [ [15,16], [17] ]
e[5][2][0]    2       [ 15, 16 ]
e[5][2][0][1] undef   16
    
e[3]          6       "string"
e[3 ][2]      1       "r"
  
s = [2,0,5]; a = 2;
s[a]          undef   5
e[s[a]]       3       [ [10,11], [12,13,14], [[15,16],[17]] ]
</pre>
<h4><span class="mw-headline" id="Dot_notation_indexing">Dot notation indexing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-16" class="mw-editsection-visualeditor" title="Edit section: Dot notation indexing">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-16" title="Edit section: Dot notation indexing">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The first three elements of a vector can be accessed with an alternate dot notation:
</p>
<pre>e.x    //equivalent to e[0]
e.y    //equivalent to e[1]
e.z    //equivalent to e[2]
</pre>
<h3><span class="mw-headline" id="Vector_operators">Vector operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-17" class="mw-editsection-visualeditor" title="Edit section: Vector operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-17" title="Edit section: Vector operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="concat">concat</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-18" class="mw-editsection-visualeditor" title="Edit section: concat">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-18" title="Edit section: concat">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p><code>concat()</code> combines the elements of 2 or more vectors into a single vector. No change in nesting level is made.
</p>
<pre> vector1 = [1,2,3]; vector2 = [4]; vector3 = [5,6];
 new_vector = concat(vector1, vector2, vector3); // [1,2,3,4,5,6]
  
 string_vector = concat("abc","def");                 // ["abc", "def"]
 one_string = str(string_vector[0],string_vector[1]); // "abcdef"
</pre>
<h4><span class="mw-headline" id="len">len</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-19" class="mw-editsection-visualeditor" title="Edit section: len">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-19" title="Edit section: len">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><code>len()</code> is a function which returns the length of vectors or strings. 
Indices of elements are from [0] to [length-1].
</p>
<dl><dd><b>vector</b>
<dl><dd>Returns the number of elements at this level.</dd>
<dd>Single values, which are <b>not</b> vectors, raise an error.</dd></dl></dd>
<dd><b>string</b>
<dl><dd>Returns the number of characters in string.</dd></dl></dd></dl>
<pre> a = [1,2,3]; echo(len(a));   //  3
</pre>
<p><a href="#example1">See example elements with lengths</a>
</p>
<h3><span class="mw-headline" id="Matrix">Matrix</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-20" class="mw-editsection-visualeditor" title="Edit section: Matrix">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-20" title="Edit section: Matrix">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A matrix is a vector of vectors.
</p>
<pre>Example which defines a 2D rotation matrix
mr = [
     [cos(angle), -sin(angle)],
     [sin(angle),  cos(angle)]
    ];
</pre>
<h2><span class="mw-headline" id="Getting_input">Getting input</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-21" class="mw-editsection-visualeditor" title="Edit section: Getting input">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-21" title="Edit section: Getting input">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There is no mechanism for variable input from keyboard or reading from arbitrary files.  There is no prompting mechanism, no input window, or input fields or any way to manually enter data while the script is running.
</p><p>Data can only be set as constants at the start of the script and by means of accessing data in a few file formats like stl, dxf, png, etc.
</p><p>With the exception of DXF files, this data is not accessible to the script, although in a limited extent the script may be able to manipulate the 
</p><p>data as a whole.  For example, STL files can be rendered in OpenScad translated, clipped, etc.  But the internal data that constitutes the STL file is inaccessible.
</p><p>This is a necessity that results from the nature of the "language". Everything must be static and immutable so that the scrip runs in a static and immutable way that is the primary "utility" of Crazy Town functional "programming".  
</p><p><br />
Now we have variables, it would be nice to be able to get input into them instead of setting the values from code. There are a few functions to read data from DXF files, or you can set a variable with the -D switch on the command line.
</p>
<h3><span class="mw-headline" id="Getting_a_point_from_a_drawing">Getting a point from a drawing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-22" class="mw-editsection-visualeditor" title="Edit section: Getting a point from a drawing">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-22" title="Edit section: Getting a point from a drawing">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Getting a point is useful for reading an origin point in a 2D view in a technical drawing. The function dxf_cross reads the intersection of two lines on a layer you specify and returns the intersection point. This means that the point must be given with two lines in the DXF file, and not a point entity.
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">OriginPoint</span> <span class="o">=</span> <span class="n">dxf_cross</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s">&quot;drawing.dxf&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="s">&quot;SCAD.Origin&quot;</span><span class="p">,</span> 
                        <span class="n">origin</span><span class="o">=[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
<h3><span class="mw-headline" id="Getting_a_dimension_value">Getting a dimension value</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;veaction=edit&amp;section=T-23" class="mw-editsection-visualeditor" title="Edit section: Getting a dimension value">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/General&amp;action=edit&amp;section=T-23" title="Edit section: Getting a dimension value">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>You can read dimensions from a technical drawing. This can be useful to read a rotation angle, an extrusion height, or spacing between parts. In the drawing, create a dimension that does not show the dimension value, but an identifier. To read the value, you specify this identifier from your program:
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">TotalWidth</span> <span class="o">=</span> <span class="n">dxf_dim</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s">&quot;drawing.dxf&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;TotalWidth&quot;</span><span class="p">,</span>
                        <span class="n">layer</span><span class="o">=</span><span class="s">&quot;SCAD.Origin&quot;</span><span class="p">,</span> <span class="n">origin</span><span class="o">=[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
<p>For a nice example of both functions, see Example009 and the image on the <a rel="nofollow" class="external text" href="http://www.openscad.org/">homepage of OpenSCAD</a>.
</p>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_2_--_3D_Objects">Chapter 2 -- 3D Objects</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=2" class="mw-editsection-visualeditor" title="Edit section: Chapter 2 -- 3D Objects">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=2" title="Edit section: Chapter 2 -- 3D Objects">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p>
<h2><span class="mw-headline" id="Primitive_Solids"><span class="noprint"><a href="/wiki/Help:Development_stages" title="0% developed&#160; as of November 14, 2009"><img alt="0% developed&#160; as of November 14, 2009" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/60/00_percent.svg/9px-00_percent.svg.png" decoding="async" width="9" height="9" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/60/00_percent.svg/14px-00_percent.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/60/00_percent.svg/18px-00_percent.svg.png 2x" data-file-width="9" data-file-height="9" /></a></span> <a href="/wiki/OpenSCAD_User_Manual/Primitive_Solids" title="OpenSCAD User Manual/Primitive Solids">Primitive Solids</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=3" class="mw-editsection-visualeditor" title="Edit section: Primitive Solids">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=3" title="Edit section: Primitive Solids">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="cube">cube</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: cube">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-1" title="Edit section: cube">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Creates a cube in the first octant. When center is true, the cube is centered on the origin. Argument names are optional if given in the order shown here.
</p>
<pre>cube(size = [x,y,z], center = true/false);
cube(size =  x ,     center = true/false);
</pre>
<dl><dd><b> parameters</b>:</dd></dl>
<dl><dd><dl><dd><b>size</b>
<dl><dd>single value, cube with all sides this length</dd>
<dd>3 value array [x,y,z], cube with dimensions x, y and z.</dd></dl></dd>
<dd><b>center</b>
<dl><dd><b>false</b> (default), 1st (positive) octant, one corner at (0,0,0)</dd>
<dd><b>true</b>, cube is centered at (0,0,0)</dd></dl></dd></dl></dd></dl>
<pre>default values:  cube();   yields:  cube(size = [1, 1, 1], center = false);
</pre>
<dl><dd><b> examples</b>:</dd></dl>
<p><a href="/wiki/File:OpenSCAD_example_Cube.jpg" class="image"><img alt="OpenSCAD example Cube.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/55/OpenSCAD_example_Cube.jpg/150px-OpenSCAD_example_Cube.jpg" decoding="async" width="150" height="143" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/55/OpenSCAD_example_Cube.jpg/225px-OpenSCAD_example_Cube.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/5/55/OpenSCAD_example_Cube.jpg 2x" data-file-width="258" data-file-height="246" /></a>
</p>
<pre>equivalent scripts for this example
 cube(size = 18);
 cube(18);
 cube([18,18,18]);
 .
 cube(18,false);
 cube([18,18,18],false);
 cube([18,18,18],center=false);
 cube(size = [18,18,18], center = false);
 cube(center = false,size = [18,18,18] );
</pre>
<p><a href="/wiki/File:OpenSCAD_example_Box.jpg" class="image"><img alt="OpenSCAD example Box.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/29/OpenSCAD_example_Box.jpg/150px-OpenSCAD_example_Box.jpg" decoding="async" width="150" height="126" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/29/OpenSCAD_example_Box.jpg/225px-OpenSCAD_example_Box.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/2/29/OpenSCAD_example_Box.jpg 2x" data-file-width="246" data-file-height="206" /></a>
</p>
<pre>equivalent scripts for this example
 cube([18,28,8],true);
 box=[18,28,8];cube(box,true);
</pre>
<h3><span class="mw-headline" id="sphere">sphere</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: sphere">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-2" title="Edit section: sphere">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Creates a sphere at the origin of the coordinate system. The r argument name is optional. To use d instead of r, d must be named.
</p><p><b>Parameters</b>
</p>
<dl><dt>r</dt>
<dd>Radius.  This is the radius of the sphere.  The resolution of the sphere is based on the size of the sphere and the $fa, $fs and $fn variables. For more information on these special variables look at: <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features" title="OpenSCAD User Manual/Other Language Features">OpenSCAD_User_Manual/Other_Language_Features</a></dd>
<dt>d</dt>
<dd>Diameter.  This is the diameter of the sphere.</dd>
<dt>$fa</dt>
<dd>Fragment angle in degrees</dd>
<dt>$fs</dt>
<dd>Fragment size in mm</dd>
<dt>$fn</dt>
<dd>Resolution</dd></dl>
<pre> default values:  sphere();   yields:   sphere($fn = 0, $fa = 12, $fs = 2, r = 1);
</pre>
<p><b>Usage Examples</b>
</p>
<pre>sphere(r = 1);
sphere(r = 5);
sphere(r = 10);
sphere(d = 2);
sphere(d = 10);
sphere(d = 20);
</pre>
<pre>// this creates a high resolution sphere with a 2mm radius
sphere(2, $fn=100); 
</pre>
<pre>// also creates a 2mm high resolution sphere but this one 
// does not have as many small triangles on the poles of the sphere
sphere(2, $fa=5, $fs=0.1); 
</pre>
<p><a href="/wiki/File:OpenSCAD_sphere_in_different_sizes.png" class="image" title="Sample OpenSCAD spheres, showing clearly the difference in scale."><img alt="Sample OpenSCAD spheres, showing clearly the difference in scale." src="//upload.wikimedia.org/wikipedia/commons/e/ed/OpenSCAD_sphere_in_different_sizes.png" decoding="async" width="959" height="506" data-file-width="959" data-file-height="506" /></a>
</p>
<h3><span class="mw-headline" id="cylinder">cylinder</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: cylinder">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-3" title="Edit section: cylinder">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Creates a cylinder or cone centered about the z axis. When center is true, it is also centered vertically along the z axis.
</p><p>Parameter names are optional if given in the order shown here. If a parameter is named, all following parameters must also be named.
</p>
<pre>cylinder(h = height, r1 = BottomRadius, r2 = TopRadius, center = true/false);
</pre>
<p>NOTES: 
</p><p>The 2nd &amp; 3rd positional parameters are r1 &amp; r2, if r, d, d1 or d2 are used they must be named.
</p><p>Using r1 &amp; r2 or d1 &amp; d2 with either value of zero will make a cone shape, a non-zero non-equal value will produce a section of a cone (a <a href="https://en.wikipedia.org/wiki/Frustum" class="extiw" title="w:Frustum">Conical Frustum</a>). r1 &amp; d1 define the base width, at [0,0,0], and r2 &amp; d2 define the top width.
</p>
<dl><dd><b>Parameters</b></dd></dl>
<dl><dd><dl><dd><b>h</b>&#160;: height of the cylinder or cone</dd>
<dd><b>r </b>&#160;: radius of cylinder. r1 = r2 = r.</dd>
<dd><b>r1</b>&#160;: radius, bottom of cone.</dd>
<dd><b>r2</b>&#160;: radius, top of cone.</dd>
<dd><b>d </b>&#160;: diameter of cylinder. r1 = r2 = d / 2. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2014.03</span></span>]</span></dd>
<dd><b>d1</b>&#160;: diameter, bottom of cone. r1 = d1 / 2. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2014.03</span></span>]</span></dd>
<dd><b>d2</b>&#160;: diameter, top of cone. r2 = d2 / 2. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2014.03</span></span>]</span></dd>
<dd><b>center</b>
<dl><dd><b>false</b> (default), z ranges from 0 to h</dd>
<dd><b>true</b>,  z ranges from -h/2 to +h/2</dd></dl></dd>
<dd><b>$fa</b>&#160;: minimum angle (in degrees) of each fragment.</dd>
<dd><b>$fs</b>&#160;: minimum circumferential length of each fragment.</dd>
<dd><b>$fn</b>&#160;: <b>fixed</b> number of fragments in 360 degrees. Values of 3 or more override $fa and $fs
<dl><dd>$fa, $fs and $fn must be named parameters. <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features" title="OpenSCAD User Manual/Other Language Features">click here for more details,</a>.</dd></dl></dd></dl></dd></dl>
<pre>defaults: cylinder();  yields: cylinder($fn = 0, $fa = 12, $fs = 2, h = 1, r1 = 1, r2 = 1, center = false);
</pre>
<p><a href="/wiki/File:OpenSCAD_Cone_15x10x20.jpg" class="image"><img alt="OpenSCAD Cone 15x10x20.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d1/OpenSCAD_Cone_15x10x20.jpg/200px-OpenSCAD_Cone_15x10x20.jpg" decoding="async" width="200" height="163" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d1/OpenSCAD_Cone_15x10x20.jpg/300px-OpenSCAD_Cone_15x10x20.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/d/d1/OpenSCAD_Cone_15x10x20.jpg 2x" data-file-width="339" data-file-height="276" /></a>
</p>
<pre>equivalent scripts
 cylinder(h=15, r1=9.5, r2=19.5, center=false);
 cylinder(  15,    9.5,    19.5, false);
 cylinder(  15,    9.5,    19.5);
 cylinder(  15,    9.5, d2=39  );
 cylinder(  15, d1=19,  d2=39  );
 cylinder(  15, d1=19,  r2=19.5);
</pre>
<p><a href="/wiki/File:OpenSCAD_Cone_15x10x0.jpg" class="image"><img alt="OpenSCAD Cone 15x10x0.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/24/OpenSCAD_Cone_15x10x0.jpg/200px-OpenSCAD_Cone_15x10x0.jpg" decoding="async" width="200" height="154" srcset="//upload.wikimedia.org/wikipedia/commons/2/24/OpenSCAD_Cone_15x10x0.jpg 1.5x" data-file-width="248" data-file-height="191" /></a>
</p>
<pre>equivalent scripts
 cylinder(h=15, r1=10, r2=0, center=true);
 cylinder(  15,    10,    0,        true);
 cylinder(h=15, d1=20, d2=0, center=true);
</pre>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:15px auto;"><a href="/wiki/File:OpenSCAD_Cylinder_20x10_false.jpg" class="image" title="center = false"><img alt="center = false" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fa/OpenSCAD_Cylinder_20x10_false.jpg/112px-OpenSCAD_Cylinder_20x10_false.jpg" decoding="async" width="112" height="120" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fa/OpenSCAD_Cylinder_20x10_false.jpg/167px-OpenSCAD_Cylinder_20x10_false.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/fa/OpenSCAD_Cylinder_20x10_false.jpg/223px-OpenSCAD_Cylinder_20x10_false.jpg 2x" data-file-width="307" data-file-height="330" /></a></div></div>
			<div class="gallerytext">
<p>center = false
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:15px auto;"><a href="/wiki/File:OpenSCAD_Cylinder_20x10_true.jpg" class="image" title="center = true"><img alt="center = true" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/dc/OpenSCAD_Cylinder_20x10_true.jpg/100px-OpenSCAD_Cylinder_20x10_true.jpg" decoding="async" width="100" height="120" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/dc/OpenSCAD_Cylinder_20x10_true.jpg/150px-OpenSCAD_Cylinder_20x10_true.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/dc/OpenSCAD_Cylinder_20x10_true.jpg/200px-OpenSCAD_Cylinder_20x10_true.jpg 2x" data-file-width="284" data-file-height="341" /></a></div></div>
			<div class="gallerytext">
<p>center = true
</p>
			</div>
		</div></li>
</ul>
<pre>equivalent scripts
 cylinder(h=20, r=10, center=true);
 cylinder(  20,   10, 10,true);
 cylinder(  20, d=20, center=true);
 cylinder(  20,r1=10, d2=20, center=true);
 cylinder(  20,r1=10, d2=2*10, center=true);
</pre>
<dl><dd><b>use of $fn</b></dd></dl>
<p>Larger values of $fn create smoother, more circular, surfaces at the cost of longer rendering time. Some use medium values during development for the faster rendering, then change to a larger value for the final F6 rendering. 
</p><p>However, use of small values can produce some interesting non circular objects. A few examples are show here:
</p>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:31px auto;"><a href="/wiki/File:3_sided_fiqure.jpg" class="image"><img alt="3 sided fiqure.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/95/3_sided_fiqure.jpg/120px-3_sided_fiqure.jpg" decoding="async" width="120" height="88" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/95/3_sided_fiqure.jpg/180px-3_sided_fiqure.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/95/3_sided_fiqure.jpg/240px-3_sided_fiqure.jpg 2x" data-file-width="421" data-file-height="309" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:29.5px auto;"><a href="/wiki/File:4_sided_pyramid.jpg" class="image"><img alt="4 sided pyramid.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/24/4_sided_pyramid.jpg/120px-4_sided_pyramid.jpg" decoding="async" width="120" height="91" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/24/4_sided_pyramid.jpg/180px-4_sided_pyramid.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/24/4_sided_pyramid.jpg/240px-4_sided_pyramid.jpg 2x" data-file-width="348" data-file-height="264" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:23px auto;"><a href="/wiki/File:4_sided_part_pyramid.jpg" class="image"><img alt="4 sided part pyramid.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/93/4_sided_part_pyramid.jpg/120px-4_sided_part_pyramid.jpg" decoding="async" width="120" height="104" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/93/4_sided_part_pyramid.jpg/180px-4_sided_part_pyramid.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/93/4_sided_part_pyramid.jpg/240px-4_sided_part_pyramid.jpg 2x" data-file-width="343" data-file-height="297" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<pre>scripts for these examples
 cylinder(20,20,20,$fn=3);
 cylinder(20,20,00,$fn=4);
 cylinder(20,20,10,$fn=4);
</pre>
<dl><dd><b>undersized holes</b></dd></dl>
<p>Using cylinder() with difference() to place holes in objects creates undersized holes. This is because circular paths are approximated with polygons inscribed within in a circle. The points of the polygon are on the circle, but straight lines between are inside. To have all of the hole larger than the true circle, the polygon must lie wholly outside of the circle (circumscribed). <a href="/wiki/OpenSCAD_User_Manual/undersized_circular_objects" title="OpenSCAD User Manual/undersized circular objects">Modules for circumscribed holes</a>
</p>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:18px auto;"><a href="/wiki/File:OpenSCAD_Under_size_hole.jpg" class="image"><img alt="OpenSCAD Under size hole.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/85/OpenSCAD_Under_size_hole.jpg/120px-OpenSCAD_Under_size_hole.jpg" decoding="async" width="120" height="114" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/85/OpenSCAD_Under_size_hole.jpg/180px-OpenSCAD_Under_size_hole.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/8/85/OpenSCAD_Under_size_hole.jpg/240px-OpenSCAD_Under_size_hole.jpg 2x" data-file-width="488" data-file-height="465" /></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<pre>script for this example
 poly_n = 6;
 color("blue") translate([0, 0, 0.02]) linear_extrude(0.1) circle(10, $fn=poly_n);
 color("green") translate([0, 0, 0.01]) linear_extrude(0.1) circle(10, $fn=360);
 color("purple") linear_extrude(0.1) circle(10/cos(180/poly_n), $fn=poly_n);
</pre>
<h3><span class="mw-headline" id="polyhedron">polyhedron</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: polyhedron">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-4" title="Edit section: polyhedron">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>A polyhedron is the most general 3D primitive solid. It can be used to create any regular or irregular shape including those with concave as well as convex features. Curved surfaces are approximated by a series of flat surfaces.
</p>
<pre>polyhedron( points = [ [X<sub>0</sub>, Y<sub>0</sub>, Z<sub>0</sub>], [X<sub>1</sub>, Y<sub>1</sub>, Z<sub>1</sub>], ... ], triangles = [ [P<sub>0</sub>, P<sub>1</sub>, P<sub>2</sub>], ... ], convexity = N);   // before 2014.03
polyhedron( points = [ [X<sub>0</sub>, Y<sub>0</sub>, Z<sub>0</sub>], [X<sub>1</sub>, Y<sub>1</sub>, Z<sub>1</sub>], ... ], faces = [ [P<sub>0</sub>, P<sub>1</sub>, P<sub>2</sub>, P<sub>3</sub>, ...], ... ], convexity = N);   // 2014.03 &amp; later
</pre>
<dl><dd><b>Parameters</b>
<dl><dd><b>points</b>
<dl><dd>Vector of 3d points or vertices. Each point is in turn a vector, [x,y,z], of its coordinates.</dd>
<dd>Points may be defined in any order. N points are referenced, in the order defined, as 0 to N-1.</dd></dl></dd></dl></dd></dl>
<dl><dd><dl><dd><b>triangles</b> [<i><span style="font-weight: bold; color: #A00000;">Deprecated:</span> <b>triangles</b> will be removed in future releases.&#160;Use <b>faces</b> parameter instead</i>]
<dl><dd>Vector of faces that collectively enclose the solid. Each face is a vector containing the indices (0 based) of 3 points from the points vector.</dd></dl></dd></dl></dd></dl>
<dl><dd><dl><dd><b>faces</b> <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2014.03</span></span>]</span>
<dl><dd>Vector of faces that collectively enclose the solid. Each face is a vector containing the indices (0 based) of 3 or more points from the points vector.</dd>
<dd>Faces may be defined in any order. Define enough faces to fully enclose the solid, with no overlap.</dd>
<dd>If points that describe a single face are not on the same plane, the face is automatically split into triangles as needed.</dd></dl></dd></dl></dd></dl>
<dl><dd><dl><dd><b>convexity</b>
<dl><dd>Integer. The convexity parameter specifies the maximum number of faces a ray intersecting the object might penetrate. This parameter is needed only for correct display of the object in OpenCSG preview mode. It has no effect on the polyhedron rendering. For display problems, setting it to 10 should work fine for most cases.</dd></dl></dd></dl></dd></dl>
<pre> default values: polyhedron(); yields: polyhedron(points = undef, faces = undef, convexity = 1);
</pre>
<p><br />
</p><p>It is arbitrary which point you start with, but all faces must have points ordered in <b>clockwise</b> direction when looking at each face from outside <b>inward</b>. The back is viewed from the back, the bottom from the bottom, etc. Another way to remember this ordering requirement is to use the right-hand rule. Using your right-hand, stick your thumb up and curl your fingers as if giving the thumbs-up sign, point your thumb into the face, and order the points in the direction your fingers curl.  Try this on the example below.
</p><p><br />
</p>
<dl><dd><b>Example 1</b> Using polyhedron to generate cube( [ 10, 7, 5 ] );</dd></dl>
<div class="thumb tleft"><div class="thumbinner" style="width:311px;"><a href="/wiki/File:Cube_numbers.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/b/b1/Cube_numbers.jpg" decoding="async" width="309" height="307" class="thumbimage" data-file-width="309" data-file-height="307" /></a>  <div class="thumbcaption">point numbers for cube</div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:513px;"><a href="/wiki/File:Cube_flat.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/d/d0/Cube_flat.jpg" decoding="async" width="511" height="310" class="thumbimage" data-file-width="511" data-file-height="310" /></a>  <div class="thumbcaption">unfolded cube faces</div></div></div></div> 
<pre><br />
CubePoints = [
  [  0,  0,  0 ],  //0
  [ 10,  0,  0 ],  //1
  [ 10,  7,  0 ],  //2
  [  0,  7,  0 ],  //3
  [  0,  0,  5 ],  //4
  [ 10,  0,  5 ],  //5
  [ 10,  7,  5 ],  //6
  [  0,  7,  5 ]]; //7
  
CubeFaces = [
  [0,1,2,3],  // bottom
  [4,5,1,0],  // front
  [7,6,5,4],  // top
  [5,6,2,1],  // right
  [6,7,3,2],  // back
  [7,4,0,3]]; // left
  
polyhedron( CubePoints, CubeFaces );
</pre>
<pre>equivalent descriptions of the bottom face
  [0,1,2,3],
  [0,1,2,3,0],
  [1,2,3,0],
  [2,3,0,1],
  [3,0,1,2],
  [0,1,2],[2,3,0],   // 2 triangles with no overlap
  [1,2,3],[3,0,1],
  [1,2,3],[0,1,3],
</pre>
<dl><dd><b>Example 2</b>  A square base pyramid:</dd></dl>
<div class="thumb tnone"><div class="thumbinner" style="width:362px;"><a href="/wiki/File:Openscad-polyhedron-squarebasepyramid.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/d/db/Openscad-polyhedron-squarebasepyramid.png" decoding="async" width="360" height="354" class="thumbimage" data-file-width="360" data-file-height="354" /></a>  <div class="thumbcaption">A simple polyhedron, square base pyramid</div></div></div>
<pre>polyhedron(
  points=[ [10,10,0],[10,-10,0],[-10,-10,0],[-10,10,0], // the four points at base
           [0,0,10]  ],                                 // the apex point 
  faces=[ [0,1,4],[1,2,4],[2,3,4],[3,0,4],              // each triangle side
              [1,0,3],[2,1,3] ]                         // two triangles for square base
 );
</pre>
<dl><dd><b>Example 3</b>  A triangular prism:</dd></dl>
<p>Note: <b>There is an error in this example</b>, a <i>steely-eyed CAD Man</i> noticed the unfolded triangles are incorrect, the hypotenuse should be 1,5 &amp; 0,4.
The correct unfold is to have them next to rectangle A, along sides 1,2 &amp; 0,3. The code has been corrected, hopefully a revised image will arrive in due course.
<br />
</p>
<div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="/wiki/File:Polyhedron_Prism.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Polyhedron_Prism.png/600px-Polyhedron_Prism.png" decoding="async" width="600" height="214" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Polyhedron_Prism.png/900px-Polyhedron_Prism.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Polyhedron_Prism.png/1200px-Polyhedron_Prism.png 2x" data-file-width="1847" data-file-height="660" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Polyhedron_Prism.png" class="internal" title="Enlarge"></a></div>A polyhedron triangular prism</div></div></div>
<pre>  module prism(l, w, h){
      polyhedron(//pt 0        1        2        3        4        5
              points=[[0,0,0], [l,0,0], [l,w,0], [0,w,0], [0,w,h], [l,w,h]],
              faces=[[0,1,2,3],[5,4,3,2],[0,4,5,1],[0,3,4],[5,2,1]]
              );
      
      // preview unfolded (do not include in your function
      z = 0.08;
      separation = 2;
      border = .2;
      translate([0,w+separation,0])
          cube([l,w,z]);
      translate([0,w+separation+w+border,0])
          cube([l,h,z]);
      translate([0,w+separation+w+border+h+border,0])
          cube([l,sqrt(w*w+h*h),z]);
      translate([l+border,w+separation,0])
          polyhedron(//pt 0       1       2        3       4       5
                  points=[[0,0,0],[h,w,0],[0,w,0], [0,0,z],[h,w,z],[0,w,z]],
                  faces=[[0,1,2], [3,5,4], [0,3,4,1], [1,4,5,2], [2,5,3,0]]
                  );
      translate([0-border,w+separation,0])
          polyhedron(//pt 0       1         2        3       4         5
                  points=[[0,0,0],[0-h,w,0],[0,w,0], [0,0,z],[0-h,w,z],[0,w,z]],
                  faces=[[1,0,2],[5,3,4],[0,1,4,3],[1,2,5,4],[2,0,3,5]]
                  );
      }
  
  prism(10, 5, 3);
</pre>
<h4><span class="mw-headline" id="Debugging_polyhedra">Debugging polyhedra</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Debugging polyhedra">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-5" title="Edit section: Debugging polyhedra">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<hr />
<p>Mistakes in defining polyhedra include not having all faces in clockwise order (viewed from outside - a bottom need to be viewed from below), overlap of faces and missing faces or portions of faces. As a general rule, the polyhedron faces should also satisfy manifold conditions:
</p>
<ul><li>exactly two faces should meet at any polyhedron edge.</li>
<li>if two faces have a vertex in common, they should be in the same cycle face-edge around the vertex.</li></ul>
<p>The first rule eliminates polyhedra like two cubes with a common edge and not watertight models; the second excludes polyhedra like two cubes with a common vertex.
</p><p>When viewed from the outside, the points describing each face must be in the same clockwise order, and provides a mechanism for detecting counterclockwise.
When the thrown together view (F12) is used with F5, CCW faces are shown in pink. Reorder the points for incorrect faces. Rotate the object to view all faces. The pink view can be turned off with F10.
</p><p>OpenSCAD allows, temporarily, commenting out part of the face descriptions so that only the remaining faces are displayed. Use // to comment out the rest of the line. Use /* and */ to start and end a comment block. This can be part of a line or extend over several lines. Viewing only part of the faces can be helpful in determining the right points for an individual face. Note that a solid is not shown, only the faces. If using F12, all faces have one pink side. Commenting some faces helps also to show any internal face.
</p><p><br />
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:185px;"><a href="/wiki/File:Cube_2_face.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/9/9e/Cube_2_face.jpg" decoding="async" width="183" height="132" class="thumbimage" data-file-width="183" data-file-height="132" /></a>  <div class="thumbcaption">example 1 showing only 2 faces</div></div></div>
<pre>CubeFaces = [
/* [0,1,2,3],  // bottom
   [4,5,1,0],  // front */
   [7,6,5,4],  // top
/* [5,6,2,1],  // right
   [6,7,3,2],  // back */
   [7,4,0,3]]; // left
</pre>
<p><br clear="all" />
</p><p>After defining a polyhedron, its preview may seem correct. The polyhedron alone may even render fine. However, to be sure it is a valid manifold and that it can generate a valid STL file, union it with any cube and render it (F6). If the polyhedron disappears, it means that it is not correct. Revise the winding order of all faces and the two rules stated above.
</p>
<h4><span class="mw-headline" id="Mis-ordered_faces">Mis-ordered faces</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Mis-ordered faces">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-6" title="Edit section: Mis-ordered faces">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<hr />
<dl><dd><b>Example 4</b>  a more complex polyhedron with mis-ordered faces</dd></dl>
<p>When you select 'Thrown together' from the view menu and <b>compile (preview F5)</b> the design
(<b>not</b> compile and render!) the preview shows the mis-oriented polygons highlighted. Unfortunately this highlighting is not possible in the OpenCSG preview mode because it would interfere with the way the OpenCSG preview mode is implemented.)
</p><p>Below you can see the code and the picture of such a problematic polyhedron, the bad polygons (faces or compositions of faces) are in pink.
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Bad polyhedron</span>
<span class="n">polyhedron</span>
    <span class="p">(</span><span class="n">points</span> <span class="o">=</span> <span class="o">[</span>
	       <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> 
	       <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span>
	       <span class="o">]</span><span class="p">,</span> 
     <span class="n">faces</span> <span class="o">=</span> <span class="o">[</span>
		  <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span>   <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span>   <span class="o">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span>
                  <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span>
		  <span class="o">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="o">]</span><span class="p">,</span>
                  <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span>  
                  <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
		  <span class="o">]</span>
     <span class="p">);</span>
</pre></div>
<div class="thumb tnone"><div class="thumbinner" style="width:356px;"><a href="/wiki/File:Openscad-bad-polyhedron.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/f/f2/Openscad-bad-polyhedron.png" decoding="async" width="354" height="329" class="thumbimage" data-file-width="354" data-file-height="329" /></a>  <div class="thumbcaption">Polyhedron with badly oriented polygons</div></div></div>
<p>A correct polyhedron would be the following:
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">polyhedron</span>
    <span class="p">(</span><span class="n">points</span> <span class="o">=</span> <span class="o">[</span>
	       <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">60</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="o">]</span><span class="p">,</span> 
	       <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span>
	       <span class="o">]</span><span class="p">,</span> 
     <span class="n">faces</span> <span class="o">=</span> <span class="o">[</span>
		  <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span>
                  <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">7</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span>
		  <span class="o">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="o">]</span><span class="p">,</span>
                  <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="o">]</span><span class="p">,</span>  
                  <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span>
		  <span class="o">]</span>
     <span class="p">);</span>
</pre></div>
<dl><dt>Beginner's tip</dt>
<dd></dd></dl>
<p>If you don't really understand "orientation", try to identify the mis-oriented pink faces and then invert the sequence of the references to the points vectors until you get it right. E.g. in the above example, the third triangle (<i>[0,4,5]</i>) was wrong and we fixed it as <i>[4,0,5]</i>. Remember that a face list is a circular list. In addition, you may select "Show Edges" from the "View Menu", print a screen capture and number both the points and the faces.  In our example, the points are annotated in black and the faces in blue. Turn the object around and make a second copy from the back if needed. This way you can keep track.
</p>
<dl><dt>Clockwise Technique</dt>
<dd></dd></dl>
<p>Orientation is determined by clockwise circular indexing. This means that if you're looking at the triangle (in this case [4,0,5]) from the outside you'll see that the path is clockwise around the center of the face. The winding order [4,0,5] is clockwise and therefore good.  The winding order [0,4,5] is counter-clockwise and therefore bad. Likewise, any other clockwise order of [4,0,5] works: [5,4,0] &amp; [0,5,4] are good too. If you use the clockwise technique, you'll always have your faces outside (outside of OpenSCAD, other programs do use counter-clockwise as the outside though).
</p><p>Think of it as a Left Hand Rule:
</p><p>If you place your left hand on the face with your fingers curled in the direction of the order of the points, your thumb should point outward. If your thumb points inward, you need to reverse the winding order.
</p>
<div class="thumb tnone"><div class="thumbinner" style="width:395px;"><a href="/wiki/File:Openscad-bad-polyhedron-annotated.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/7/7f/Openscad-bad-polyhedron-annotated.png" decoding="async" width="393" height="355" class="thumbimage" data-file-width="393" data-file-height="355" /></a>  <div class="thumbcaption">Polyhedron with badly oriented polygons</div></div></div>
<p><br />
Succinct description of a 'Polyhedron'
</p>
<pre>* Points define all of the points/vertices in the shape.
* Faces is a list of flat polygons that connect up the points/vertices. 
</pre>
<p>Each point, in the point list, is defined with a 3-tuple x,y,z position specification. Points in the point list are automatically enumerated starting from zero for use in the faces list (0,1,2,3,... etc).
</p><p>Each face, in the faces list, is defined by selecting 3 or more of the points (using the point order number) out of the point list.
</p><p>e.g. faces=[ [0,1,2] ] defines a triangle from the first point (points are zero referenced) to the second point and then to the third point.
</p><p>When looking at any face from the outside, the face must list all points in a clockwise order.
</p>
<h4><span class="mw-headline" id="Point_repetitions_in_a_polyhedron_point_list">Point repetitions in a polyhedron point list</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: Point repetitions in a polyhedron point list">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Primitive_Solids&amp;action=edit&amp;section=T-7" title="Edit section: Point repetitions in a polyhedron point list">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The point list of the polyhedron definition may have repetitions. When two or more points have the same coordinates they are considered the same polyhedron vertex. So, the following polyhedron:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span>
          <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span>
          <span class="p">[</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">],</span>
          <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">],</span> <span class="p">[</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span>
          <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">]];</span>
<span class="nx">polyhedron</span><span class="p">(</span><span class="nx">points</span><span class="p">,</span> <span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">],</span> <span class="p">[</span><span class="mf">6</span><span class="p">,</span><span class="mf">7</span><span class="p">,</span><span class="mf">8</span><span class="p">],</span> <span class="p">[</span><span class="mf">9</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">11</span><span class="p">],</span> <span class="p">[</span><span class="mf">12</span><span class="p">,</span><span class="mf">13</span><span class="p">,</span><span class="mf">14</span><span class="p">]]);</span>
</pre></div>
<p>define the same tetrahedron as:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">]];</span>
<span class="nx">polyhedron</span><span class="p">(</span><span class="nx">points</span><span class="p">,</span> <span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">2</span><span class="p">]]);</span>
</pre></div>
<p style="page-break-after:always;"></p>
<h2><span class="mw-headline" id="3D_to_2D_Projection">3D to 2D Projection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=4" class="mw-editsection-visualeditor" title="Edit section: 3D to 2D Projection">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=4" title="Edit section: 3D to 2D Projection">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Using the <code>projection()</code> function, you can create 2d drawings from 3d models, and export them to the dxf format. It works by projecting a 3D model to the (x,y) plane, with z at 0. If <code>cut=true</code>, only points with z=0 are considered (effectively cutting the object), with <code>cut=false</code>(<i>the default</i>), points above and below the plane are considered as well (creating a proper projection).
</p><p><b>Example</b>: Consider example002.scad, that comes with OpenSCAD. 
</p><p><a href="/wiki/File:Openscad_projection_example_2x.png" class="image"><img alt="Openscad projection example 2x.png" src="//upload.wikimedia.org/wikipedia/commons/2/2e/Openscad_projection_example_2x.png" decoding="async" width="482" height="286" data-file-width="482" data-file-height="286" /></a>
</p><p>Then you can do a 'cut' projection, which gives you the 'slice' of the x-y plane with z=0. 
</p>
<pre>projection(cut = true) example002();
</pre>
<p><a href="/wiki/File:Openscad_projection_example_3x.png" class="image"><img alt="Openscad projection example 3x.png" src="//upload.wikimedia.org/wikipedia/commons/1/13/Openscad_projection_example_3x.png" decoding="async" width="482" height="286" data-file-width="482" data-file-height="286" /></a>
</p><p>You can also do an 'ordinary' projection, which gives a sort of 'shadow' of the object onto the xy plane. 
</p>
<pre>projection(cut = false) example002();
</pre>
<p><a href="/wiki/File:Openscad_example_projection_8x.png" class="image"><img alt="Openscad example projection 8x.png" src="//upload.wikimedia.org/wikipedia/commons/5/5b/Openscad_example_projection_8x.png" decoding="async" width="482" height="286" data-file-width="482" data-file-height="286" /></a>
</p><p><b>Another Example</b>
</p><p>You can also use projection to get a 'side view' of an object. Let's take example002, and move it up, out of the X-Y plane, and rotate it:
</p>
<pre>translate([0,0,25]) rotate([90,0,0]) example002();
</pre>
<p><a href="/wiki/File:Openscad_projection_example_4x.png" class="image"><img alt="Openscad projection example 4x.png" src="//upload.wikimedia.org/wikipedia/commons/c/cd/Openscad_projection_example_4x.png" decoding="async" width="482" height="286" data-file-width="482" data-file-height="286" /></a>
</p><p>Now we can get a side view with projection()
</p>
<pre>projection() translate([0,0,25]) rotate([90,0,0]) example002();
</pre>
<p><a href="/wiki/File:Openscad_projection_example_5x.png" class="image"><img alt="Openscad projection example 5x.png" src="//upload.wikimedia.org/wikipedia/commons/7/7d/Openscad_projection_example_5x.png" decoding="async" width="482" height="286" data-file-width="482" data-file-height="286" /></a>
</p><p>Links: 
</p>
<ul><li><a rel="nofollow" class="external text" href="http://svn.clifford.at/openscad/trunk/examples/example021.scad">example021.scad from Clifford Wolf's site</a>.</li>
<li><a rel="nofollow" class="external text" href="http://www.gilesbathgate.com/2010/06/extracting-2d-mendel-outlines-using-openscad/">More complicated example</a> from Giles Bathgate's blog</li></ul>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_3_--_2D_Objects">Chapter 3 -- 2D Objects</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=5" class="mw-editsection-visualeditor" title="Edit section: Chapter 3 -- 2D Objects">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=5" title="Edit section: Chapter 3 -- 2D Objects">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p><p>All 2D primitives can be transformed with 3D transformations. They are usually used as part of a 3D extrusion. Although they are infinitely thin, they are rendered with a 1 thickness.
</p><p><b>Note</b>: The try to substract with <code>difference()</code> from 3D object will lead to unexpected results in final rendering.
</p>
<h3><span class="mw-headline" id="square">square</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: square">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-1" title="Edit section: square">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Creates a square or rectangle in the first quadrant. When <code>center</code> is true the square is centered on the origin. Argument names are optional if given in the order shown here.
</p>
<pre>square(size = [x, y], center = true/false);
square(size =  x    , center = true/false);
</pre>
<dl><dd><b> parameters</b>:</dd></dl>
<dl><dd><dl><dd><b>size</b>
<dl><dd>single value, square with both sides this length</dd>
<dd>2 value array [x,y], rectangle with dimensions x and y</dd></dl></dd>
<dd><b>center</b>
<dl><dd><b>false</b> (default), 1st (positive) quadrant, one corner at (0,0)</dd>
<dd><b>true</b>, square is centered at (0,0)</dd></dl></dd></dl></dd></dl>
<pre>default values:  square();   yields:  square(size = [1, 1], center = false);
</pre>
<dl><dd><b> examples</b>:</dd></dl>
<p><a href="/wiki/File:OpenScad_Square_10_x_10.jpg" class="image" title="10x10 square"><img alt="10x10 square" src="//upload.wikimedia.org/wikipedia/commons/d/d3/OpenScad_Square_10_x_10.jpg" decoding="async" width="150" height="99" data-file-width="144" data-file-height="95" /></a>
</p>
<pre>equivalent scripts for this example
 square(size = 10);
 square(10);
 square([10,10]);
 .
 square(10,false);
 square([10,10],false);
 square([10,10],center=false);
 square(size = [10, 10], center = false);
 square(center = false,size = [10, 10] );
</pre>
<p><a href="/wiki/File:OpenScad_Square_20x10.jpg" class="image" title="OpenScad square 20x10"><img alt="OpenScad square 20x10" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3f/OpenScad_Square_20x10.jpg/150px-OpenScad_Square_20x10.jpg" decoding="async" width="150" height="87" srcset="//upload.wikimedia.org/wikipedia/commons/3/3f/OpenScad_Square_20x10.jpg 1.5x" data-file-width="159" data-file-height="92" /></a>
</p>
<pre>equivalent scripts for this example
 square([20,10],true);
 a=[20,10];square(a,true);
</pre>
<h3><span class="mw-headline" id="circle">circle</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: circle">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-2" title="Edit section: circle">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Creates a circle at the origin. All parameters, except r, <b>must</b> be named.
</p>
<pre>circle(r=radius | d=diameter);
</pre>
<dl><dd><b>Parameters</b>
<dl><dd><b>r</b>&#160;: circle radius. r name is the only one optional with circle.
<dl><dd>circle resolution is based on size, using $fa or $fs.</dd></dl></dd></dl></dd></dl>
<dl><dd><dl><dd><dl><dd>For a small, high resolution circle you can make a large circle, then scale it down, or you could set $fn or other special variables. Note: These examples exceed the resolution of a 3d printer as well as of the display screen.</dd></dl></dd></dl></dd></dl>
<pre>scale([1/100, 1/100, 1/100]) circle(200); // create a high resolution circle with a radius of 2.
circle(2, $fn=50);                        // Another way.
</pre>
<dl><dd><dl><dd><b>d</b>  &#160;: circle diameter (only available in versions later than 2014.03).</dd>
<dd><b>$fa</b>&#160;: minimum angle (in degrees) of each fragment.</dd>
<dd><b>$fs</b>&#160;: minimum circumferential length of each fragment.</dd>
<dd><b>$fn</b>&#160;: <b>fixed</b> number of fragments in 360 degrees. Values of 3 or more override $fa and $fs.
<dl><dd>If they are used, $fa, $fs and $fn must be named parameters. <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features" title="OpenSCAD User Manual/Other Language Features">click here for more details,</a>.</dd></dl></dd></dl></dd></dl>
<pre>defaults:  circle(); yields:  circle($fn = 0, $fa = 12, $fs = 2, r = 1);
</pre>
<p><a href="/wiki/File:OpenSCAD_Circle_10.jpg" class="image" title="circle for user manual description"><img alt="circle for user manual description" src="//upload.wikimedia.org/wikipedia/commons/f/fc/OpenSCAD_Circle_10.jpg" decoding="async" width="146" height="104" data-file-width="146" data-file-height="104" /></a>
</p><p>Equivalent scripts for this example
</p>
<pre> circle(10);
 circle(r=10);
 circle(d=20);
 circle(d=2+9*2);
</pre>
<h4><span class="mw-headline" id="Ellipses">Ellipses</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Ellipses">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-3" title="Edit section: Ellipses">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<hr />
<p>An ellipse can be created from a circle by using either <code>scale()</code> or <code>resize()</code> to make the x and y dimensions unequal.
See <a href="/wiki/OpenSCAD_User_Manual/Transformations" title="OpenSCAD User Manual/Transformations">OpenSCAD User Manual/Transformations</a>
</p><p><a href="/wiki/File:OpenScad_Ellipse_from_circle.jpg" class="image" title="Ellipse from circle"><img alt="Ellipse from circle" src="//upload.wikimedia.org/wikipedia/commons/f/f9/OpenScad_Ellipse_from_circle.jpg" decoding="async" width="194" height="83" data-file-width="194" data-file-height="83" /></a>
<a href="/wiki/File:OpenScad_Ellipse_from_circle_top_view.jpg" class="image" title="Ellipse from circle top view"><img alt="Ellipse from circle top view" src="//upload.wikimedia.org/wikipedia/commons/8/8e/OpenScad_Ellipse_from_circle_top_view.jpg" decoding="async" width="199" height="91" data-file-width="199" data-file-height="91" /></a>
</p>
<pre>equivalent scripts for this example
 resize([30,10])circle(d=20);
 scale([1.5,.5])circle(d=20);
</pre>
<h4><span class="mw-headline" id="Regular_Polygons">Regular Polygons</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Regular Polygons">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-4" title="Edit section: Regular Polygons">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<hr />
<p>A regular polygon of 3 or more sides can be created by using <code>circle()</code> with $fn set to the number of sides. The following two pieces of code are equivalent.
</p>
<pre> circle(r=1, $fn=4);
</pre>
<pre> module regular_polygon(order = 4, r=1){
     angles=[ for (i = [0:order-1]) i*(360/order) ];
     coords=[ for (th=angles) [r*cos(th), r*sin(th)] ];
     polygon(coords);
 }
 regular_polygon();
</pre>
<p>These result in the following shapes, where the polygon is inscribed within the circle with all sides (and angles) equal. One corner points to the positive x direction. For irregular shapes see the polygon primitive below.
</p><p><a href="/wiki/File:OpenSCAD_regular_polygon_using_circle.jpg" class="image"><img alt="OpenSCAD regular polygon using circle.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f8/OpenSCAD_regular_polygon_using_circle.jpg/300px-OpenSCAD_regular_polygon_using_circle.jpg" decoding="async" width="300" height="202" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f8/OpenSCAD_regular_polygon_using_circle.jpg/450px-OpenSCAD_regular_polygon_using_circle.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/f8/OpenSCAD_regular_polygon_using_circle.jpg/600px-OpenSCAD_regular_polygon_using_circle.jpg 2x" data-file-width="624" data-file-height="420" /></a>
</p>
<pre>script for these examples
 translate([-42,  0]){circle(20,$fn=3);%circle(20,$fn=90);}
 translate([  0,  0]) circle(20,$fn=4);
 translate([ 42,  0]) circle(20,$fn=5);
 translate([-42,-42]) circle(20,$fn=6);
 translate([  0,-42]) circle(20,$fn=8);
 translate([ 42,-42]) circle(20,$fn=12);
 
 color("black"){
     translate([-42,  0,1])text("3",7,,center);
     translate([  0,  0,1])text("4",7,,center);
     translate([ 42,  0,1])text("5",7,,center);
     translate([-42,-42,1])text("6",7,,center);
     translate([  0,-42,1])text("8",7,,center);
     translate([ 42,-42,1])text("12",7,,center);
 }
</pre>
<h3><span class="mw-headline" id="polygon">polygon</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: polygon">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-5" title="Edit section: polygon">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>The function polygon() creates a multiple sided shape from a list of x,y coordinates. A polygon is the most powerful 2D object. It can create anything that circle and squares can, as well as much more. This includes irregular shapes with both concave and convex edges. In addition it can place holes within that shape.
</p>
<pre>polygon(points = [ [x, y], ... ], paths = [ [p1, p2, p3..], ...], convexity = N);
</pre>
<dl><dt>Parameters</dt></dl>
<dl><dd><b>points</b>
<dl><dd>The list of x,y points of the polygon.&#160;: A vector of 2 element vectors.</dd>
<dd>Note: points are indexed from 0 to n-1.</dd></dl></dd>
<dd><b>paths</b>
<dl><dd>default
<dl><dd>If no path is specified, all points are used in the order listed.</dd></dl></dd>
<dd>single vector
<dl><dd>The order to traverse the points. Uses indices from 0 to n-1. May be in a different order and use all or part, of the points listed.</dd></dl></dd>
<dd>multiple vectors
<dl><dd>Creates primary and secondary shapes. Secondary shapes are subtracted from the primary shape (like <code>difference()</code>). Secondary shapes may be wholly or partially within the primary shape.</dd></dl></dd></dl></dd></dl>
<dl><dd><dl><dd>A closed shape is created by returning from the last point specified to the first.</dd></dl></dd></dl>
<dl><dd><b>convexity</b>
<dl><dd>Integer number of "inward" curves, ie. expected path crossings of an arbitrary line through the polygon. See below.</dd></dl></dd></dl>
<pre>defaults:   polygon();  yields:  polygon(points = undef, paths = undef, convexity = 1);
</pre>
<h4><span class="mw-headline" id="Without_holes">Without holes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Without holes">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-6" title="Edit section: Without holes">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><a href="/wiki/File:OpenSCAD_Polygon_Example_Rhomboid.jpg" class="image"><img alt="OpenSCAD Polygon Example Rhomboid.jpg" src="//upload.wikimedia.org/wikipedia/commons/d/df/OpenSCAD_Polygon_Example_Rhomboid.jpg" decoding="async" width="333" height="216" data-file-width="333" data-file-height="216" /></a>
</p>
<pre>equivalent scripts for this example
 polygon(points=[[0,0],[100,0],[130,50],[30,50]]);
 polygon([[0,0],[100,0],[130,50],[30,50]], paths=[[0,1,2,3]]);
 polygon([[0,0],[100,0],[130,50],[30,50]],[[3,2,1,0]]);
 polygon([[0,0],[100,0],[130,50],[30,50]],[[1,0,3,2]]);
    
 a=[[0,0],[100,0],[130,50],[30,50]];
 b=[[3,0,1,2]];
 polygon(a);
 polygon(a,b);
 polygon(a,[[2,3,0,1,2]]);
</pre>
<h4><span class="mw-headline" id="One_hole">One hole</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: One hole">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-7" title="Edit section: One hole">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><a href="/wiki/File:Openscad-polygon-example1.png" class="image"><img alt="Openscad-polygon-example1.png" src="//upload.wikimedia.org/wikipedia/commons/8/80/Openscad-polygon-example1.png" decoding="async" width="317" height="294" data-file-width="317" data-file-height="294" /></a>
</p>
<pre>equivalent scripts for this example
 polygon(points=[[0,0],[100,0],[0,100],[10,10],[80,10],[10,80]], paths=[[0,1,2],[3,4,5]],convexity=10);

 triangle_points =[[0,0],[100,0],[0,100],[10,10],[80,10],[10,80]];
 triangle_paths =[[0,1,2],[3,4,5]];
 polygon(triangle_points,triangle_paths,10);
</pre>
<p>The 1st path vector, [0,1,2], selects the points, [0,0],[100,0],[0,100], for the primary shape.
The 2nd path vector, [3,4,5], selects the points, [10,10],[80,10],[10,80], for the secondary shape.
The secondary shape is subtracted from the primary ( think <code><a href="/wiki/OpenSCAD_User_Manual/CSG_Modelling#difference" title="OpenSCAD User Manual/CSG Modelling">difference()</a></code> ).
Since the secondary is wholly within the primary, it leaves a shape with a hole.
</p>
<h4><span class="mw-headline" id="Multi_hole">Multi hole</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Multi hole">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-8" title="Edit section: Multi hole">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span> (for use of <code>concat()</code>)
</p><p><a href="/wiki/File:OpenSCAD_romboid_with_holes.jpg" class="image"><img alt="OpenSCAD romboid with holes.jpg" src="//upload.wikimedia.org/wikipedia/commons/f/f2/OpenSCAD_romboid_with_holes.jpg" decoding="async" width="329" height="147" data-file-width="329" data-file-height="147" /></a>
</p><p><br />
</p>
<pre>      //example polygon with multiple holes
a0 = [[0,0],[100,0],[130,50],[30,50]];     // main
b0 = [1,0,3,2];
a1 = [[20,20],[40,20],[30,30]];            // hole 1
b1 = [4,5,6];
a2 = [[50,20],[60,20],[40,30]];            // hole 2
b2 = [7,8,9];
a3 = [[65,10],[80,10],[80,40],[65,40]];    // hole 3
b3 = [10,11,12,13];
a4 = [[98,10],[115,40],[85,40],[85,10]];   // hole 4
b4 = [14,15,16,17];
a  = concat (a0,a1,a2,a3,a4);
b  = [b0,b1,b2,b3,b4];
polygon(a,b);
      //alternate 
polygon(a,[b0,b1,b2,b3,b4]);
</pre>
<h4><span class="mw-headline" id="Extruding_a_3D_shape_from_a_polygon">Extruding a 3D shape from a polygon</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Extruding a 3D shape from a polygon">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-9" title="Edit section: Extruding a 3D shape from a polygon">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><a href="/wiki/File:Example_openscad_3dshape.png" class="image"><img alt="Example openscad 3dshape.png" src="//upload.wikimedia.org/wikipedia/commons/e/e0/Example_openscad_3dshape.png" decoding="async" width="1010" height="670" data-file-width="1010" data-file-height="670" /></a>
</p>
<pre>   translate([0,-20,10]) {
       rotate([90,180,90]) {
           linear_extrude(50) {
               polygon(
                   points = [
                      //x,y
                       /*
                                  O  .
                       */
                       [-2.8,0],
                       /*
                                O__X  .
                       */
                       [-7.8,0],
                       /*
                              O
                               \
                                X__X  .
                       */
                       [-15.3633,10.30],
                       /*
                              X_______._____O
                               \         
                                X__X  .
                       */
                       [15.3633,10.30],
                       /*
                              X_______._______X
                               \             /
                                X__X  .     O
                       */
                       [7.8,0],
                       /*
                              X_______._______X
                               \             /
                                X__X  .  O__X
                       */
                       [2.8,0],
                       /*
                           X__________.__________X
                            \                   /
                             \              O  /
                              \            /  /
                               \          /  /
                                X__X  .  X__X
                       */
                       [5.48858,5.3],
                       /*
                           X__________.__________X
                            \                   /
                             \   O__________X  /
                              \            /  /
                               \          /  /
                                X__X  .  X__X
                       */
                       [-5.48858,5.3],
                                   ]
                               );
                           }
       }
   }
</pre>
<h4><span class="mw-headline" id="convexity">convexity</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: convexity">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-10" title="Edit section: convexity">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The convexity parameter specifies the maximum number of front sides (back sides) a ray intersecting the object might penetrate.
This parameter is needed only for correct display of the object in OpenCSG preview mode and has no effect on the polyhedron rendering.
</p><p><a href="/wiki/File:Openscad_convexity.jpg" class="image"><img alt="Openscad convexity.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/400px-Openscad_convexity.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/600px-Openscad_convexity.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/800px-Openscad_convexity.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>This image shows a 2D shape with a convexity of 2, as the ray indicated in red crosses the 2D shapes outside⇒inside (or inside⇒outside) a maximum of 2 times. The convexity of a 3D shape would be determined in a similar way. Setting it to 10 should work fine for most cases.
</p>
<h3><span class="mw-headline" id="import_dxf">import_dxf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: import dxf">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_Primitives&amp;action=edit&amp;section=T-11" title="Edit section: import dxf">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>[<i><span style="font-weight: bold; color: #A00000;">Deprecated:</span> <b>import_dxf()</b> will be removed in future releases.&#160;Use <a class="external text" href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#import">import()</a> instead.</i>]
</p><p>Read a DXF file and create a 2D shape.
</p><p><b>Example</b>
</p>
<pre>linear_extrude(height = 5, center = true, convexity = 10)
		import_dxf(file = "example009.dxf", layer = "plate");
</pre>
<h2><span class="mw-headline" id="text"><a href="/wiki/OpenSCAD_User_Manual/Text" title="OpenSCAD User Manual/Text">text</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=6" class="mw-editsection-visualeditor" title="Edit section: text">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=6" title="Edit section: text">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The <code>text</code> module creates text as a 2D geometric object,
using fonts installed on the local system or provided as separate font file.
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p><b>Parameters</b>
</p>
<dl><dt>text</dt>
<dd>String. The text to generate.</dd></dl>
<dl><dt>size</dt>
<dd>Decimal. The generated text has an ascent (height above the baseline) of approximately the given value. Default is 10. Different fonts can vary somewhat and may not fill the size specified exactly, typically they render slightly smaller. On a metric system a size of 25.4 (1" imperial) will correspond to 100pt ⇒ a 12pt font size would be 12×0.254 for metric conversion or 0.12 in imperial.</dd></dl>
<dl><dt>font</dt>
<dd>String. The name of the font that should be used. This is not the name of the font file, but the logical font name (internally handled by the fontconfig library). This can also include a style parameter, see below. A list of installed fonts &amp; styles can be obtained using the font list dialog (Help -&gt; Font List).</dd></dl>
<dl><dt>halign</dt>
<dd>String. The horizontal alignment for the text. Possible values are "left", "center" and "right". Default is "left".</dd></dl>
<dl><dt>valign</dt>
<dd>String. The vertical alignment for the text. Possible values are "top", "center", "baseline" and "bottom". Default is "baseline".</dd></dl>
<dl><dt>spacing</dt>
<dd>Decimal. Factor to increase/decrease the character spacing. The default value of 1 results in the normal spacing for the font, giving a value greater than 1 causes the letters to be spaced further apart.</dd></dl>
<dl><dt>direction</dt>
<dd>String. Direction of the text flow. Possible values are "ltr" (left-to-right), "rtl" (right-to-left), "ttb" (top-to-bottom) and "btt" (bottom-to-top). Default is "ltr".</dd></dl>
<dl><dt>language</dt>
<dd>String. The language of the text. Default is "en".</dd></dl>
<dl><dt>script</dt>
<dd>String. The script of the text. Default is "latin".</dd></dl>
<dl><dt>$fn</dt>
<dd>used for subdividing the curved path segments provided by freetype</dd></dl>
<p><b>Example</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_text()_example.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/OpenSCAD_text%28%29_example.png/220px-OpenSCAD_text%28%29_example.png" decoding="async" width="220" height="57" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/OpenSCAD_text%28%29_example.png/330px-OpenSCAD_text%28%29_example.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d2/OpenSCAD_text%28%29_example.png/440px-OpenSCAD_text%28%29_example.png 2x" data-file-width="670" data-file-height="175" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_text()_example.png" class="internal" title="Enlarge"></a></div>Example 1: Result.</div></div></div>
<pre>text("OpenSCAD");
</pre>
<p><br clear="all" />
</p><p><br />
</p>
<dl><dt>Notes</dt></dl>
<p>To allow specification of particular <a href="https://en.wikipedia.org/wiki/Unicode" class="extiw" title="w:Unicode">Unicode</a> characters, you can specify them in a string with the following escape codes;
</p>
<ul><li><tt>\x<em>03&#160;&#160;&#160;&#160;</em></tt> - hex char-value (only hex values from <tt>01</tt> to <tt>7f</tt> are supported)</li>
<li><tt>\u<em>0123&#160;&#160;</em></tt> - Unicode char with 4 hexadecimal digits (note: lowercase <tt>\u</tt>)</li>
<li><tt>\U<em>012345</em></tt> - Unicode char with 6 hexadecimal digits (note: uppercase <tt>\U</tt>)</li></ul>
<p>The null character (NUL) is mapped to the space character (SP).
</p>
<pre> assert(version() == [2019, 5, 0]);
 assert(ord(" ") == 32);
 assert(ord("\x00") == 32);
 assert(ord("\u0000") == 32);
 assert(ord("\U000000") == 32);
</pre>
<p><b>Example</b>
</p>
<pre>t="\u20AC10 \u263A"; // 10 euro and a smilie
</pre>
<h3><span id="Using_Fonts_.26_Styles"></span><span class="mw-headline" id="Using_Fonts_&amp;_Styles">Using Fonts &amp; Styles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Using Fonts &amp; Styles">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;action=edit&amp;section=T-1" title="Edit section: Using Fonts &amp; Styles">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Fonts are specified by their logical font name; in addition a style parameter can be added to select a specific font style like "<b>bold</b>" or "<i>italic</i>", such as:
</p>
<pre>font="Liberation Sans:style=Bold Italic"
</pre>
<p>The font list dialog (available under Help &gt; Font List) shows the font name and the font style for each available font. For reference, the dialog also displays the location of the font file.
You can drag a font in the font list, into the editor window to use in the text() statement.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="/wiki/File:OpenSCAD_font_list_dialog.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e1/OpenSCAD_font_list_dialog.png/400px-OpenSCAD_font_list_dialog.png" decoding="async" width="400" height="231" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/e1/OpenSCAD_font_list_dialog.png/600px-OpenSCAD_font_list_dialog.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/e/e1/OpenSCAD_font_list_dialog.png/800px-OpenSCAD_font_list_dialog.png 2x" data-file-width="916" data-file-height="530" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_font_list_dialog.png" class="internal" title="Enlarge"></a></div>OpenSCAD font list dialog</div></div></div></div>
<p>OpenSCAD includes the fonts <i>Liberation Mono</i>, <i>Liberation Sans</i>,  and <i>Liberation Serif</i>. Hence, as fonts in general differ by platform type, use of these included fonts is likely to be portable across platforms. 
</p><p>For common/casual text usage, the specification of one of these fonts is <strong>recommended</strong> for this reason. Liberation Sans is the default font to encourage this.
</p><p><br />
In addition to the installed fonts ( for windows  only fonts installed as admin for all users ), it's possible to add project specific font files. Supported font file formats are <a href="https://en.wikipedia.org/wiki/TrueType" class="extiw" title="w:TrueType">TrueType</a> Fonts (*.ttf) and <a href="https://en.wikipedia.org/wiki/OpenType" class="extiw" title="w:OpenType">OpenType</a> Fonts (*.otf). The files need to be registered with use&lt;&gt;.
</p>
<pre> use &lt;ttf/paratype-serif/PTF55F.ttf&gt;
</pre>
<p>After the registration, the font is listed in the font list dialog, so in case logical name of a font is unknown, it can be looked up as it was registered.
</p><p>OpenSCAD uses fontconfig to find and manage fonts, so it's possible to list the system configured fonts on command line using the fontconfig tools in a format similar to the GUI dialog.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>$ fc-list -f <span class="s2">&quot;%-60{{%{family[0]}%{:style[0]=}}}%{file}\n&quot;</span> <span class="p">|</span> sort

...
Liberation Mono:style<span class="o">=</span>Bold Italic /usr/share/fonts/truetype/liberation2/LiberationMono-BoldItalic.ttf
Liberation Mono:style<span class="o">=</span>Bold        /usr/share/fonts/truetype/liberation2/LiberationMono-Bold.ttf
Liberation Mono:style<span class="o">=</span>Italic      /usr/share/fonts/truetype/liberation2/LiberationMono-Italic.ttf
Liberation Mono:style<span class="o">=</span>Regular     /usr/share/fonts/truetype/liberation2/LiberationMono-Regular.ttf
...
</pre></div>
<p>Under Windows, fonts are stored in the Windows Registry. To get a file with the font file names, use the command:
</p><p><code>reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Fonts" /s &gt; List_Fonts_Windows.txt</code>
</p><p><br />
<b>Example</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_text()_font_style_example.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bb/OpenSCAD_text%28%29_font_style_example.png/220px-OpenSCAD_text%28%29_font_style_example.png" decoding="async" width="220" height="86" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bb/OpenSCAD_text%28%29_font_style_example.png/330px-OpenSCAD_text%28%29_font_style_example.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/b/bb/OpenSCAD_text%28%29_font_style_example.png/440px-OpenSCAD_text%28%29_font_style_example.png 2x" data-file-width="703" data-file-height="274" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_text()_font_style_example.png" class="internal" title="Enlarge"></a></div>Example 2: Result.</div></div></div>
<pre> square(10);
 
 translate([15, 15]) {
   text("OpenSCAD", font = "Liberation Sans");
 }
 
 translate([15, 0]) {
   text("OpenSCAD", font = "Liberation Sans:style=Bold Italic");
 }
</pre>
<p><br clear="all" />
</p>
<h3><span class="mw-headline" id="Alignment">Alignment</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Alignment">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;action=edit&amp;section=T-2" title="Edit section: Alignment">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Vertical_alignment">Vertical alignment</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Vertical alignment">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;action=edit&amp;section=T-3" title="Edit section: Vertical alignment">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<dl><dt>top</dt>
<dd>The text is aligned with the top of the bounding box at the given Y coordinate.</dd></dl>
<dl><dt>center</dt>
<dd>The text is aligned with the center of the bounding box at the given Y coordinate.</dd></dl>
<dl><dt>baseline</dt>
<dd>The text is aligned with the font baseline at the given Y coordinate. This is the default.</dd></dl>
<dl><dt>bottom</dt>
<dd>The text is aligned with the bottom of the bounding box at the given Y coordinate.</dd></dl>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_text_align_vertical.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d1/OpenSCAD_text_align_vertical.png/220px-OpenSCAD_text_align_vertical.png" decoding="async" width="220" height="150" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d1/OpenSCAD_text_align_vertical.png/330px-OpenSCAD_text_align_vertical.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d1/OpenSCAD_text_align_vertical.png/440px-OpenSCAD_text_align_vertical.png 2x" data-file-width="1000" data-file-height="680" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_text_align_vertical.png" class="internal" title="Enlarge"></a></div>OpenSCAD vertical text alignment</div></div></div>
<pre> text = "Align";
 font = "Liberation Sans";
 
 valign = [
   [  0, "top"],
   [ 40, "center"],
   [ 75, "baseline"],
   [110, "bottom"]
 ];
 
 for (a = valign) {
   translate([10, 120 - a[0], 0]) {
     color("red") cube([135, 1, 0.1]);
     color("blue") cube([1, 20, 0.1]);
     linear_extrude(height = 0.5) {
       text(text = str(text,"_",a[1]), font = font, size = 20, valign = a[1]);
     }
   }
 }
</pre>
<p><br clear="all" />
Multi line text is not supported with `text()` but translating each line size × .72  will result in a leading (line spaceing) of 1 em (em= fonts body height or points). 20% (× 1.2) may be added.
</p>
<h4><span class="mw-headline" id="Horizontal_alignment">Horizontal alignment</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Horizontal alignment">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;action=edit&amp;section=T-4" title="Edit section: Horizontal alignment">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<dl><dt>left</dt>
<dd>The text is aligned with the left side of the bounding box at the given X coordinate. This is the default.</dd></dl>
<dl><dt>center</dt>
<dd>The text is aligned with the center of the bounding box at the given X coordinate.</dd></dl>
<dl><dt>right</dt>
<dd>The text is aligned with the right of the bounding box at the given X coordinate.</dd></dl>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_text_align_horizontal.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/91/OpenSCAD_text_align_horizontal.png/220px-OpenSCAD_text_align_horizontal.png" decoding="async" width="220" height="106" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/91/OpenSCAD_text_align_horizontal.png/330px-OpenSCAD_text_align_horizontal.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/91/OpenSCAD_text_align_horizontal.png/440px-OpenSCAD_text_align_horizontal.png 2x" data-file-width="1000" data-file-height="480" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_text_align_horizontal.png" class="internal" title="Enlarge"></a></div>OpenSCAD horizontal text alignment</div></div></div>
<pre> text = "Align";
 font = "Liberation Sans";
 
 halign = [
   [10, "left"],
   [50, "center"],
   [90, "right"]
 ];
 
 for (a = halign) {
   translate([140, a[0], 0]) {
     color("red") cube([115, 2,0.1]);
     color("blue") cube([2, 20,0.1]);
     linear_extrude(height = 0.5) {
       text(text = str(text,"_",a[1]), font = font, size = 20, halign = a[1]);
     }
   }
 }
</pre>
<p><br clear="all" />
</p>
<h3><span class="mw-headline" id="3D_text">3D text</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: 3D text">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Text&amp;action=edit&amp;section=T-5" title="Edit section: 3D text">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Text can be changed from a 2 dimensional object into a 3D object by using the <a href="/wiki/OpenSCAD_User_Manual/2D_to_3D_Extrusion#Linear_Extrude" title="OpenSCAD User Manual/2D to 3D Extrusion">linear_extrude</a> function.
</p>
<pre>//3d Text Example
linear_extrude(4)
    text("Text");
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Openscad_Text_3dText.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/05/Openscad_Text_3dText.jpg/220px-Openscad_Text_3dText.jpg" decoding="async" width="220" height="154" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/05/Openscad_Text_3dText.jpg/330px-Openscad_Text_3dText.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/05/Openscad_Text_3dText.jpg/440px-Openscad_Text_3dText.jpg 2x" data-file-width="526" data-file-height="368" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Openscad_Text_3dText.jpg" class="internal" title="Enlarge"></a></div>3D text example</div></div></div>
<h2><span class="mw-headline" id="2D_to_3D_Extrusion"><a href="/wiki/OpenSCAD_User_Manual/2D_to_3D_Extrusion" title="OpenSCAD User Manual/2D to 3D Extrusion">2D to 3D Extrusion</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=7" class="mw-editsection-visualeditor" title="Edit section: 2D to 3D Extrusion">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=7" title="Edit section: 2D to 3D Extrusion">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<p><a href="https://en.wikipedia.org/wiki/Extrusion" class="extiw" title="w:Extrusion">Extrusion</a> is the process of creating an object with a fixed cross-sectional profile.  OpenSCAD provides two commands to create 3D solids from a 2D shape: linear_extrude() and rotate_extrude(). Linear extrusion is similar to pushing Playdoh through a press with a die of a specific shape. 
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Playdoh.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Playdoh.jpg/220px-Playdoh.jpg" decoding="async" width="220" height="174" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Playdoh.jpg/330px-Playdoh.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Playdoh.jpg/440px-Playdoh.jpg 2x" data-file-width="1000" data-file-height="791" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Playdoh.jpg" class="internal" title="Enlarge"></a></div>linear_extrude() works like a Playdoh extrusion press</div></div></div>
<p>Rotational extrusion is similar to the process of <a href="https://en.wikipedia.org/wiki/Turning" class="extiw" title="w:Turning">turning</a> or "throwing" a bowl on the <a href="https://en.wikipedia.org/wiki/Potter%27s_wheel" class="extiw" title="w:Potter&#39;s wheel">Potter's wheel</a>.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Potter_in_Rabka_04.JPG" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/37/Potter_in_Rabka_04.JPG/220px-Potter_in_Rabka_04.JPG" decoding="async" width="220" height="165" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/37/Potter_in_Rabka_04.JPG/330px-Potter_in_Rabka_04.JPG 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/37/Potter_in_Rabka_04.JPG/440px-Potter_in_Rabka_04.JPG 2x" data-file-width="3264" data-file-height="2448" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Potter_in_Rabka_04.JPG" class="internal" title="Enlarge"></a></div>rotate_extrude() emulates throwing a vessel</div></div></div>
<p>Both extrusion methods work on a (possibly disjointed) 2D shape which exists on the X-Y plane. While transformations that operates on both 2D shapes and 3D solids can move a shape off the X-Y plane, when the extrusion is performed the end result is not very intuitive.  What actually happens is that any information in the third coordinate (the Z coordinate) is ignored for any 2D shape, this process amounts to an implicit <a href="/wiki/OpenSCAD_User_Manual/3D_to_2D_Projection" title="OpenSCAD User Manual/3D to 2D Projection">projection()</a> performed on any 2D shape before the extrusion is executed.  It is recommended to perform extrusion on shapes that remains strictly on the X-Y plane.
</p>
<h3><span class="mw-headline" id="linear_extrude">linear_extrude</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: linear extrude">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-1" title="Edit section: linear extrude">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Linear Extrusion is an operation that takes a 2D object as input and generates a 3D object as a result. 
</p><p>In OpenSCAD Extrusion is always performed on the projection (shadow) of the 2d object xy plane and along the <b>Z</b> axis; so if you rotate or apply other transformations to the 2d object before extrusion, its shadow shape is what is extruded.
</p><p>Although the extrusion is linear along the <b>Z</b> axis, a twist parameter is available that causes the object to be rotated around the <b>Z</b> axis as it is extruding upward. This can be used to rotate the object at its center, as if it is a spiral pillar, or produce a helical extrusion around the <b>Z</b> axis, like a pig's tail.
</p><p>A scale parameter is also included so that the object can be expanded or contracted over the extent of the extrusion, allowing extrusions to be flared inward or outward.
</p>
<h4><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Usage">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-2" title="Edit section: Usage">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>linear_extrude(height = 5, center = true, convexity = 10, twist = -fanrot, slices = 20, scale = 1.0, $fn = 16) {...}
</pre>
<p>You must use parameter names due to a backward compatibility issue.
</p><p><code>height</code> must be positive.
</p><p><code>$fn</code> is optional and specifies the resolution of the linear_extrude (higher number brings more "smoothness", but more computation time is needed).
</p><p>If the extrusion fails for a non-trivial 2D shape, try setting the convexity parameter (the default is not 10, but 10 is a "good" value to try). See explanation further down.
</p>
<h4><span class="mw-headline" id="Twist">Twist</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Twist">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-3" title="Edit section: Twist">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Twist is the number of degrees of through which the shape is extruded. Setting the parameter twist = 360 extrudes through one revolution. The twist direction follows the left hand rule.
</p><p><a href="/wiki/File:Openscad_linext_01.jpg" class="image" title="twist = 0"><img alt="twist = 0" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/39/Openscad_linext_01.jpg/400px-Openscad_linext_01.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/39/Openscad_linext_01.jpg/600px-Openscad_linext_01.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/39/Openscad_linext_01.jpg/800px-Openscad_linext_01.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p><b>0&#176; of Twist</b>
</p>
<pre>linear_extrude(height = 10, center = true, convexity = 10, twist = 0)
translate([2, 0, 0])
circle(r = 1);
</pre>
<p><a href="/wiki/File:Openscad_linext_02.jpg" class="image" title="twist = -100"><img alt="twist = -100" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Openscad_linext_02.jpg/400px-Openscad_linext_02.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Openscad_linext_02.jpg/600px-Openscad_linext_02.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Openscad_linext_02.jpg/800px-Openscad_linext_02.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p><b>-100&#176; of Twist</b>
</p>
<pre>linear_extrude(height = 10, center = true, convexity = 10, twist = -100)
translate([2, 0, 0])
circle(r = 1);
</pre>
<p><a href="/wiki/File:Openscad_linext_03.jpg" class="image" title="twist = 100"><img alt="twist = 100" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Openscad_linext_03.jpg/400px-Openscad_linext_03.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Openscad_linext_03.jpg/600px-Openscad_linext_03.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Openscad_linext_03.jpg/800px-Openscad_linext_03.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p><b>100&#176; of Twist</b>
</p>
<pre>linear_extrude(height = 10, center = true, convexity = 10, twist = 100)
translate([2, 0, 0])
circle(r = 1);
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Spring_100x20_in_OpenSCAD.gif" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Spring_100x20_in_OpenSCAD.gif/220px-Spring_100x20_in_OpenSCAD.gif" decoding="async" width="220" height="358" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Spring_100x20_in_OpenSCAD.gif/330px-Spring_100x20_in_OpenSCAD.gif 1.5x, //upload.wikimedia.org/wikipedia/commons/3/3d/Spring_100x20_in_OpenSCAD.gif 2x" data-file-width="400" data-file-height="650" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Spring_100x20_in_OpenSCAD.gif" class="internal" title="Enlarge"></a></div>Helical spring, 5x360° plus 8° at each end.</div></div></div>
<p><a href="/wiki/File:Openscad_linext_04.jpg" class="image" title="twist = -500"><img alt="twist = -500" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Openscad_linext_04.jpg/400px-Openscad_linext_04.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Openscad_linext_04.jpg/600px-Openscad_linext_04.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Openscad_linext_04.jpg/800px-Openscad_linext_04.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p><b>-500&#176; of Twist</b>
</p>
<pre>linear_extrude(height = 10, center = true, convexity = 10, twist = -500)
translate([2, 0, 0])
circle(r = 1);
</pre>
<h4><span class="mw-headline" id="Center">Center</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Center">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-4" title="Edit section: Center">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>It is similar to the parameter center of cylinders. If <code>center</code> is false the linear extrusion Z range is from 0 to height; if it is true, the range is from -height/2 to height/2.
</p><p><br />
<a href="/wiki/File:Openscad_linext_04.jpg" class="image" title="center = true"><img alt="center = true" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Openscad_linext_04.jpg/400px-Openscad_linext_04.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Openscad_linext_04.jpg/600px-Openscad_linext_04.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Openscad_linext_04.jpg/800px-Openscad_linext_04.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p><b>center = true</b>
</p>
<pre>linear_extrude(height = 10, center = true, convexity = 10, twist = -500)
translate([2, 0, 0])
circle(r = 1);
</pre>
<p><br />
<a href="/wiki/File:Openscad_linext_05.jpg" class="image" title="center = false"><img alt="center = false" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Openscad_linext_05.jpg/400px-Openscad_linext_05.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Openscad_linext_05.jpg/600px-Openscad_linext_05.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Openscad_linext_05.jpg/800px-Openscad_linext_05.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p><b>center = false</b>
</p>
<pre>linear_extrude(height = 10, center = false, convexity = 10, twist = -500)
translate([2, 0, 0])
circle(r = 1);
</pre>
<h4><span class="mw-headline" id="Mesh_Refinement">Mesh Refinement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Mesh Refinement">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-5" title="Edit section: Mesh Refinement">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The slices parameter defines the number of intermediate points along the Z axis of the extrusion. Its default increases with the value of twist. Explicitly setting slices may improve the output refinement. Additional the segments parameter adds vertices (points) to the extruded polygon resulting in smoother twisted geometries. Segments need to be a multiple of the polygon's fragments to have an effect (6 or 9..  for a circle($fn=3), 8,12.. for a square() ).
</p><p><a href="/wiki/File:Openscad_linext_06.jpg" class="image" title="slices = 100"><img alt="slices = 100" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Openscad_linext_06.jpg/400px-Openscad_linext_06.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Openscad_linext_06.jpg/600px-Openscad_linext_06.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Openscad_linext_06.jpg/800px-Openscad_linext_06.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p>
<pre>linear_extrude(height = 10, center = false, convexity = 10, twist = 360, slices = 100)
translate([2, 0, 0])
circle(r = 1);
</pre>
<p>The <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features" title="OpenSCAD User Manual/Other Language Features">special variables</a> $fn, $fs and $fa can also be used to improve the output. If slices is not defined, its value is taken from the defined $fn value.
</p><p><a href="/wiki/File:Openscad_linext_07.jpg" class="image" title="$fn = 100"><img alt="$fn = 100" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/63/Openscad_linext_07.jpg/400px-Openscad_linext_07.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/63/Openscad_linext_07.jpg/600px-Openscad_linext_07.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/63/Openscad_linext_07.jpg/800px-Openscad_linext_07.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p>
<pre>linear_extrude(height = 10, center = false, convexity = 10, twist = 360, $fn = 100)
translate([2, 0, 0])
circle(r = 1);
</pre>
<h4><span class="mw-headline" id="Scale">Scale</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Scale">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-6" title="Edit section: Scale">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Scales the 2D shape by this value over the height of the extrusion. Scale can be a scalar or a vector:
</p>
<pre> linear_extrude(height = 10, center = true, convexity = 10, scale=3)
 translate([2, 0, 0])
 circle(r = 1);
</pre>
<p><a href="/wiki/File:Openscad_linext_09.png" class="image" title="OpenScad linear_extrude scale example"><img alt="OpenScad linear_extrude scale example" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/59/Openscad_linext_09.png/400px-Openscad_linext_09.png" decoding="async" width="400" height="260" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/59/Openscad_linext_09.png/600px-Openscad_linext_09.png 1.5x, //upload.wikimedia.org/wikipedia/commons/5/59/Openscad_linext_09.png 2x" data-file-width="769" data-file-height="500" /></a>
</p>
<pre> linear_extrude(height = 10, center = true, convexity = 10, scale=[1,5], $fn=100)
 translate([2, 0, 0])
 circle(r = 1);
</pre>
<p><a href="/wiki/File:OpenScad_linear_extrude_scale_example2.png" class="image" title="OpenScad linear_extrude scale example2"><img alt="OpenScad linear_extrude scale example2" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f5/OpenScad_linear_extrude_scale_example2.png/400px-OpenScad_linear_extrude_scale_example2.png" decoding="async" width="400" height="388" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f5/OpenScad_linear_extrude_scale_example2.png/600px-OpenScad_linear_extrude_scale_example2.png 1.5x, //upload.wikimedia.org/wikipedia/commons/f/f5/OpenScad_linear_extrude_scale_example2.png 2x" data-file-width="646" data-file-height="627" /></a>
</p><p>Note that if scale is a vector, the resulting side walls may be nonplanar.  Use <code>twist=0</code> and the <code>slices</code> parameter to avoid <a rel="nofollow" class="external text" href="https://github.com/openscad/openscad/issues/1341">asymmetry</a>.
</p>
<pre> linear_extrude(height=10, scale=[1,0.1], slices=20, twist=0)
 polygon(points=[[0,0],[20,10],[20,-10]]);
</pre>
<h3><span class="mw-headline" id="rotate_extrude">rotate_extrude</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: rotate extrude">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-7" title="Edit section: rotate extrude">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Rotational extrusion spins a 2D shape around the Z-axis to form a solid which has rotational symmetry.  One way to think of this operation is to imagine a Potter's wheel placed on the X-Y plane with its axis of rotation pointing up towards +Z.  Then place the to-be-made object on this virtual Potter's wheel (possibly extending down below the X-Y plane towards -Z). The to-be-made object is the cross-section of the object on the X-Y plane (keeping only the right half, X &gt;= 0).  That is the 2D shape that will be fed to rotate_extrude() as the child in order to generate this solid.  Note that the object started on the X-Y plane but is tilted up (rotated +90 degrees about the X-axis) to extrude. 
</p><p>Since a 2D shape is rendered by OpenSCAD on the X-Y plane, an alternative way to think of this operation is as follows: spins a 2D shape around the Y-axis to form a solid.  The resultant solid is placed so that its axis of rotation lies along the Z-axis.  
</p><p>Just like the linear_extrude, the extrusion is always performed on the projection of the 2D polygon to the XY plane. 
Transformations like rotate, translate, etc. applied to the 2D polygon before extrusion modify the projection of the 2D polygon to the XY plane and therefore also modify the appearance of the final 3D object.
</p>
<ul><li>A translation in Z of the 2D polygon has no effect on the result (as also the projection is not affected).</li>
<li>A translation in X increases the diameter of the final object.</li>
<li>A translation in Y results in a shift of the final object in Z direction.</li>
<li>A rotation about the X or Y axis distorts the cross section of the final object, as also the projection to the XY plane is distorted.</li></ul>
<p>Don't get confused, as OpenSCAD renders 2D polygons with a certain height in the Z direction, so the 2D object (with its height) appears to have a bigger projection to the XY plane. 
But for the projection to the XY plane and also for the later extrusion only the base polygon without height is used. 
</p><p>It can not be used to produce a helix or screw threads.  (These things can be done with <a href="/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Linear_Extrude" title="OpenSCAD User Manual/The OpenSCAD Language">linear_extrude()</a> using the twist parameter.)
</p><p>The 2D shape <b>must</b> lie completely on either the right (recommended) or the left side of the Y-axis.  More precisely speaking, <b>every</b> vertex of the shape must have either x &gt;= 0 or x &lt;= 0.  If the shape spans the X axis a warning appears in the console windows and the rotate_extrude() is ignored. If the 2D shape touches the Y axis, i.e. at x=0, it <b>must</b> be a line that touches, not a point, as a point results in a zero thickness 3D object, which is invalid and results in a CGAL error. For OpenSCAD versions prior to 2016.xxxx, if the shape is in the negative axis the resulting faces are oriented inside-out, which may cause undesired effects.
</p>
<h4><span class="mw-headline" id="Usage_2">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Usage">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-8" title="Edit section: Usage">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>rotate_extrude(angle = 360, convexity = 2) {...}
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Right-hand_grip_rule.svg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/34/Right-hand_grip_rule.svg/220px-Right-hand_grip_rule.svg.png" decoding="async" width="220" height="220" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/34/Right-hand_grip_rule.svg/330px-Right-hand_grip_rule.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/34/Right-hand_grip_rule.svg/440px-Right-hand_grip_rule.svg.png 2x" data-file-width="350" data-file-height="350" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Right-hand_grip_rule.svg" class="internal" title="Enlarge"></a></div>Right-hand grip rule</div></div></div>
<p>You must use parameter names due to a backward compatibility issue.
</p>
<dl><dd><b>convexity</b>&#160;: If the extrusion fails for a non-trival 2D shape, try setting the convexity parameter (the default is not 10, but 10 is a "good" value to try). See explanation further down.</dd>
<dd><b>angle</b>  <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>&#160;: Defaults to 360. Specifies the number of degrees to sweep, starting at the positive X axis.  The direction of the sweep follows the <a href="https://en.wikipedia.org/wiki/right-hand_rule" class="extiw" title="wikipedia:right-hand rule"> Right Hand Rule</a>, hence a negative angle sweeps clockwise.</dd>
<dd><b>$fa</b>&#160;: minimum angle (in degrees) of each fragment.</dd>
<dd><b>$fs</b>&#160;: minimum circumferential length of each fragment.</dd>
<dd><b>$fn</b>&#160;: <b>fixed</b> number of fragments in 360 degrees. Values of 3 or more override $fa and $fs
<dl><dd>$fa, $fs and $fn must be named parameters. <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features" title="OpenSCAD User Manual/Other Language Features">click here for more details,</a>.</dd></dl></dd></dl>
<h4><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-9" title="Edit section: Examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<div class="floatleft"><a href="/wiki/File:Rotate_extrude_wiki_2D.jpg" class="image"><img alt="Rotate extrude wiki 2D.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Rotate_extrude_wiki_2D.jpg/400px-Rotate_extrude_wiki_2D.jpg" decoding="async" width="400" height="302" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Rotate_extrude_wiki_2D.jpg/600px-Rotate_extrude_wiki_2D.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/7/7d/Rotate_extrude_wiki_2D.jpg 2x" data-file-width="745" data-file-height="563" /></a></div><p><big><big>→</big></big><a href="/wiki/File:Openscad_rotext_01.jpg" class="image"><img alt="Openscad rotext 01.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/be/Openscad_rotext_01.jpg/400px-Openscad_rotext_01.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/be/Openscad_rotext_01.jpg/600px-Openscad_rotext_01.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/b/be/Openscad_rotext_01.jpg/800px-Openscad_rotext_01.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>A simple torus can be constructed using a rotational extrude.
</p>
<pre>rotate_extrude(convexity = 10)
translate([2, 0, 0])
circle(r = 1);
</pre>
<h4><span class="mw-headline" id="Mesh_Refinement_2">Mesh Refinement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Mesh Refinement">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-10" title="Edit section: Mesh Refinement">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<div class="floatleft"><a href="/wiki/File:Rotate_extrude_wiki_2D_C.jpg" class="image"><img alt="Rotate extrude wiki 2D C.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Rotate_extrude_wiki_2D_C.jpg/380px-Rotate_extrude_wiki_2D_C.jpg" decoding="async" width="380" height="308" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Rotate_extrude_wiki_2D_C.jpg/570px-Rotate_extrude_wiki_2D_C.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/c/c0/Rotate_extrude_wiki_2D_C.jpg 2x" data-file-width="687" data-file-height="557" /></a></div><p><big><big>→</big></big><a href="/wiki/File:Openscad_rotext_02.jpg" class="image"><img alt="Openscad rotext 02.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Openscad_rotext_02.jpg/400px-Openscad_rotext_02.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Openscad_rotext_02.jpg/600px-Openscad_rotext_02.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Openscad_rotext_02.jpg/800px-Openscad_rotext_02.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>Increasing the number of fragments composing the 2D shape improves the quality of the mesh, but takes longer to render.
</p>
<pre>rotate_extrude(convexity = 10)
translate([2, 0, 0])
circle(r = 1, $fn = 100);
</pre>
<div class="floatleft"><a href="/wiki/File:Rotate_extrude_wiki_2D_C.jpg" class="image"><img alt="Rotate extrude wiki 2D C.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Rotate_extrude_wiki_2D_C.jpg/380px-Rotate_extrude_wiki_2D_C.jpg" decoding="async" width="380" height="308" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Rotate_extrude_wiki_2D_C.jpg/570px-Rotate_extrude_wiki_2D_C.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/c/c0/Rotate_extrude_wiki_2D_C.jpg 2x" data-file-width="687" data-file-height="557" /></a></div><p><big><big>→</big></big><a href="/wiki/File:Openscad_rotext_03.jpg" class="image"><img alt="Openscad rotext 03.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Openscad_rotext_03.jpg/400px-Openscad_rotext_03.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Openscad_rotext_03.jpg/600px-Openscad_rotext_03.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Openscad_rotext_03.jpg/800px-Openscad_rotext_03.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>The number of fragments used by the extrusion can also be increased.
</p>
<pre>rotate_extrude(convexity = 10, $fn = 100)
translate([2, 0, 0])
circle(r = 1, $fn = 100);
</pre>
<p>Using the parameter angle (with OpenSCAD versions 2016.xx), a hook can be modeled .
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Hook.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/4/47/Hook.png/220px-Hook.png" decoding="async" width="220" height="135" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/47/Hook.png/330px-Hook.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/4/47/Hook.png/440px-Hook.png 2x" data-file-width="809" data-file-height="496" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Hook.png" class="internal" title="Enlarge"></a></div>OpenSCAD - a hook</div></div></div>
<pre>eps = 0.01;
translate([eps, 60, 0])
   rotate_extrude(angle=270, convexity=10)
       translate([40, 0]) circle(10);
rotate_extrude(angle=90, convexity=10)
   translate([20, 0]) circle(10);
translate([20, eps, 0])
   rotate([90, 0, 0]) cylinder(r=10, h=80+eps);
</pre>
<h4><span class="mw-headline" id="Extruding_a_Polygon">Extruding a Polygon</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: Extruding a Polygon">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-11" title="Edit section: Extruding a Polygon">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Extrusion can also be performed on polygons with points chosen by the user. 
</p><p>Here is a simple polygon and its 200 step rotational extrusion. (Note it has been rotated 90 degrees to show how the rotation appears; the <code>rotate_extrude()</code> needs it flat).
</p>
<pre>rotate([90,0,0])        polygon( points=[[0,0],[2,1],[1,2],[1,3],[3,4],[0,5]] );
</pre>
<pre>rotate_extrude($fn=200) polygon( points=[[0,0],[2,1],[1,2],[1,3],[3,4],[0,5]] );
</pre>
<div class="floatleft"><a href="/wiki/File:Rotate_extrude_wiki_2D_B.jpg" class="image"><img alt="Rotate extrude wiki 2D B.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/95/Rotate_extrude_wiki_2D_B.jpg/300px-Rotate_extrude_wiki_2D_B.jpg" decoding="async" width="300" height="239" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/95/Rotate_extrude_wiki_2D_B.jpg/450px-Rotate_extrude_wiki_2D_B.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/9/95/Rotate_extrude_wiki_2D_B.jpg 2x" data-file-width="571" data-file-height="454" /></a></div><p><big><big><big>→</big></big></big><a href="/wiki/File:Openscad_polygon_extrusion_1.png" class="image"><img alt="Openscad polygon extrusion 1.png" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Openscad_polygon_extrusion_1.png/300px-Openscad_polygon_extrusion_1.png" decoding="async" width="300" height="251" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Openscad_polygon_extrusion_1.png/450px-Openscad_polygon_extrusion_1.png 1.5x, //upload.wikimedia.org/wikipedia/commons/6/6c/Openscad_polygon_extrusion_1.png 2x" data-file-width="499" data-file-height="418" /></a><big><big><big>→</big></big></big><a href="/wiki/File:Openscad_polygon_extrusion_2.png" class="image"><img alt="Openscad polygon extrusion 2.png" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Openscad_polygon_extrusion_2.png/300px-Openscad_polygon_extrusion_2.png" decoding="async" width="300" height="248" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Openscad_polygon_extrusion_2.png/450px-Openscad_polygon_extrusion_2.png 1.5x, //upload.wikimedia.org/wikipedia/commons/e/ea/Openscad_polygon_extrusion_2.png 2x" data-file-width="503" data-file-height="415" /></a>
</p><p>For more information on polygons, please see: <a href="/wiki/OpenSCAD_User_Manual/2D_Primitives#polygon" title="OpenSCAD User Manual/2D Primitives">2D Primitives: Polygon</a>.
</p>
<h3><span class="mw-headline" id="Description_of_extrude_parameters">Description of extrude parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: Description of extrude parameters">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-12" title="Edit section: Description of extrude parameters">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Extrude_parameters_for_all_extrusion_modes">Extrude parameters for all extrusion modes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: Extrude parameters for all extrusion modes">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-13" title="Edit section: Extrude parameters for all extrusion modes">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<table border="1">

<tbody><tr>
<td>convexity
</td>
<td>Integer. The convexity parameter specifies the maximum number of front sides (or back sides) a ray intersecting the object might penetrate. This parameter is only needed for correctly displaying the object in OpenCSG preview mode when using the standard Goldfeather algorithm and has no effect on the polyhedron rendering (the mesh generation).
<p><br />
The convexity of a primitive is the maximum number of front (or back) faces of the primitive at a single position. For example, the convexity of a sphere is one and the convexity of a torus is two.
</p>
</td></tr></tbody></table>
<p><br />
<a href="/wiki/File:Openscad_convexity.jpg" class="image"><img alt="Openscad convexity.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/400px-Openscad_convexity.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/600px-Openscad_convexity.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/800px-Openscad_convexity.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>This image shows a 2D shape with a convexity of 2, as the ray indicated in red crosses the 2D shape a maximum of 4 times (2 front sides and 2 back sides). The convexity of a 3D shape would be determined in a similar way. Setting it to 10 should work fine for most cases. Just setting high numbers in general may result in slower preview rendering.
</p>
<h4><span class="mw-headline" id="Extrude_parameters_for_linear_extrusion_only">Extrude parameters for linear extrusion only</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;veaction=edit&amp;section=T-14" class="mw-editsection-visualeditor" title="Edit section: Extrude parameters for linear extrusion only">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/2D_to_3D_Extrusion&amp;action=edit&amp;section=T-14" title="Edit section: Extrude parameters for linear extrusion only">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<table border="1">

<tbody><tr>
<td>height
</td>
<td>The extrusion height
</td></tr>
<tr>
<td>center
</td>
<td>If true, the solid is centered after extrusion
</td></tr>
<tr>
<td>twist
</td>
<td>The extrusion twist in degrees
</td></tr>
<tr>
<td>scale
</td>
<td>Scales the 2D shape by this value over the height of the extrusion.
</td></tr>
<tr>
<td>slices
</td>
<td>Similar to special variable $fn without being passed down to the child 2D shape.
</td></tr>
<tr>
<td>segments
</td>
<td>Similar to slices but adding points on the polygon's segments without changing the polygon's shape.
</td></tr></tbody></table>
<h1><span class="mw-headline" id="Chapter_4_--_Transform">Chapter 4 -- Transform</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=8" class="mw-editsection-visualeditor" title="Edit section: Chapter 4 -- Transform">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=8" title="Edit section: Chapter 4 -- Transform">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Basic_concept">Basic concept</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Basic concept">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-1" title="Edit section: Basic concept">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Transformations affect their child nodes and as the name implies transform them in various ways such as moving, rotating or scaling the child.
Transformations are written before the object they affect e.g.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">translate</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span><span class="mf">20</span><span class="p">,</span><span class="mf">30</span><span class="p">])</span>
    <span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
</pre></div>
<p>Notice that there is no semicolon following transformation command.
Transformations can be applied to a group of child nodes by using '{' and '}' to enclose the subtree e.g.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="o">-</span><span class="mf">5</span><span class="p">])</span>
<span class="p">{</span>
    <span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
    <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">5</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">10</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>Cascading transformations are used to apply a variety of transforms to a final child. Cascading is achieved by nesting statements e.g.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">rotate</span><span class="p">([</span><span class="mf">45</span><span class="p">,</span><span class="mf">45</span><span class="p">,</span><span class="mf">45</span><span class="p">])</span>
    <span class="nx">translate</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span><span class="mf">20</span><span class="p">,</span><span class="mf">30</span><span class="p">])</span>
        <span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Openscad_combined_transform.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/25/Openscad_combined_transform.png/200px-Openscad_combined_transform.png" decoding="async" width="200" height="215" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/2/25/Openscad_combined_transform.png 1.5x" data-file-width="225" data-file-height="242" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Openscad_combined_transform.png" class="internal" title="Enlarge"></a></div>When combing transforms, order is important</div></div></div>
<p>Combining transformations is a sequential process, going from right to left. Consider the following two transformations:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>   <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>  <span class="nx">rotate</span><span class="p">([</span><span class="mf">45</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>     <span class="nx">cube</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
<span class="nx">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span> <span class="nx">rotate</span><span class="p">([</span><span class="mf">45</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>     <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>  <span class="nx">cube</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
</pre></div>
<p>While these contain the same operations, the first will rotate a cube around the origin and then move it by the offset specified for the translate, before finally coloring it red.
By contrast, the second sequence first moves a cube, and then rotates it around the origin, before coloring it green. In this case the rotation causes the cube to move along an arc centered at the origin. The radius of this arc is the distance from the origin, which was set by the preceding translation. The different ordering of the rotate and translate transformations causes the cubes to end up in different places.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Advanced_concept">Advanced concept</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Advanced concept">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-2" title="Edit section: Advanced concept">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>As OpenSCAD uses different libraries to implement capabilities this can introduce some inconsistencies to the F5 preview behaviour of transformations. Traditional transforms (translate, rotate, scale, mirror &amp; multimatrix) are performed using OpenGL in preview, while other more advanced transforms, such as resize, perform a CGAL operation, behaving like a CSG operation affecting the underlying object, not just transforming it. In particular this can affect the display of modifier characters, specifically "#" and "%", where the highlight may not display intuitively, such as highlighting the pre-resized object, but highlighting the post-scaled object.
</p>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<h3><span class="mw-headline" id="scale_2">scale</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: scale">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-3" title="Edit section: scale">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Scales its child elements using the specified vector. The argument name is optional.
</p>
<pre>Usage Example:
scale(v = [x, y, z]) { ... }
</pre>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="nx">translate</span><span class="p">([</span><span class="mf">15</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">scale</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">])</span> <span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
</pre></div>
<p><a href="/wiki/File:OpenSCAD_scale()_example.JPG" class="image" title="Image showing result of scale() transformation in OpenSCAD"><img alt="Image showing result of scale() transformation in OpenSCAD" src="//upload.wikimedia.org/wikipedia/commons/a/a7/OpenSCAD_scale%28%29_example.JPG" decoding="async" width="359" height="378" data-file-width="359" data-file-height="378" /></a>
</p>
<h3><span class="mw-headline" id="resize">resize</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: resize">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-4" title="Edit section: resize">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Modifies the size of the child object to match the given x,y, and z. 
</p><p>resize() is a CGAL operation, and like others such as render() operates with full geometry, so even in preview this takes time to process.
</p><p><br />
<big>Usage Example:</big>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// resize the sphere to extend 30 in x, 60 in y, and 10 in the z directions.</span>
<span class="nx">resize</span><span class="p">(</span><span class="nx">newsize</span><span class="o">=</span><span class="p">[</span><span class="mf">30</span><span class="p">,</span><span class="mf">60</span><span class="p">,</span><span class="mf">10</span><span class="p">])</span> <span class="nx">sphere</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">10</span><span class="p">);</span>
</pre></div>
<p><a href="/wiki/File:OpenSCAD_Resize_example_elipse.JPG" class="image" title="OpenSCAD Resize example ellipse"><img alt="OpenSCAD Resize example ellipse" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d8/OpenSCAD_Resize_example_elipse.JPG/400px-OpenSCAD_Resize_example_elipse.JPG" decoding="async" width="400" height="344" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d8/OpenSCAD_Resize_example_elipse.JPG/600px-OpenSCAD_Resize_example_elipse.JPG 1.5x, //upload.wikimedia.org/wikipedia/commons/d/d8/OpenSCAD_Resize_example_elipse.JPG 2x" data-file-width="604" data-file-height="520" /></a>
</p><p>If x,y, or z is 0 then that dimension is left as-is. 
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// resize the 1x1x1 cube to 2x2x1</span>
<span class="nx">resize</span><span class="p">([</span><span class="mf">2</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">cube</span><span class="p">();</span>
</pre></div>
<p>If the 'auto' parameter is set to true, it auto-scales any 0-dimensions to match. For example.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// resize the 1x2x0.5 cube to 7x14x3.5</span>
<span class="nx">resize</span><span class="p">([</span><span class="mf">7</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span> <span class="nx">auto</span><span class="o">=</span><span class="kc">true</span><span class="p">)</span> <span class="nx">cube</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]);</span>
</pre></div>
<p>The 'auto' parameter can also be used if you only wish to auto-scale a single dimension, and leave the other as-is.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// resize to 10x8x1. Note that the z dimension is left alone.</span>
<span class="nx">resize</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span> <span class="nx">auto</span><span class="o">=</span><span class="p">[</span><span class="kc">true</span><span class="p">,</span><span class="kc">true</span><span class="p">,</span><span class="kc">false</span><span class="p">])</span> <span class="nx">cube</span><span class="p">([</span><span class="mf">5</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">1</span><span class="p">]);</span>
</pre></div>
<h3><span class="mw-headline" id="rotate">rotate</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: rotate">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-5" title="Edit section: rotate">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Rotates its child 'a' degrees about the axis of the coordinate system or around an arbitrary axis.
The argument names are optional if the arguments are given in the same order as specified.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//Usage:</span>
<span class="nx">rotate</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">deg_a</span><span class="p">,</span> <span class="nx">v</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">])</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>  
<span class="c1">// or</span>
<span class="nx">rotate</span><span class="p">(</span><span class="nx">deg_a</span><span class="p">,</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">])</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="nx">rotate</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="nx">deg_x</span><span class="p">,</span> <span class="nx">deg_y</span><span class="p">,</span> <span class="nx">deg_z</span><span class="p">])</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="nx">rotate</span><span class="p">([</span><span class="nx">deg_x</span><span class="p">,</span> <span class="nx">deg_y</span><span class="p">,</span> <span class="nx">deg_z</span><span class="p">])</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>
<p>The 'a' argument (deg_a) can be an array, as expressed in the later usage above; when deg_a is an array, the 'v' argument is ignored. Where 'a' specifies <i>multiple axes</i> then the rotation is applied in the following order: x then y then z. That means the code:
</p>
<pre>rotate(a=[ax,ay,az]) {...}
</pre>
<p>is equivalent to:
</p>
<pre>rotate(a=[0,0,az]) rotate(a=[0,ay,0]) rotate(a=[ax,0,0]) {...}
</pre>
<p>The optional argument 'v' is a vector and allows you to set an arbitrary axis about which the object is rotated.
</p><p>For example, to flip an object upside-down, you can rotate your object 180 degrees around the 'y' axis.
</p>
<pre>rotate(a=[0,180,0]) { ... }
</pre>
<p>This is frequently simplified to
</p>
<pre>rotate([0,180,0]) { ... }
</pre>
<p>When specifying a single axis the 'v' argument allows you to specify which axis is the basis for rotation. For example, the equivalent to the above, to rotate just around y
</p>
<pre>rotate(a=180, v=[0,1,0]) { ... }
</pre>
<p>When specifying a single axis, 'v' is a <a href="https://en.wikipedia.org/wiki/Euler_vector" class="extiw" title="wikipedia:Euler vector">vector</a> defining an arbitrary axis for rotation; this is different from the <i>multiple axis</i> above. For example, rotate your object 45 degrees around the axis defined by the vector [1,1,0], 
</p>
<pre>rotate(a=45, v=[1,1,0]) { ... }
</pre>
<p><a href="/wiki/File:OpenSCAD_rotate()_example.JPG" class="image" title="image of result of rotate() transformation in OpenSCAD"><img alt="image of result of rotate() transformation in OpenSCAD" src="//upload.wikimedia.org/wikipedia/commons/7/77/OpenSCAD_rotate%28%29_example.JPG" decoding="async" width="301" height="275" data-file-width="301" data-file-height="275" /></a>
</p><p>Rotate with a <i>single scalar argument</i> rotates around the Z axis. This is useful in 2D contexts where that is the only axis for rotation. For example:
</p>
<pre>rotate(45) square(10);
</pre>
<p><a href="/wiki/File:Example_2D_Rotate.JPG" class="image" title="Result of OpenSCAD rotate(45) as 2D render"><img alt="Result of OpenSCAD rotate(45) as 2D render" src="//upload.wikimedia.org/wikipedia/commons/b/b9/Example_2D_Rotate.JPG" decoding="async" width="353" height="322" data-file-width="353" data-file-height="322" /></a>
</p>
<h5><span class="mw-headline" id="Rotation_rule_help">Rotation rule help</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Rotation rule help">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-6" title="Edit section: Rotation rule help">edit source</a><span class="mw-editsection-bracket">]</span></span></h5>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Right-hand_grip_rule.svg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/34/Right-hand_grip_rule.svg/220px-Right-hand_grip_rule.svg.png" decoding="async" width="220" height="220" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/34/Right-hand_grip_rule.svg/330px-Right-hand_grip_rule.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/34/Right-hand_grip_rule.svg/440px-Right-hand_grip_rule.svg.png 2x" data-file-width="350" data-file-height="350" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Right-hand_grip_rule.svg" class="internal" title="Enlarge"></a></div>Right-hand grip rule</div></div></div>
<p><br />
For the case of:
</p>
<pre>rotate([a, b, c]) { ... };
</pre>
<p>"a" is a rotation about the X axis, from the +Y axis, toward the +Z axis. 
<br />
"b" is a rotation about the Y axis, from the +Z axis, toward the +X axis.
<br />
"c" is a rotation about the Z axis, from the +X axis, toward the +Y axis.
</p><p>These are all cases of the <a href="https://en.wikipedia.org/wiki/right-hand_rule" class="extiw" title="wikipedia:right-hand rule"> Right Hand Rule</a>. Point your right thumb along the positive axis, your fingers show the direction of rotation.
</p><p><br />
</p><p>Thus if "a" is fixed to zero, and "b" and "c" are manipulated appropriately, this is the <i>spherical coordinate system</i>.
<br />
So, to construct a cylinder from the origin to some other point (x,y,z):
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">x</span><span class="o">=</span> <span class="mf">10</span><span class="p">;</span> <span class="nx">y</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span> <span class="nx">z</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span> <span class="c1">// point coordinates of end of cylinder</span>
 
<span class="nx">length</span> <span class="o">=</span> <span class="nx">norm</span><span class="p">([</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">]);</span>  <span class="c1">// radial distance</span>
<span class="nx">b</span> <span class="o">=</span> <span class="nx">acos</span><span class="p">(</span><span class="nx">z</span><span class="o">/</span><span class="nx">length</span><span class="p">);</span> <span class="c1">// inclination angle</span>
<span class="nx">c</span> <span class="o">=</span> <span class="nx">atan2</span><span class="p">(</span><span class="nx">y</span><span class="p">,</span><span class="nx">x</span><span class="p">);</span>     <span class="c1">// azimuthal angle</span>

<span class="nx">rotate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">])</span> 
    <span class="nx">cylinder</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">length</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>
<span class="o">%</span><span class="nx">cube</span><span class="p">([</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">]);</span> <span class="c1">// corner of cube should coincide with end of cylinder</span>
</pre></div>
<p><a href="/wiki/File:Example_xyz_rotation_in_OpenSCAD.JPG" class="image" title="Example of OpenSCAD Rotate() used as a spherical coordinate system."><img alt="Example of OpenSCAD Rotate() used as a spherical coordinate system." src="//upload.wikimedia.org/wikipedia/commons/6/61/Example_xyz_rotation_in_OpenSCAD.JPG" decoding="async" width="318" height="322" data-file-width="318" data-file-height="322" /></a>
</p>
<h3><span class="mw-headline" id="translate">translate</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: translate">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-7" title="Edit section: translate">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Translates (moves) its child elements along the specified vector. The argument name is optional.
</p>
<pre>Example:
translate(v = [x, y, z]) { ... }
</pre>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">cube</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span> 
<span class="nx">translate</span><span class="p">([</span><span class="mf">5</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> 
   <span class="nx">sphere</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
</pre></div>
<p><a href="/wiki/File:OpenSCAD_translate()_example.JPG" class="image" title="image of result of the translate() transformation in OpenSCAD"><img alt="image of result of the translate() transformation in OpenSCAD" src="//upload.wikimedia.org/wikipedia/commons/a/ad/OpenSCAD_translate%28%29_example.JPG" decoding="async" width="385" height="319" data-file-width="385" data-file-height="319" /></a>
</p>
<h3><span class="mw-headline" id="mirror">mirror</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: mirror">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-8" title="Edit section: mirror">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Transforms the child element to a mirror of the original, as if it were the mirror image seen through a plane intersecting the origin. The argument to mirror() is the normal vector of the origin-intersecting mirror plane used, meaning the vector coming perpendicularly out of the plane.  Each coordinate of the original object is altered such that it becomes equidistant on the other side of this plane from the closest point on the plane.  For example, <tt>mirror([1,0,0])</tt>, corresponding to a normal vector pointing in the x-axis direction, will produce an object such that all positive x coordinates become negative x coordinates, and all negative x coordinates become positive x coordinates.
</p>
<h4><span class="mw-headline" id="Function_signature:">Function signature:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Function signature:">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-9" title="Edit section: Function signature:">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>mirror(v= [x, y, z] ) { ... }
</pre>
<h4><span class="mw-headline" id="Examples_2">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-10" title="Edit section: Examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The original is on the right side. Note that mirror doesn't make a copy. Like rotate and scale, it changes the object.
</p>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 205px"><div style="width: 205px">
			<div class="thumb" style="width: 200px;"><div style="margin:15.5px auto;"><a href="/wiki/File:Mirror-x.png" class="image" title="hand(); // original mirror([1,0,0]) hand();"><img alt="hand(); // original mirror([1,0,0]) hand();" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Mirror-x.png/170px-Mirror-x.png" decoding="async" width="170" height="119" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Mirror-x.png/255px-Mirror-x.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Mirror-x.png/340px-Mirror-x.png 2x" data-file-width="636" data-file-height="446" /></a></div></div>
			<div class="gallerytext">
<p><code>hand(); // original</code><br /><code>mirror([1,0,0]) hand();</code>
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 205px"><div style="width: 205px">
			<div class="thumb" style="width: 200px;"><div style="margin:15.5px auto;"><a href="/wiki/File:Mirror-x-y.png" class="image" title="hand(); // original mirror([1,1,0]) hand();"><img alt="hand(); // original mirror([1,1,0]) hand();" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Mirror-x-y.png/170px-Mirror-x-y.png" decoding="async" width="170" height="119" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Mirror-x-y.png/255px-Mirror-x-y.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Mirror-x-y.png/340px-Mirror-x-y.png 2x" data-file-width="636" data-file-height="446" /></a></div></div>
			<div class="gallerytext">
<p><code>hand(); // original</code><br /><code>mirror([1,1,0]) hand();</code>
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 205px"><div style="width: 205px">
			<div class="thumb" style="width: 200px;"><div style="margin:15.5px auto;"><a href="/wiki/File:Mirror-x-y-z.png" class="image" title="hand(); // original mirror([1,1,1]) hand();"><img alt="hand(); // original mirror([1,1,1]) hand();" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Mirror-x-y-z.png/170px-Mirror-x-y-z.png" decoding="async" width="170" height="119" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Mirror-x-y-z.png/255px-Mirror-x-y-z.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Mirror-x-y-z.png/340px-Mirror-x-y-z.png 2x" data-file-width="636" data-file-height="446" /></a></div></div>
			<div class="gallerytext">
<p><code>hand(); // original</code><br /><code>mirror([1,1,1]) hand();</code>
</p>
			</div>
		</div></li>
</ul>
<pre>rotate([0,0,10]) cube([3,2,1]);
mirror([1,0,0]) translate([1,0,0]) rotate([0,0,10]) cube([3,2,1]);
</pre>
<p><a href="/wiki/File:OpenSCAD_mirror()_example.JPG" class="image" title="image of the result of the mirror() transformation in OpenSCAD"><img alt="image of the result of the mirror() transformation in OpenSCAD" src="//upload.wikimedia.org/wikipedia/commons/c/c9/OpenSCAD_mirror%28%29_example.JPG" decoding="async" width="325" height="308" data-file-width="325" data-file-height="308" /></a>
</p>
<h3><span class="mw-headline" id="multmatrix">multmatrix</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: multmatrix">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-11" title="Edit section: multmatrix">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Multiplies the geometry of all child elements with the given <a href="https://en.wikipedia.org/wiki/Affine_transformation" class="extiw" title="w:Affine transformation">affine transformation</a> matrix, where the matrix is 4×3 - a vector of 3 row vectors with 4 elements each, or a 4×4 matrix with the 4th row always forced to [0,0,0,1].
</p><p>Usage: multmatrix(m = [...]) { ... }
</p><p>This is a breakdown of what you can do with the independent elements in the matrix (for the first three rows):<br />
</p>
<table>
<tbody><tr><td>[Scale X]</td><td>[Shear X along Y]</td><td>[Shear X along Z]</td><td>[Translate X]</td></tr>
<tr><td>[Shear Y along X]</td><td>[Scale Y]</td><td>[Shear Y along Z]</td><td>[Translate Y]</td></tr>
<tr><td>[Shear Z along X]</td><td>[Shear Z along Y]</td><td>[Scale Z]</td><td>[Translate Z]</td></tr>
</tbody></table>
<p>The fourth row is forced to [0,0,0,1] and can be omitted unless you are combining matrices before passing to multmatrix, as it is not processed in OpenSCAD.  Each matrix operates on the points of the given geometry as if each vertex is a 4 element vector consisting of a 3D vector with an implicit 1 as its 4th element, such as v=[x, y, z, 1].  The role of the implicit fourth row of m is to preserve the implicit 1 in the 4th element of the vectors, permitting the translations to work.  The operation of multmatrix therefore performs m*v for each vertex v.  Any elements (other than the 4th row) not specified in m are treated as zeros.
</p><p>This example rotates by 45 degrees in the XY plane and translates by [10,20,30], i.e. the same as <tt>translate([10,20,30]) rotate([0,0,45])</tt> would do. 
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">angle</span><span class="o">=</span><span class="mf">45</span><span class="p">;</span>
<span class="nx">multmatrix</span><span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span> <span class="o">-</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">10</span><span class="p">],</span>
                 <span class="p">[</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span>  <span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">20</span><span class="p">],</span>
                 <span class="p">[</span>         <span class="mf">0</span><span class="p">,</span>           <span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">30</span><span class="p">],</span>
                 <span class="p">[</span>         <span class="mf">0</span><span class="p">,</span>           <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span>  <span class="mf">1</span><span class="p">]</span>
              <span class="p">])</span> <span class="nx">union</span><span class="p">()</span> <span class="p">{</span>
   <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">10</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span>
   <span class="nx">cube</span><span class="p">(</span><span class="nx">size</span><span class="o">=</span><span class="p">[</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">],</span><span class="nx">center</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>The following example demonstrates combining affine transformation matrices by matrix multiplication, producing in the final version a transformation equivalent to rotate([0, -35, 0]) translate([40, 0, 0]) Obj();.  Note that the signs on the sin function appear to be in a different order than the above example, because the positive one must be ordered as x into y, y into z, z into x for the rotation angles to correspond to rotation about the other axis in a right-handed coordinate system.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">y_ang</span><span class="o">=-</span><span class="mf">35</span><span class="p">;</span>
<span class="nx">mrot_y</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">y_ang</span><span class="p">),</span> <span class="mf">0</span><span class="p">,</span>  <span class="nx">sin</span><span class="p">(</span><span class="nx">y_ang</span><span class="p">),</span> <span class="mf">0</span><span class="p">],</span>
           <span class="p">[</span>         <span class="mf">0</span><span class="p">,</span>  <span class="mf">1</span><span class="p">,</span>           <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span>
           <span class="p">[</span><span class="o">-</span><span class="nx">sin</span><span class="p">(</span><span class="nx">y_ang</span><span class="p">),</span> <span class="mf">0</span><span class="p">,</span>  <span class="nx">cos</span><span class="p">(</span><span class="nx">y_ang</span><span class="p">),</span> <span class="mf">0</span><span class="p">],</span>
           <span class="p">[</span>         <span class="mf">0</span><span class="p">,</span>  <span class="mf">0</span><span class="p">,</span>           <span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">]</span>
         <span class="p">];</span>
<span class="nx">mtrans_x</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">40</span><span class="p">],</span>
             <span class="p">[</span><span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span>  <span class="mf">0</span><span class="p">],</span>
             <span class="p">[</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span>  <span class="mf">0</span><span class="p">],</span>
             <span class="p">[</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span>  <span class="mf">1</span><span class="p">]</span>
           <span class="p">];</span>
<span class="nx">module</span> <span class="nx">Obj</span><span class="p">()</span> <span class="p">{</span>
   <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">10</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span>
   <span class="nx">cube</span><span class="p">(</span><span class="nx">size</span><span class="o">=</span><span class="p">[</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">],</span><span class="nx">center</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">echo</span><span class="p">(</span><span class="nx">mrot_y</span><span class="o">*</span><span class="nx">mtrans_x</span><span class="p">);</span>
<span class="nx">Obj</span><span class="p">();</span>
<span class="nx">multmatrix</span><span class="p">(</span><span class="nx">mtrans_x</span><span class="p">)</span> <span class="nx">Obj</span><span class="p">();</span>
<span class="nx">multmatrix</span><span class="p">(</span><span class="nx">mrot_y</span> <span class="o">*</span> <span class="nx">mtrans_x</span><span class="p">)</span> <span class="nx">Obj</span><span class="p">();</span>
</pre></div>
<p>This example skews a model, which is not possible with the other transformations.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">M</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">1</span>  <span class="p">,</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">0</span>   <span class="p">],</span>
      <span class="p">[</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">1</span>  <span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0</span>   <span class="p">],</span>  <span class="c1">// The &quot;0.7&quot; is the skew value; pushed along the y axis as z changes.</span>
      <span class="p">[</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">1</span>  <span class="p">,</span> <span class="mf">0</span>   <span class="p">],</span>
      <span class="p">[</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">0</span>  <span class="p">,</span> <span class="mf">1</span>   <span class="p">]</span> <span class="p">]</span> <span class="p">;</span>
<span class="nx">multmatrix</span><span class="p">(</span><span class="nx">M</span><span class="p">)</span> <span class="p">{</span>  <span class="nx">union</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">10</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span>
    <span class="nx">cube</span><span class="p">(</span><span class="nx">size</span><span class="o">=</span><span class="p">[</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">],</span><span class="nx">center</span><span class="o">=</span><span class="kc">false</span><span class="p">);</span> 
<span class="p">}</span> <span class="p">}</span>
</pre></div>
<p>This example shows how a vector is transformed with a multmatrix vector, like this all points in a point array (polygon) can be transformed sequentially.
Vector (v) is transformed with a rotation matrix (m), resulting in a new vector (vtrans) which is now rotated and is moving the cube along a circular path radius=v around the z axis without rotating the cube.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">angle</span><span class="o">=</span><span class="mf">45</span><span class="p">;</span>
 <span class="nx">m</span><span class="o">=</span><span class="p">[</span>
        <span class="p">[</span><span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span> <span class="o">-</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span>
        <span class="p">[</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span>  <span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">],</span>
        <span class="p">[</span>         <span class="mf">0</span><span class="p">,</span>           <span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">]</span>
   <span class="p">];</span>
              
<span class="nx">v</span><span class="o">=</span><span class="p">[</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">];</span>
<span class="nx">vm</span><span class="o">=</span><span class="nx">concat</span><span class="p">(</span><span class="nx">v</span><span class="p">,[</span><span class="mf">1</span><span class="p">]);</span> <span class="c1">// need to add [1]</span>
<span class="nx">vtrans</span><span class="o">=</span><span class="nx">m</span><span class="o">*</span><span class="nx">vm</span><span class="p">;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">vtrans</span><span class="p">);</span>
<span class="nx">translate</span><span class="p">(</span><span class="nx">vtrans</span><span class="p">)</span><span class="nx">cube</span><span class="p">();</span>
</pre></div>
<h4><span id="More.3F"></span><span class="mw-headline" id="More?">More?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: More?">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-12" title="Edit section: More?">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Learn more about it here:
</p>
<ul><li><a class="external text" href="https://en.wikipedia.org/wiki/Transformation_matrix#Affine_transformations">Affine Transformations</a> on wikipedia</li>
<li><a rel="nofollow" class="external free" href="http://www.senocular.com/flash/tutorials/transformmatrix/">http://www.senocular.com/flash/tutorials/transformmatrix/</a></li></ul>
<h3><span class="mw-headline" id="color">color</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: color">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-13" title="Edit section: color">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Displays the child elements using the specified RGB color + alpha value. This is only used for the F5 preview as CGAL and STL (F6) do not currently support color. The alpha value defaults to 1.0 (opaque) if not specified.
</p>
<h4><span class="mw-headline" id="Function_signature:_2">Function signature:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-14" class="mw-editsection-visualeditor" title="Edit section: Function signature:">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-14" title="Edit section: Function signature:">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>color( c = [r, g, b, a] ) { ... }
color( c = [r, g, b], alpha = 1.0 ) { ... }
color( "#hexvalue" ) { ... }
color( "colorname", 1.0 ) { ... }
</pre>
<p>Note that the <code>r, g, b, a</code> values are limited to floating point values in the range <b>[0,1]</b>  rather than the more traditional integers { 0 ... 255 }. However, nothing prevents you to using <code>R, G, B</code> values from {0 ... 255} with appropriate scaling: <code>color([ R/255, G/255, B/255 ]) { ... } </code>
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2011.12</span></span>]</span>
Colors can also be defined by name (case <b>in</b>sensitive). For example, to create a red sphere, you can write <code>color("red") sphere(5);</code>. Alpha is specified as an extra parameter for named colors: <code>color("Blue",0.5) cube(5);</code>
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
Hex values can be given in 4 formats, <code>#rgb</code>, <code>#rgba</code>, <code>#rrggbb</code> and <code>#rrggbbaa</code>. If the alpha value is given in both the hex value and as separate alpha parameter, the alpha parameter takes precedence.
</p><p><b>Warning:</b> alpha processing (transparency) is order-sensitive.  Transparent objects must be listed after non-transparent objects to display them correctly.  Some combinations involving multiple transparent objects cannot be handled correctly.  See issue <a rel="nofollow" class="external text" href="https://github.com/openscad/openscad/issues/1390">#1390</a>.
</p><p>The available color names are taken from the World Wide Web consortium's <a rel="nofollow" class="external text" href="http://www.w3.org/TR/css3-color/">SVG color list</a>. A chart of the color names is as follows, <br /><small><i>(note that both spellings of grey/gray including slategrey/slategray etc are valid)</i></small>:
</p>
<table style="font-size:90%;border-style:solid;border-color:black;border-width:1px;" cellpadding="4" width="100%">

<tbody><tr valign="top">
<td width="20%">
<table width="100%">

<tbody><tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Purples</b></big>
</td></tr>
<tr style="background:lavender;color:black">
<td>Lavender
</td></tr>
<tr style="background:thistle;color:black">
<td>Thistle
</td></tr>
<tr style="background:plum;color:black">
<td>Plum
</td></tr>
<tr style="background:violet;color:black">
<td>Violet
</td></tr>
<tr style="background:orchid;color:black">
<td>Orchid
</td></tr>
<tr style="background:fuchsia;color:white">
<td>Fuchsia
</td></tr>
<tr style="background:Magenta;color:white">
<td>Magenta
</td></tr>
<tr style="background:mediumorchid;color:white">
<td>MediumOrchid
</td></tr>
<tr style="background:mediumpurple;color:white">
<td>MediumPurple
</td></tr>
<tr style="background:#9966CC;color:white">
<td>BlueViolet
</td></tr>
<tr style="background:darkviolet;color:white">
<td>DarkViolet
</td></tr>
<tr style="background:darkorchid;color:white">
<td>DarkOrchid
</td></tr>
<tr style="background:darkmagenta;color:white">
<td>DarkMagenta
</td></tr>
<tr style="background:purple;color:white">
<td>Purple
</td></tr>
<tr style="background:indigo;color:white">
<td>Indigo
</td></tr>
<tr style="background:darkslateblue;color:white">
<td>DarkSlateBlue
</td></tr>
<tr style="background:slateblue;color:white">
<td>SlateBlue
</td></tr>
<tr style="background:mediumslateblue;color:white">
<td>MediumSlateBlue
</td></tr>
<tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Pinks</b></big>
</td></tr>
<tr style="background:pink;color:black">
<td>Pink
</td></tr>
<tr style="background:lightpink;color:black">
<td>LightPink
</td></tr>
<tr style="background:hotpink;color:white">
<td>HotPink
</td></tr>
<tr style="background:deeppink;color:white">
<td>DeepPink
</td></tr>
<tr style="background:mediumvioletred;color:white">
<td>MediumVioletRed
</td></tr>
<tr style="background:palevioletred;color:white">
<td>PaleVioletRed
</td></tr></tbody></table>
</td>
<td width="20%">
<table width="100%">


<tbody><tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Blues</b></big>
</td></tr>
<tr style="background:aqua;color:black">
<td>Aqua
</td></tr>
<tr style="background:cyan;color:black">
<td>Cyan
</td></tr>
<tr style="background:lightcyan;color:black">
<td>LightCyan
</td></tr>
<tr style="background:paleturquoise;color:black">
<td>PaleTurquoise
</td></tr>
<tr style="background:aquamarine;color:black">
<td>Aquamarine
</td></tr>
<tr style="background:turquoise;color:black">
<td>Turquoise
</td></tr>
<tr style="background:mediumturquoise;color:black">
<td>MediumTurquoise
</td></tr>
<tr style="background:darkturquoise;color:white">
<td>DarkTurquoise
</td></tr>
<tr style="background:cadetblue;color:white">
<td>CadetBlue
</td></tr>
<tr style="background:steelblue;color:white">
<td>SteelBlue
</td></tr>
<tr style="background:lightsteelblue;color:black">
<td>LightSteelBlue
</td></tr>
<tr style="background:powderblue;color:black">
<td>PowderBlue
</td></tr>
<tr style="background:lightblue;color:black">
<td>LightBlue
</td></tr>
<tr style="background:skyblue;color:black">
<td>SkyBlue
</td></tr>
<tr style="background:lightskyblue;color:black">
<td>LightSkyBlue
</td></tr>
<tr style="background:deepskyblue;color:white">
<td>DeepSkyBlue
</td></tr>
<tr style="background:dodgerblue;color:white">
<td>DodgerBlue
</td></tr>
<tr style="background:cornflowerblue;color:white">
<td>CornflowerBlue
</td></tr>
<tr style="background:royalblue;color:white">
<td>RoyalBlue
</td></tr>
<tr style="background:blue;color:white">
<td>Blue
</td></tr>
<tr style="background:mediumblue;color:white">
<td>MediumBlue
</td></tr>
<tr style="background:darkblue;color:white">
<td>DarkBlue
</td></tr>
<tr style="background:navy;color:white">
<td>Navy
</td></tr>
<tr style="background:midnightblue;color:white">
<td>MidnightBlue
</td></tr>
<tr>
<td style="background:whitesmoke;color:slategray;text-align:center;"><big><b>Reds</b></big>
</td></tr>
<tr style="background:indianred;color:white">
<td>IndianRed
</td></tr>
<tr style="background:lightcoral;color:black">
<td>LightCoral
</td></tr>
<tr style="background:salmon;color:black">
<td>Salmon
</td></tr>
<tr style="background:darksalmon;color:black">
<td>DarkSalmon
</td></tr>
<tr style="background:lightsalmon;color:black">
<td>LightSalmon
</td></tr>
<tr style="background:red;color:white">
<td>Red
</td></tr>
<tr style="background:crimson;color:white;color:white">
<td>Crimson
</td></tr>
<tr style="background:fireBrick;color:white">
<td>FireBrick
</td></tr>
<tr style="background:darkred;color:white">
<td>DarkRed
</td></tr></tbody></table>
</td>
<td width="20%">
<table width="100%">


<tbody><tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Greens</b></big>
</td></tr>
<tr style="background:greenyellow;color:black">
<td>GreenYellow
</td></tr>
<tr style="background:chartreuse;color:black">
<td>Chartreuse
</td></tr>
<tr style="background:lawngreen;color:black">
<td>LawnGreen
</td></tr>
<tr style="background:lime;color:black">
<td>Lime
</td></tr>
<tr style="background:limegreen;color:black">
<td>LimeGreen
</td></tr>
<tr style="background:palegreen;color:black">
<td>PaleGreen
</td></tr>
<tr style="background:lightgreen;color:black">
<td>LightGreen
</td></tr>
<tr style="background:mediumspringgreen;color:black">
<td>MediumSpringGreen
</td></tr>
<tr style="background:springgreen;color:black">
<td>SpringGreen
</td></tr>
<tr style="background:mediumseagreen;color:white">
<td>MediumSeaGreen
</td></tr>
<tr style="background:seagreen;color:white">
<td>SeaGreen
</td></tr>
<tr style="background:forestgreen;color:white">
<td>ForestGreen
</td></tr>
<tr style="background:green;color:white">
<td>Green
</td></tr>
<tr style="background:darkgreen;color:white">
<td>DarkGreen
</td></tr>
<tr style="background:yellowgreen;color:black">
<td>YellowGreen
</td></tr>
<tr style="background:olivedrab;color:white">
<td>OliveDrab
</td></tr>
<tr style="background:olive;color:white">
<td>Olive
</td></tr>
<tr style="background:darkolivegreen;color:white">
<td>DarkOliveGreen
</td></tr>
<tr style="background:mediumaquamarine;color:black">
<td>MediumAquamarine
</td></tr>
<tr style="background:darkseagreen;color:black">
<td>DarkSeaGreen
</td></tr>
<tr style="background:lightseagreen;color:white">
<td>LightSeaGreen
</td></tr>
<tr style="background:darkcyan;color:white">
<td>DarkCyan
</td></tr>
<tr style="background:teal;color:white">
<td>Teal
</td></tr>
<tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Oranges</b></big>
</td></tr>
<tr style="background:lightsalmon;color:black">
<td>LightSalmon
</td></tr>
<tr style="background:coral;color:white">
<td>Coral
</td></tr>
<tr style="background:tomato;color:white">
<td>Tomato
</td></tr>
<tr style="background:orangered;color:white">
<td>OrangeRed
</td></tr>
<tr style="background:darkorange;color:white">
<td>DarkOrange
</td></tr>
<tr style="background:orange;color:white">
<td>Orange
</td></tr></tbody></table>
</td>
<td width="20%">
<table width="100%">


<tbody><tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Yellows</b></big>
</td></tr>
<tr style="background:gold;color:black">
<td>Gold
</td></tr>
<tr style="background:yellow;color:black">
<td>Yellow
</td></tr>
<tr style="background:lightyellow;color:black">
<td>LightYellow
</td></tr>
<tr style="background:lemonchiffon;color:black">
<td>LemonChiffon
</td></tr>
<tr style="background:lightgoldenrodyellow;color:black">
<td>LightGoldenrodYellow
</td></tr>
<tr style="background:papayawhip;color:black">
<td>PapayaWhip
</td></tr>
<tr style="background:moccasin;color:black">
<td>Moccasin
</td></tr>
<tr style="background:peachpuff;color:black">
<td>PeachPuff
</td></tr>
<tr style="background:palegoldenrod;color:black">
<td>PaleGoldenrod
</td></tr>
<tr style="background:khaki;color:black">
<td>Khaki
</td></tr>
<tr style="background:darkkhaki;color:black">
<td>DarkKhaki
</td></tr>
<tr>
<td style="background:whitesmoke;color:slategray;text-align:center"><big><b>Browns</b></big>
</td></tr>
<tr style="background:cornsilk;color:black">
<td>Cornsilk
</td></tr>
<tr style="background:blanchedalmond;color:black">
<td>BlanchedAlmond
</td></tr>
<tr style="background:bisque;color:black">
<td>Bisque
</td></tr>
<tr style="background:navajowhite;color:black">
<td>NavajoWhite
</td></tr>
<tr style="background:wheat;color:black">
<td>Wheat
</td></tr>
<tr style="background:burlywood;color:black">
<td>BurlyWood
</td></tr>
<tr style="background:tan;color:black">
<td>Tan
</td></tr>
<tr style="background:rosybrown;color:black">
<td>RosyBrown
</td></tr>
<tr style="background:sandybrown;color:black">
<td>SandyBrown
</td></tr>
<tr style="background:goldenrod;color:black">
<td>Goldenrod
</td></tr>
<tr style="background:darkgoldenrod;color:white">
<td>DarkGoldenrod
</td></tr>
<tr style="background:Peru;color:white">
<td>Peru
</td></tr>
<tr style="background:chocolate;color:white">
<td>Chocolate
</td></tr>
<tr style="background:saddlebrown;color:white">
<td>SaddleBrown
</td></tr>
<tr style="background:sienna;color:white">
<td>Sienna
</td></tr>
<tr style="background:brown;color:white">
<td>Brown
</td></tr>
<tr style="background:maroon;color:white">
<td>Maroon
</td></tr>


</tbody></table>
</td>
<td width="20%">
<table width="100%">


<tbody><tr style="background:whitesmoke;color:slategray;text-align:center">
<td><big><b>Whites</b></big>
</td></tr>
<tr style="background:white;">
<td>White
</td></tr>
<tr style="background:snow;">
<td>Snow
</td></tr>
<tr style="background:honeydew;">
<td>Honeydew
</td></tr>
<tr style="background:mintcream;">
<td>MintCream
</td></tr>
<tr style="background:azure;">
<td>Azure
</td></tr>
<tr style="background:aliceblue;">
<td>AliceBlue
</td></tr>
<tr style="background:ghostwhite;">
<td>GhostWhite
</td></tr>
<tr style="background:whitesmoke;">
<td>WhiteSmoke
</td></tr>
<tr style="background:seashell;">
<td>Seashell
</td></tr>
<tr style="background:beige;">
<td>Beige
</td></tr>
<tr style="background:oldlace;">
<td>OldLace
</td></tr>
<tr style="background:floralwhite;">
<td>FloralWhite
</td></tr>
<tr style="background:ivory;">
<td>Ivory
</td></tr>
<tr style="background:antiquewhite;">
<td>AntiqueWhite
</td></tr>
<tr style="background:linen;">
<td>Linen
</td></tr>
<tr style="background:lavenderblush;">
<td>LavenderBlush
</td></tr>
<tr style="background:mistyrose;">
<td>MistyRose
</td></tr>
<tr>
<td colspan="3" style="background:whitesmoke;color:slategray;text-align:center"><big><b>Grays</b></big>
</td></tr>
<tr style="background:gainsboro;color:black">
<td>Gainsboro
</td></tr>
<tr style="background:lightgrey;color:black">
<td>LightGrey
</td></tr>
<tr style="background:silver;color:black">
<td>Silver
</td></tr>
<tr style="background:darkgray;color:black">
<td>DarkGray
</td></tr>
<tr style="background:gray;color:black">
<td>Gray
</td></tr>
<tr style="background:dimgray;color:white">
<td>DimGray
</td></tr>
<tr style="background:lightslategray;color:white">
<td>LightSlateGray
</td></tr>
<tr style="background:slategray;color:white">
<td>SlateGray
</td></tr>
<tr style="background:darkslategray;color:white">
<td>DarkSlateGray
</td></tr>
<tr style="background:black;color:white">
<td>Black
</td></tr></tbody></table>
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-15" class="mw-editsection-visualeditor" title="Edit section: Example">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-15" title="Edit section: Example">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Wavy_multicolor_object.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/04/Wavy_multicolor_object.jpg/220px-Wavy_multicolor_object.jpg" decoding="async" width="220" height="208" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/04/Wavy_multicolor_object.jpg/330px-Wavy_multicolor_object.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/04/Wavy_multicolor_object.jpg/440px-Wavy_multicolor_object.jpg 2x" data-file-width="815" data-file-height="769" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Wavy_multicolor_object.jpg" class="internal" title="Enlarge"></a></div>A 3-D multicolor sine wave</div></div></div>
<p>Here's a code fragment that draws a wavy multicolor object
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span>  <span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">36</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">36</span><span class="p">])</span> <span class="p">{</span>
      <span class="nx">color</span><span class="p">(</span> <span class="p">[</span><span class="mf">0.5</span><span class="o">+</span><span class="nx">sin</span><span class="p">(</span><span class="mf">10</span><span class="o">*</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span> <span class="mf">0.5</span><span class="o">+</span><span class="nx">sin</span><span class="p">(</span><span class="mf">10</span><span class="o">*</span><span class="nx">j</span><span class="p">)</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span> <span class="mf">0.5</span><span class="o">+</span><span class="nx">sin</span><span class="p">(</span><span class="mf">10</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="nx">j</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">]</span> <span class="p">)</span>
      <span class="nx">translate</span><span class="p">(</span> <span class="p">[</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="mf">0</span><span class="p">]</span> <span class="p">)</span>
      <span class="nx">cube</span><span class="p">(</span> <span class="nx">size</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">11</span><span class="o">+</span><span class="mf">10</span><span class="o">*</span><span class="nx">cos</span><span class="p">(</span><span class="mf">10</span><span class="o">*</span><span class="nx">i</span><span class="p">)</span><span class="o">*</span><span class="nx">sin</span><span class="p">(</span><span class="mf">10</span><span class="o">*</span><span class="nx">j</span><span class="p">)]</span> <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
<p>↗
Being that -1&lt;=sin(<i>x</i>)&lt;=1 then 0&lt;=(1/2 + sin(<i>x</i>)/2)&lt;=1 , allowing for the RGB components assigned to color to remain within the [0,1] interval.  
</p><p><i><small><a class="external text" href="https://en.wikipedia.org/wiki/Web_colors">Chart based on "Web Colors" from Wikipedia</a></small></i>
</p>
<h4><span class="mw-headline" id="Example_2">Example 2</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-16" class="mw-editsection-visualeditor" title="Edit section: Example 2">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-16" title="Edit section: Example 2">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In cases where you want to optionally set a color based on a parameter you can use the following trick:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="nx">module</span> <span class="nx">myModule</span><span class="p">(</span><span class="nx">withColors</span><span class="o">=</span><span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">c</span><span class="o">=</span><span class="nx">withColors</span><span class="o">?</span><span class="s2">&quot;red&quot;</span><span class="o">:</span><span class="nx">undef</span><span class="p">;</span>
    <span class="nx">color</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="nx">circle</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">10</span><span class="p">);</span>
 <span class="p">}</span>
</pre></div>
<p>Setting the colorname to undef keeps the default colors.
</p>
<h3><span class="mw-headline" id="offset">offset</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-17" class="mw-editsection-visualeditor" title="Edit section: offset">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-17" title="Edit section: offset">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Offset generates a new 2d interior or exterior outline from an existing outline.
There are two modes of operation.  radial and offset.
The offset method creates a new outline whose sides are a fixed distance outer (delta &gt; 0) or inner (delta &lt; 0) from the original outline.
The radial method creates a new outline as if a circle of some radius is rotated around the exterior (r&gt;0) or interior (r&lt;0) original outline.
</p><p>The construction methods can either produce an outline that is interior or exterior to the original outline.
For exterior outlines the corners can be given an optional chamfer. 
</p><p>Offset is useful for making thin walls by subtracting a negative-offset construction from the original, or the original from a Positive offset construction.
</p><p>Offset can be used to simulate some common solid modeling operations:
</p>
<ul><li>Fillet: offset(r=-3) offset(delta=+3) rounds all inside (concave) corners, and leaves flat walls unchanged.  However, holes less than 2*r in diameter vanish.</li>
<li>Round: offset(r=+3) offset(delta=-3) rounds all outside (convex) corners, and leaves flat walls unchanged.  However, walls less than 2*r thick vanish.</li></ul>
<dl><dt>Parameters</dt></dl>
<dl><dt>r</dt>
<dd>Double. Amount to offset the polygon. When negative, the polygon is offset inward. R specifies the radius of the circle that is rotated about the outline, either inside or outside. This mode produces rounded corners.</dd>
<dt>delta</dt>
<dd>Double. Amount to offset the polygon. Delta specifies the distance of the new outline from the original outline, and therefore reproduces angled corners. When negative, the polygon is offset inward. No inward perimeter is generated in places where the perimeter would cross itself.</dd>
<dt>chamfer</dt>
<dd>Boolean. (default <i>false</i>) When using the delta parameter, this flag defines if edges should be chamfered (cut off with a straight line) or not (extended to their intersection).</dd></dl>
<style data-mw-deduplicate="TemplateStyles:r3721355/mw-parser-output/.tmulti">.mw-parser-output .tmulti .thumbinner{display:flex;flex-direction:column}.mw-parser-output .tmulti .trow{display:flex;flex-direction:row;clear:left;flex-wrap:wrap;width:100%;box-sizing:border-box}.mw-parser-output .tmulti .tsingle{margin:1px;float:left}.mw-parser-output .tmulti .theader{clear:both;font-weight:bold;text-align:center;align-self:center;background-color:transparent;width:100%}.mw-parser-output .tmulti .thumbcaption{background-color:transparent}.mw-parser-output .tmulti .text-align-left{text-align:left}.mw-parser-output .tmulti .text-align-right{text-align:right}.mw-parser-output .tmulti .text-align-center{text-align:center}@media all and (max-width:720px){.mw-parser-output .tmulti .thumbinner{width:100%!important;box-sizing:border-box;max-width:none!important;align-items:center}.mw-parser-output .tmulti .trow,.mw-parser-output .tmulti .trow *{justify-content:center}.mw-parser-output .tmulti .tsingle{float:none!important;max-width:100%!important;box-sizing:border-box}.mw-parser-output .tmulti .trow>.thumbcaption{text-align:center}}</style><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:708px;max-width:708px"><div class="trow"><div class="tsingle" style="width:352px;max-width:352px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_offset_join-type_out.svg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/93/OpenSCAD_offset_join-type_out.svg/350px-OpenSCAD_offset_join-type_out.svg.png" decoding="async" width="350" height="175" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/93/OpenSCAD_offset_join-type_out.svg/525px-OpenSCAD_offset_join-type_out.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/93/OpenSCAD_offset_join-type_out.svg/700px-OpenSCAD_offset_join-type_out.svg.png 2x" data-file-width="1000" data-file-height="500" /></a></div><div class="thumbcaption">Positive r/delta value</div></div><div class="tsingle" style="width:352px;max-width:352px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_offset_join-type_in.svg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7b/OpenSCAD_offset_join-type_in.svg/350px-OpenSCAD_offset_join-type_in.svg.png" decoding="async" width="350" height="175" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7b/OpenSCAD_offset_join-type_in.svg/525px-OpenSCAD_offset_join-type_in.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/7b/OpenSCAD_offset_join-type_in.svg/700px-OpenSCAD_offset_join-type_in.svg.png 2x" data-file-width="1000" data-file-height="500" /></a></div><div class="thumbcaption">Negative r/delta value</div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Result for different parameters. The black polygon is the input for the offset() operation.</div></div></div></div>
<p><b>Examples</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_offset_example.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/08/OpenSCAD_offset_example.png/220px-OpenSCAD_offset_example.png" decoding="async" width="220" height="165" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/08/OpenSCAD_offset_example.png/330px-OpenSCAD_offset_example.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/08/OpenSCAD_offset_example.png/440px-OpenSCAD_offset_example.png 2x" data-file-width="800" data-file-height="600" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_offset_example.png" class="internal" title="Enlarge"></a></div>Example 1: Result.</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Example 1</span>
 
<span class="nx">linear_extrude</span><span class="p">(</span><span class="nx">height</span> <span class="o">=</span> <span class="mf">60</span><span class="p">,</span> <span class="nx">twist</span> <span class="o">=</span> <span class="mf">90</span><span class="p">,</span> <span class="nx">slices</span> <span class="o">=</span> <span class="mf">60</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">difference</span><span class="p">()</span> <span class="p">{</span>
     <span class="nx">offset</span><span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">10</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">square</span><span class="p">(</span><span class="mf">20</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="nx">offset</span><span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">8</span><span class="p">)</span> <span class="p">{</span>
       <span class="nx">square</span><span class="p">(</span><span class="mf">20</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Example 2</span>
 
<span class="nx">module</span> <span class="nx">fillet</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">offset</span><span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="o">-</span><span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">offset</span><span class="p">(</span><span class="nx">delta</span> <span class="o">=</span> <span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
       <span class="nx">children</span><span class="p">();</span>
     <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><br clear="all" />
</p>
<h3><span class="mw-headline" id="fill">fill</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-18" class="mw-editsection-visualeditor" title="Edit section: fill">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-18" title="Edit section: fill">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">Development snapshot</span></span>]</span>
</p><p>Fill removes holes from polygons without changing the outline. For convex polygons the result is identical to hull().
</p><p><b>Examples</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_fill_example.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1f/OpenSCAD_fill_example.png/220px-OpenSCAD_fill_example.png" decoding="async" width="220" height="110" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1f/OpenSCAD_fill_example.png/330px-OpenSCAD_fill_example.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1f/OpenSCAD_fill_example.png/440px-OpenSCAD_fill_example.png 2x" data-file-width="1576" data-file-height="788" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_fill_example.png" class="internal" title="Enlarge"></a></div>Example 1: Result.</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Example 1</span>
 
<span class="nx">t</span> <span class="o">=</span> <span class="s2">&quot;OpenSCAD&quot;</span><span class="p">;</span>

<span class="nx">linear_extrude</span><span class="p">(</span><span class="mf">15</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">text</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">color</span><span class="p">(</span><span class="s2">&quot;darkslategray&quot;</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">linear_extrude</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">offset</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">fill</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">text</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="minkowski">minkowski</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-19" class="mw-editsection-visualeditor" title="Edit section: minkowski">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-19" title="Edit section: minkowski">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Openscad_minkowski_example_1a.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/94/Openscad_minkowski_example_1a.png/200px-Openscad_minkowski_example_1a.png" decoding="async" width="200" height="149" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/94/Openscad_minkowski_example_1a.png/300px-Openscad_minkowski_example_1a.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/94/Openscad_minkowski_example_1a.png/400px-Openscad_minkowski_example_1a.png 2x" data-file-width="563" data-file-height="420" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Openscad_minkowski_example_1a.png" class="internal" title="Enlarge"></a></div>A box and a cylinder</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Openscad_minkowski_example_2a.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/10/Openscad_minkowski_example_2a.png/200px-Openscad_minkowski_example_2a.png" decoding="async" width="200" height="149" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/10/Openscad_minkowski_example_2a.png/300px-Openscad_minkowski_example_2a.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/10/Openscad_minkowski_example_2a.png/400px-Openscad_minkowski_example_2a.png 2x" data-file-width="563" data-file-height="420" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Openscad_minkowski_example_2a.png" class="internal" title="Enlarge"></a></div>Minkowski sum of the box and cylinder</div></div></div>
<p>Displays the <a rel="nofollow" class="external text" href="https://www.cgal.org/Manual/latest/doc_html/cgal_manual/Minkowski_sum_3/Chapter_main.html">minkowski sum</a> of child nodes.
</p><p>Usage example:
</p><p>Say you have a flat box, and you want a rounded edge. There are multiple ways to do this (for example, see <a href="#hull">hull</a> below), but minkowski is elegant. Take your box, and a cylinder:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">50</span><span class="p">;</span>
 <span class="nx">cube</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">1</span><span class="p">]);</span>
 <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">1</span><span class="p">);</span>
</pre></div>
<p>Then, do a minkowski sum of them (note that the outer dimensions of the box are now 10+2+2 = 14 units by 14 units by 2 units high as the heights of the objects are summed):
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">$fn</span><span class="o">=</span><span class="mf">50</span><span class="p">;</span>
<span class="nx">minkowski</span><span class="p">()</span>
<span class="p">{</span>
  <span class="nx">cube</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">1</span><span class="p">]);</span>
  <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>NB: The <u><b>origin</b></u> of the second object is used for the addition. The following minkowski sums are different: the first expands the original cube by +1 in -x, +x, -y, +y from cylinder, expand 0.5 units in both -z, +z from cylinder. The second expands it by +1 in -x, +x, -y, +y and +z from cylinder, but expand 0 in the -z from cylinder.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">minkowski</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">cube</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">1</span><span class="p">]);</span>
	<span class="nx">cylinder</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">minkowski</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">cube</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">1</span><span class="p">]);</span>
	<span class="nx">cylinder</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><b>Warning:</b> for high values of $fn the minkowski sum may end up consuming lots of CPU and memory, since it has to combine every child node of each element with all the nodes of each other element. So if for example $fn=100 and you combine two cylinders, then it does not just perform 200 operations as with two independent cylinders, but 100*100 = 10000 operations.
</p>
<h3><span class="mw-headline" id="hull">hull</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;veaction=edit&amp;section=T-20" class="mw-editsection-visualeditor" title="Edit section: hull">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Transformations&amp;action=edit&amp;section=T-20" title="Edit section: hull">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Openscad_hull_example_1a.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/15/Openscad_hull_example_1a.png/200px-Openscad_hull_example_1a.png" decoding="async" width="200" height="149" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/15/Openscad_hull_example_1a.png/300px-Openscad_hull_example_1a.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/15/Openscad_hull_example_1a.png/400px-Openscad_hull_example_1a.png 2x" data-file-width="564" data-file-height="420" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Openscad_hull_example_1a.png" class="internal" title="Enlarge"></a></div>Two cylinders</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Openscad_hull_example_2a.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Openscad_hull_example_2a.png/200px-Openscad_hull_example_2a.png" decoding="async" width="200" height="149" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Openscad_hull_example_2a.png/300px-Openscad_hull_example_2a.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Openscad_hull_example_2a.png/400px-Openscad_hull_example_2a.png 2x" data-file-width="564" data-file-height="420" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Openscad_hull_example_2a.png" class="internal" title="Enlarge"></a></div>Convex hull of two cylinders</div></div></div>
<p>Displays the <a rel="nofollow" class="external text" href="https://www.cgal.org/Manual/latest/doc_html/cgal_manual/Convex_hull_2/Chapter_main.html">convex hull</a> of child nodes.
</p><p>Usage example:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">hull</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">translate</span><span class="p">([</span><span class="mf">15</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">circle</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
    <span class="nx">circle</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>The Hull of 2D objects uses their projections (shadows) on the xy plane, and produces a result on the xy plane.  Their Z-height is not used in the operation.
</p><p>A note on limitations: Running <code>hull() { a(); b(); }</code> is the same as <code>hull() { hull() a(); hull() b(); }</code> so unless you accept/want <code>hull() a();</code> and <code>hull() b();</code>, the result will not match expectations.
</p>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_5_--_Boolean_combination">Chapter 5 -- Boolean combination</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=9" class="mw-editsection-visualeditor" title="Edit section: Chapter 5 -- Boolean combination">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=9" title="Edit section: Chapter 5 -- Boolean combination">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<h3><span class="mw-headline" id="boolean_overview">boolean overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: boolean overview">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-1" title="Edit section: boolean overview">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h5><span class="mw-headline" id="2D_examples">2D examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: 2D examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-2" title="Edit section: 2D examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h5>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:23.5px auto;"><a href="/wiki/File:OpenSCAD_Boolean_Union_2D.jpg" class="image" title="union ( or ) circle + square"><img alt="union ( or ) circle + square" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e8/OpenSCAD_Boolean_Union_2D.jpg/120px-OpenSCAD_Boolean_Union_2D.jpg" decoding="async" width="120" height="103" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/e8/OpenSCAD_Boolean_Union_2D.jpg/180px-OpenSCAD_Boolean_Union_2D.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/e/e8/OpenSCAD_Boolean_Union_2D.jpg/240px-OpenSCAD_Boolean_Union_2D.jpg 2x" data-file-width="529" data-file-height="453" /></a></div></div>
			<div class="gallerytext">
<p>union ( or )           <br /> circle + square
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:23.5px auto;"><a href="/wiki/File:OpenSCAD_Boolean_Difference_2D.jpg" class="image" title="difference ( and not ) square - circle"><img alt="difference ( and not ) square - circle" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/38/OpenSCAD_Boolean_Difference_2D.jpg/120px-OpenSCAD_Boolean_Difference_2D.jpg" decoding="async" width="120" height="103" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/38/OpenSCAD_Boolean_Difference_2D.jpg/180px-OpenSCAD_Boolean_Difference_2D.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/38/OpenSCAD_Boolean_Difference_2D.jpg/240px-OpenSCAD_Boolean_Difference_2D.jpg 2x" data-file-width="529" data-file-height="453" /></a></div></div>
			<div class="gallerytext">
<p>difference ( and not ) <br /> square - circle
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:23.5px auto;"><a href="/wiki/File:OpenSCAD_Boolean_Difference_1_2D.jpg" class="image" title="difference ( and not ) circle - square"><img alt="difference ( and not ) circle - square" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d0/OpenSCAD_Boolean_Difference_1_2D.jpg/120px-OpenSCAD_Boolean_Difference_1_2D.jpg" decoding="async" width="120" height="103" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d0/OpenSCAD_Boolean_Difference_1_2D.jpg/180px-OpenSCAD_Boolean_Difference_1_2D.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d0/OpenSCAD_Boolean_Difference_1_2D.jpg/240px-OpenSCAD_Boolean_Difference_1_2D.jpg 2x" data-file-width="529" data-file-height="453" /></a></div></div>
			<div class="gallerytext">
<p>difference ( and not ) <br /> circle - square
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:23.5px auto;"><a href="/wiki/File:OpenSCAD_Boolean_Intersection_2D.jpg" class="image" title="intersection ( and ) circle - (circle - square)"><img alt="intersection ( and ) circle - (circle - square)" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/97/OpenSCAD_Boolean_Intersection_2D.jpg/120px-OpenSCAD_Boolean_Intersection_2D.jpg" decoding="async" width="120" height="103" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/97/OpenSCAD_Boolean_Intersection_2D.jpg/180px-OpenSCAD_Boolean_Intersection_2D.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/97/OpenSCAD_Boolean_Intersection_2D.jpg/240px-OpenSCAD_Boolean_Intersection_2D.jpg 2x" data-file-width="529" data-file-height="453" /></a></div></div>
			<div class="gallerytext">
<p>intersection ( and )   <br /> circle - (circle - square)
</p>
			</div>
		</div></li>
</ul>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="nx">union</span><span class="p">()</span>       <span class="p">{</span><span class="nx">square</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="nx">circle</span><span class="p">(</span><span class="mf">10</span><span class="p">);}</span> <span class="c1">// square or  circle</span>
 <span class="nx">difference</span><span class="p">()</span>  <span class="p">{</span><span class="nx">square</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="nx">circle</span><span class="p">(</span><span class="mf">10</span><span class="p">);}</span> <span class="c1">// square and not circle</span>
 <span class="nx">difference</span><span class="p">()</span>  <span class="p">{</span><span class="nx">circle</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="nx">square</span><span class="p">(</span><span class="mf">10</span><span class="p">);}</span> <span class="c1">// circle and not square</span>
 <span class="nx">intersection</span><span class="p">(){</span><span class="nx">square</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="nx">circle</span><span class="p">(</span><span class="mf">10</span><span class="p">);}</span> <span class="c1">// square and circle</span>
</pre></div>
<h5><span class="mw-headline" id="3D_examples">3D examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: 3D examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-3" title="Edit section: 3D examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h5>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:15px auto;"><a href="/wiki/File:OpenScad_Boolean_Union.jpg" class="image" title="union ( or ) sphere + cube"><img alt="union ( or ) sphere + cube" src="//upload.wikimedia.org/wikipedia/commons/thumb/4/4a/OpenScad_Boolean_Union.jpg/107px-OpenScad_Boolean_Union.jpg" decoding="async" width="107" height="120" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/4a/OpenScad_Boolean_Union.jpg/161px-OpenScad_Boolean_Union.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/4/4a/OpenScad_Boolean_Union.jpg 2x" data-file-width="182" data-file-height="204" /></a></div></div>
			<div class="gallerytext">
<p>union ( or )           <br /> sphere + cube
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:15px auto;"><a href="/wiki/File:Boolean_Difference_1a.jpg" class="image" title="difference ( and not ) cube - sphere"><img alt="difference ( and not ) cube - sphere" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Boolean_Difference_1a.jpg/118px-Boolean_Difference_1a.jpg" decoding="async" width="118" height="120" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Boolean_Difference_1a.jpg/177px-Boolean_Difference_1a.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/1/1a/Boolean_Difference_1a.jpg 2x" data-file-width="200" data-file-height="203" /></a></div></div>
			<div class="gallerytext">
<p>difference ( and not ) <br /> cube - sphere
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:17.5px auto;"><a href="/wiki/File:OpenScad_Boolean_Difference_2.jpg" class="image" title="difference ( and not ) sphere - cube"><img alt="difference ( and not ) sphere - cube" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/99/OpenScad_Boolean_Difference_2.jpg/120px-OpenScad_Boolean_Difference_2.jpg" decoding="async" width="120" height="115" srcset="//upload.wikimedia.org/wikipedia/commons/9/99/OpenScad_Boolean_Difference_2.jpg 1.5x" data-file-width="169" data-file-height="162" /></a></div></div>
			<div class="gallerytext">
<p>difference ( and not ) <br /> sphere - cube
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:16.5px auto;"><a href="/wiki/File:OpenScad_Boolean_Intersection.jpg" class="image" title="intersection ( and ) sphere - (sphere - cube)"><img alt="intersection ( and ) sphere - (sphere - cube)" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/53/OpenScad_Boolean_Intersection.jpg/120px-OpenScad_Boolean_Intersection.jpg" decoding="async" width="120" height="117" srcset="//upload.wikimedia.org/wikipedia/commons/5/53/OpenScad_Boolean_Intersection.jpg 1.5x" data-file-width="166" data-file-height="162" /></a></div></div>
			<div class="gallerytext">
<p>intersection ( and )   <br /> sphere - (sphere - cube)
</p>
			</div>
		</div></li>
</ul>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="nx">union</span><span class="p">()</span>       <span class="p">{</span><span class="nx">cube</span><span class="p">(</span><span class="mf">12</span><span class="p">,</span> <span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span> <span class="nx">sphere</span><span class="p">(</span><span class="mf">8</span><span class="p">);}</span> <span class="c1">// cube or  sphere</span>
 <span class="nx">difference</span><span class="p">()</span>  <span class="p">{</span><span class="nx">cube</span><span class="p">(</span><span class="mf">12</span><span class="p">,</span> <span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span> <span class="nx">sphere</span><span class="p">(</span><span class="mf">8</span><span class="p">);}</span> <span class="c1">// cube and not sphere</span>
 <span class="nx">difference</span><span class="p">()</span>  <span class="p">{</span><span class="nx">sphere</span><span class="p">(</span><span class="mf">8</span><span class="p">);</span> <span class="nx">cube</span><span class="p">(</span><span class="mf">12</span><span class="p">,</span> <span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);}</span> <span class="c1">// sphere and not cube</span>
 <span class="nx">intersection</span><span class="p">(){</span><span class="nx">cube</span><span class="p">(</span><span class="mf">12</span><span class="p">,</span> <span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span> <span class="nx">sphere</span><span class="p">(</span><span class="mf">8</span><span class="p">);}</span> <span class="c1">// cube and sphere</span>
</pre></div>
<h3><span class="mw-headline" id="union">union</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: union">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-4" title="Edit section: union">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Creates a union of all its child nodes. This is the <b>sum</b> of all children (logical <b>or</b>).<br />
May be used with either 2D or 3D objects, but don't mix them.
</p><p><a href="/wiki/File:Openscad_union.jpg" class="image" title="Union"><img alt="Union" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Openscad_union.jpg/400px-Openscad_union.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Openscad_union.jpg/600px-Openscad_union.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Openscad_union.jpg/800px-Openscad_union.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="c1">//Usage example:</span>
 <span class="nx">union</span><span class="p">()</span> <span class="p">{</span>
 	<span class="nx">cylinder</span> <span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">4</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">100</span><span class="p">);</span>
 	<span class="nx">rotate</span> <span class="p">([</span><span class="mf">90</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">cylinder</span> <span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">4</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">100</span><span class="p">);</span>
 <span class="p">}</span>
</pre></div>
<p>Remark: union is implicit when not used. But it is mandatory, for example, in difference to group first child nodes into one.
</p><p><b>Note:</b> It is mandatory for all unions, explicit or implicit, that external faces to be merged not be coincident.  Failure to follow this rule results in a design with undefined behavior, and can result in a render which is not manifold (with zero volume portions, or portions inside out), which typically leads to a warning and sometimes removal of a portion of the design from the rendered output.  (This can also result in <a href="/wiki/OpenSCAD_User_Manual/FAQ#What_are_those_strange_flickering_artifacts_in_the_preview?" title="OpenSCAD User Manual/FAQ">flickering effects during the preview</a>.)  This requirement is not a bug, but an intrinsic property of floating point comparisons and the fundamental inability to exactly represent irrational numbers such as those resulting from most rotations.  As an example, this is an invalid OpenSCAD program, and will at least lead to a warning on most platforms:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="c1">// Invalid!</span>
 <span class="nx">size</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
 <span class="nx">rotation</span> <span class="o">=</span> <span class="mf">17</span><span class="p">;</span>
 <span class="nx">union</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="nx">rotation</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
       <span class="nx">cube</span><span class="p">(</span><span class="nx">size</span><span class="p">);</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="nx">rotation</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
       <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">size</span><span class="p">])</span>
       <span class="nx">cube</span><span class="p">([</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">]);</span>
 <span class="p">}</span>
</pre></div>
<p>The solution is to always use a small value called an epsilon when merging adjacent faces like this to guarantee overlap.  Note the 0.01 eps value used in TWO locations, so that the external result is equivalent to what was intended:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="c1">// Correct!</span>
 <span class="nx">size</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
 <span class="nx">rotation</span> <span class="o">=</span> <span class="mf">17</span><span class="p">;</span>
 <span class="nx">eps</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span>
 <span class="nx">union</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="nx">rotation</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
       <span class="nx">cube</span><span class="p">(</span><span class="nx">size</span><span class="p">);</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="nx">rotation</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
       <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">size</span><span class="o">-</span><span class="nx">eps</span><span class="p">])</span>
       <span class="nx">cube</span><span class="p">([</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="o">+</span><span class="nx">eps</span><span class="p">]);</span>
 <span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="difference">difference</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: difference">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-5" title="Edit section: difference">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Subtracts the 2nd (and all further) child nodes from the first one (logical <b>and not</b>).<br />
May be used with either 2D or 3D objects, but don't mix them.
</p><p><a href="/wiki/File:Openscad_difference.jpg" class="image" title="Difference"><img alt="Difference" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Openscad_difference.jpg/400px-Openscad_difference.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Openscad_difference.jpg/600px-Openscad_difference.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Openscad_difference.jpg/800px-Openscad_difference.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">Usage</span> <span class="nx">example</span><span class="o">:</span>
<span class="nx">difference</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">cylinder</span> <span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">4</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">100</span><span class="p">);</span>
	<span class="nx">rotate</span> <span class="p">([</span><span class="mf">90</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">cylinder</span> <span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">4</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><b>Note:</b> It is mandatory that surfaces that are to be removed by a difference operation have an overlap, and that the negative piece being removed extends fully outside of the volume it is removing that surface from.  Failure to follow this rule can cause <a href="/wiki/OpenSCAD_User_Manual/FAQ#What_are_those_strange_flickering_artifacts_in_the_preview?" title="OpenSCAD User Manual/FAQ">preview artifacts</a> and can result in non-manifold render warnings or the removal of pieces from the render output.  See the description above in union for why this is required and an example of how to do this by this using a small epsilon value.
</p>
<h5><span class="mw-headline" id="difference_with_multiple_children">difference with multiple children</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: difference with multiple children">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-6" title="Edit section: difference with multiple children">edit source</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Note, in the second instance, the result of adding a union of the 1st and 2nd children.
</p><p><a href="/wiki/File:Bollean_Difference_3.jpg" class="image"><img alt="Bollean Difference 3.jpg" src="//upload.wikimedia.org/wikipedia/commons/9/9d/Bollean_Difference_3.jpg" decoding="async" width="300" height="307" data-file-width="256" data-file-height="262" /></a>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Usage example for difference of multiple children:</span>
<span class="nx">$fn</span><span class="o">=</span><span class="mf">90</span><span class="p">;</span>
<span class="nx">difference</span><span class="p">(){</span>
                                            <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">5</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">20</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="mo">00</span><span class="p">,</span><span class="mf">140</span><span class="p">,</span><span class="o">-</span><span class="mf">45</span><span class="p">])</span> <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;LightBlue&quot;</span><span class="p">)</span> <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">25</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="mo">00</span><span class="p">,</span><span class="mf">40</span><span class="p">,</span><span class="o">-</span><span class="mf">50</span><span class="p">])</span>                     <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">30</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="o">-</span><span class="mf">10</span><span class="p">])</span><span class="nx">rotate</span><span class="p">([</span><span class="mo">00</span><span class="p">,</span><span class="mf">40</span><span class="p">,</span><span class="o">-</span><span class="mf">50</span><span class="p">])</span> <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">1.4</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">30</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
   
<span class="c1">// second instance with added union</span>
<span class="nx">translate</span><span class="p">([</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">]){</span>
    <span class="nx">difference</span><span class="p">(){</span>
      <span class="nx">union</span><span class="p">(){</span>        <span class="c1">// combine 1st and 2nd children</span>
                                                <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">5</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">20</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
        <span class="nx">rotate</span><span class="p">([</span><span class="mo">00</span><span class="p">,</span><span class="mf">140</span><span class="p">,</span><span class="o">-</span><span class="mf">45</span><span class="p">])</span> <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;LightBlue&quot;</span><span class="p">)</span> <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">25</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="nx">rotate</span><span class="p">([</span><span class="mo">00</span><span class="p">,</span><span class="mf">40</span><span class="p">,</span><span class="o">-</span><span class="mf">50</span><span class="p">])</span>                       <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">30</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
      <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="o">-</span><span class="mf">10</span><span class="p">])</span><span class="nx">rotate</span><span class="p">([</span><span class="mo">00</span><span class="p">,</span><span class="mf">40</span><span class="p">,</span><span class="o">-</span><span class="mf">50</span><span class="p">])</span>   <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">1.4</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mf">30</span><span class="p">,</span><span class="nx">center</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="intersection">intersection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: intersection">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-7" title="Edit section: intersection">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Creates the intersection of all child nodes. This keeps the <b>overlapping</b> portion (logical <b>and</b>).
<br />
Only the area which is common or shared by <b>all</b> children is retained.<br />
May be used with either 2D or 3D objects, but don't mix them.
</p><p><a href="/wiki/File:Openscad_intersection.jpg" class="image" title="Intersection"><img alt="Intersection" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Openscad_intersection.jpg/400px-Openscad_intersection.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Openscad_intersection.jpg/600px-Openscad_intersection.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Openscad_intersection.jpg/800px-Openscad_intersection.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//Usage example:</span>
<span class="nx">intersection</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">cylinder</span> <span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">4</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">100</span><span class="p">);</span>
	<span class="nx">rotate</span> <span class="p">([</span><span class="mf">90</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">cylinder</span> <span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">4</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><br />
</p>
<h3><span class="mw-headline" id="render">render</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: render">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/CSG_Modelling&amp;action=edit&amp;section=T-8" title="Edit section: render">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Warning:</b> Using render, always calculates the CSG model for this tree (even in OpenCSG preview mode).
This can make previewing very slow and OpenSCAD to appear to hang/freeze.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">Usage</span> <span class="nx">example</span><span class="o">:</span>
<span class="nx">render</span><span class="p">(</span><span class="nx">convexity</span> <span class="o">=</span> <span class="mf">1</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>
<table border="1">

<tbody><tr>
<td>convexity
</td>
<td>Integer. The convexity parameter specifies the maximum number of front and back sides a ray intersecting the object might penetrate. This parameter is only needed for correctly displaying the object in OpenCSG preview mode and has no effect on the polyhedron rendering.
</td></tr></tbody></table>
<p><br />
<a href="/wiki/File:Openscad_convexity.jpg" class="image"><img alt="Openscad convexity.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/400px-Openscad_convexity.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/600px-Openscad_convexity.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/800px-Openscad_convexity.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>This image shows a 2D shape with a convexity of 4, as the ray indicated in red crosses the 2D shape a maximum of 4 times. The convexity of a 3D shape would be determined in a similar way. Setting it to 10 should work fine for most cases.
</p>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_6_--_Other_Functions_and_Operators">Chapter 6 -- Other Functions and Operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=10" class="mw-editsection-visualeditor" title="Edit section: Chapter 6 -- Other Functions and Operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=10" title="Edit section: Chapter 6 -- Other Functions and Operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p>
<h2><span class="mw-headline" id="Conditional_and_Iterator_Functions">Conditional and Iterator Functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=11" class="mw-editsection-visualeditor" title="Edit section: Conditional and Iterator Functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=11" title="Edit section: Conditional and Iterator Functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="For_loop">For loop</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: For loop">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-1" title="Edit section: For loop">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Evaluate each value in a range or vector, applying it to the following Action.
</p>
<pre> for(variable = [start&#160;: increment&#160;: end])
 for(variable = [start&#160;: end])
 for(variable = [vector])
</pre>
<p><b> parameters</b> 
</p>
<dl><dd>As a range <b>[</b> start <b>:</b> &lt;increment <b>:</b> &gt; end <b>]</b> (see section on <a href="/wiki/OpenSCAD_User_Manual/General#Ranges" title="OpenSCAD User Manual/General">range</a>)
<dl><dd><dl><dd><sub><i>Note: For range, values are separated by colons rather than commas used in vectors.</i></sub></dd></dl></dd>
<dd><b>start</b> - initial value</dd>
<dd><b>increment</b> or step - amount to increase the value, <i>optional, default = 1</i></dd>
<dd><b>end</b> - stop when next value would be past end</dd></dl></dd></dl>
<dl><dd><b> examples</b>:</dd></dl>
<pre> for (a =[3:5])echo(a);     // 3 4 5
 for (a =[3:0]){echo(a);}   // 0 1 2 3         start &gt; end is invalid, deprecated by 2015.3
 for (a =[3:0.5:5])echo(a); // 3 3.5 4 4.5 5
 for (a =[0:2:5])echo(a);   // 0 2 4           a never equals end 
 for (a =[3:-2:-1])echo(a); // 3 1 -1          negative increment requires 2015.3
                                               be sure end &lt; start
</pre>
<dl><dd>As a vector
<dl><dd>The Action is evaluated for each element of the vector</dd></dl></dd></dl>
<pre> for (a =[3,4,1,5])echo(a); // 3 4 1 5
 for (a =[0.3,PI,1,99]){echo(a);}    // 0.3 3.14159 1 99
 x1=2; x2=8; x3=5.5;
 for (a =[x1,x2,x3]){echo(a);} // 2 8 5.5 
 for (a =[[1,2],6,"s",[[3,4],[5,6]]])echo(a);  // [1,2] 6 "s" [[3,4],[5,6]] 
</pre>
<dl><dd>The vector can be described elsewhere, like 'for each' in other languages</dd></dl>
<pre> animals = ["elephants", "snakes", "tigers", "giraffes"];
   for(animal = animals)
     echo(str("I've been to the zoo and saw ", animal));
 // "I've been to the zoo and saw elephants", for each animal
</pre>
<p>for() is an Operator. Operators require braces {} if more than one Action is within it scope. Actions end in semicolons, Operators do not.
</p><p>for() is not an exception to the rule about variables having only one value within a scope. Each evaluation  is given its own scope, allowing any variables to have unique values. No, you still can't do a=a+1;
</p><p>Remember this is not an iterative language, the for() does not loop in the programmatic sense, it builds a tree of objects one branch for each item in the range/vector, inside each branch  the 'variable' is a specific and separate instantiation or scope.
</p><p>Hence:
</p>
<pre>for (i=[0:3])
   translate([i*10,0,0])
     cube(i+1);
</pre>
<p>Produces:
<sub><i>[See Design/Display-CSG-Tree menu]</i></sub>
</p>
<pre> group() {
       group() {
               multmatrix([[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]) {
                       cube(size = [1, 1, 1], center = false);
               }
               multmatrix([[1, 0, 0, 10], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]) {
                       cube(size = [2, 2, 2], center = false);
               }
               multmatrix([[1, 0, 0, 20], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]) {
                       cube(size = [3, 3, 3], center = false);
               }
               multmatrix([[1, 0, 0, 30], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]) {
                       cube(size = [4, 4, 4], center = false);
               }
       }
}
</pre>
<p>While the group() is built sequentially, all instances of the for() exist as separate entities, they do not iterate one piece of code sequentially. 
</p>
<dl><dd><b>Nested for()</b></dd></dl>
<p>While it is reasonable to nest multiple for() statements such as:
</p>
<pre>for(z=[-180:45:+180])
  for(x=[10:5:50])
    rotate([0,0,z]) translate([x,0,0]) cube(1);
</pre>
<p>instead, all ranges/vectors can be included in the same for() operator. 
</p>
<pre>for ( variable1 = &lt;range or vector&gt; , variable2 = &lt;range or vector&gt; ) &lt;do something using both variables&gt;
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:382px;"><a href="/wiki/File:OpenSCAD_Manual_nested_for.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d8/OpenSCAD_Manual_nested_for.jpg/380px-OpenSCAD_Manual_nested_for.jpg" decoding="async" width="380" height="257" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/d/d8/OpenSCAD_Manual_nested_for.jpg 1.5x" data-file-width="419" data-file-height="283" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Manual_nested_for.jpg" class="internal" title="Enlarge"></a></div>for() loops nested 3 deep</div></div></div>
<pre> example for() nested 3 deep
 
 color_vec = ["black","red","blue","green","pink","purple"];
 for (x = [-20:10:20] )
 for (y = [0:4] )color(color_vec[y])
 for (z = [0,4,10] )
     {translate([x,y*5-10,z])cube();}
 
 <big><b>shorthand</b></big> nesting for same result
 
 color_vec = ["black","red","blue","green","pink","purple"];
 for (x = [-20:10:20],
 y = [0:4],
 z = [0,4,10] )
     translate([x,y*5-10,z]){color(color_vec[y])cube();}
</pre>
<dl><dd><b>Examples using vector of vectors</b></dd></dl>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_For_Rotation.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/07/OpenSCAD_For_Rotation.png/220px-OpenSCAD_For_Rotation.png" decoding="async" width="220" height="196" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/07/OpenSCAD_For_Rotation.png/330px-OpenSCAD_For_Rotation.png 1.5x, //upload.wikimedia.org/wikipedia/commons/0/07/OpenSCAD_For_Rotation.png 2x" data-file-width="387" data-file-height="345" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_For_Rotation.png" class="internal" title="Enlarge"></a></div>example 1 for() loop vector of vectors (rotation)</div></div></div>
<pre>example 1 - iteration over a vector of vectors (rotation)
  
 for(i = [ [  0,  0,   0],
           [ 10, 20, 300],
           [200, 40,  57],
           [ 20, 88,  57] ])
{
   rotate(i)
   cube([100, 20, 20], center = true);
}
</pre>
<p><br />
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_For_Translation.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bf/OpenSCAD_For_Translation.png/220px-OpenSCAD_For_Translation.png" decoding="async" width="220" height="197" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bf/OpenSCAD_For_Translation.png/330px-OpenSCAD_For_Translation.png 1.5x, //upload.wikimedia.org/wikipedia/commons/b/bf/OpenSCAD_For_Translation.png 2x" data-file-width="381" data-file-height="342" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_For_Translation.png" class="internal" title="Enlarge"></a></div>example 2 for() loop vector of vectors (translation)</div></div></div>
<pre>example 2 - iteration over a vector of vectors (translation)
  
for(i = [ [ 0,  0,  0],
          [10, 12, 10],
          [20, 24, 20],
          [30, 36, 30],
          [20, 48, 40],
          [10, 60, 50] ])
{
   translate(i)
   cube([50, 15, 10], center = true);
}
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Vector_of_vectors_example_3.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/72/OpenSCAD_Vector_of_vectors_example_3.jpg/220px-OpenSCAD_Vector_of_vectors_example_3.jpg" decoding="async" width="220" height="181" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/7/72/OpenSCAD_Vector_of_vectors_example_3.jpg 1.5x" data-file-width="300" data-file-height="247" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Vector_of_vectors_example_3.jpg" class="internal" title="Enlarge"></a></div>example 3 for() loop vector of vectors</div></div></div>
<pre>example 3 - iteration over a vector of vectors
for(i = [ [[ 0,  0,  0], 20],
          [[10, 12, 10], 50],
          [[20, 24, 20], 70],
          [[30, 36, 30], 10],
          [[20, 48, 40], 30],
          [[10, 60, 50], 40] ])
{
  translate([i[0][0], 2*i[0][1], 0])
  cube([10, 15, i[1]]);
}
</pre>
<h3><span class="mw-headline" id="Intersection_For_Loop">Intersection For Loop</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Intersection For Loop">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-2" title="Edit section: Intersection For Loop">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Iterate over the values in a range or vector and create the <a href="/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#intersection" title="OpenSCAD User Manual/The OpenSCAD Language">intersection</a> of  objects created by each pass.
</p><p>Besides creating separate instances for each pass, the standard  <b>for()</b>  also groups all these instances creating an implicit union.
<b>intersection_for()</b> is a work around because the implicit union prevents getting the expected results using a combination of the standard <b>for()</b> and <b>intersection()</b> statements. 
</p><p><b>intersection_for()</b> uses the same parameters, and works the same as a <a href="#For_Loop">For Loop</a>, 
other than eliminating the implicit union.
</p>
<table width="100%">
<tbody><tr>
<td><b>example 1 - loop over a range:</b>
</td></tr>
<tr>
<td><div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">intersection_for</span><span class="p">(</span><span class="nx">n</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span> <span class="o">:</span> <span class="mf">6</span><span class="p">])</span>
<span class="p">{</span>
    <span class="nx">rotate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">n</span> <span class="o">*</span> <span class="mf">60</span><span class="p">])</span>
    <span class="p">{</span>
        <span class="nx">translate</span><span class="p">([</span><span class="mf">5</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>
        <span class="nx">sphere</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">12</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Intersection_For_Range.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/OpenSCAD_Intersection_For_Range.png/220px-OpenSCAD_Intersection_For_Range.png" decoding="async" width="220" height="201" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/OpenSCAD_Intersection_For_Range.png/330px-OpenSCAD_Intersection_For_Range.png 1.5x, //upload.wikimedia.org/wikipedia/commons/0/00/OpenSCAD_Intersection_For_Range.png 2x" data-file-width="384" data-file-height="350" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Intersection_For_Range.png" class="internal" title="Enlarge"></a></div>intersection_for()</div></div></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Intersection()for()_example1.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/a/ac/OpenSCAD_Intersection%28%29for%28%29_example1.jpg/220px-OpenSCAD_Intersection%28%29for%28%29_example1.jpg" decoding="async" width="220" height="190" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/a/ac/OpenSCAD_Intersection%28%29for%28%29_example1.jpg 1.5x" data-file-width="311" data-file-height="269" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Intersection()for()_example1.jpg" class="internal" title="Enlarge"></a></div>either intersection() for() or for() intersection()</div></div></div>
</td></tr></tbody></table>
<p><br />
</p>
<table width="100%">
<tbody><tr>
<td><b>example 2 - rotation </b>:
</td></tr>
<tr>
<td><div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="nx">intersection_for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span>  <span class="mf">0</span><span class="p">,</span>  <span class="mf">0</span><span class="p">,</span>   <span class="mf">0</span><span class="p">],</span>
 			<span class="p">[</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">300</span><span class="p">],</span>
 			<span class="p">[</span><span class="mf">200</span><span class="p">,</span> <span class="mf">40</span><span class="p">,</span>  <span class="mf">57</span><span class="p">],</span>
 			<span class="p">[</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">88</span><span class="p">,</span>  <span class="mf">57</span><span class="p">]</span> <span class="p">])</span>
<span class="p">{</span>
    <span class="nx">rotate</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="nx">cube</span><span class="p">([</span><span class="mf">100</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">20</span><span class="p">],</span> <span class="nx">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Intersection_For_Rotation.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/69/OpenSCAD_Intersection_For_Rotation.png/220px-OpenSCAD_Intersection_For_Rotation.png" decoding="async" width="220" height="203" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/69/OpenSCAD_Intersection_For_Rotation.png/330px-OpenSCAD_Intersection_For_Rotation.png 1.5x, //upload.wikimedia.org/wikipedia/commons/6/69/OpenSCAD_Intersection_For_Rotation.png 2x" data-file-width="386" data-file-height="356" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Intersection_For_Rotation.png" class="internal" title="Enlarge"></a></div>intersection_for()</div></div></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Intersection()for()_example_2.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/12/OpenSCAD_Intersection%28%29for%28%29_example_2.jpg/220px-OpenSCAD_Intersection%28%29for%28%29_example_2.jpg" decoding="async" width="220" height="200" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/1/12/OpenSCAD_Intersection%28%29for%28%29_example_2.jpg 1.5x" data-file-width="281" data-file-height="256" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Intersection()for()_example_2.jpg" class="internal" title="Enlarge"></a></div>intersection()  for()</div></div></div>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="If_Statement">If Statement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: If Statement">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-3" title="Edit section: If Statement">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>Performs a test to determine if the actions in a sub scope should be performed or not.
</p><p><b>REALLY IMPORTANT</b>. You can't change the value of Variables. If you update the value of a variable inside brackets, the new value will be lost as soon as you exit that scope. 
</p>
<pre>if (test) scope1
if (test){scope1}
if (test) scope1  else  scope2
if (test){scope1} else {scope2}
</pre>
<dl><dd><b>Parameters</b></dd></dl>
<dl><dd><dl><dd><b>test</b>: Usually a boolean expression, but can be any value or variable.
<dl><dd><a href="/wiki/OpenSCAD_User_Manual/General#Boolean_Values" title="OpenSCAD User Manual/General"> See here for true or false state of values.</a></dd>
<dd><a href="/wiki/OpenSCAD_User_Manual/Mathematical_Operators#Relational_Operators" title="OpenSCAD User Manual/Mathematical Operators">See here for boolean and logical operators</a></dd>
<dd>Do not confuse the assignment operator '=' with the equal operator '=='</dd></dl></dd>
<dd><b>scope1</b>: one or more actions to take when test is <b>true</b>.</dd>
<dd><b>scope2</b>: one or more actions to take when test is <b>false</b>.</dd></dl></dd></dl>
<pre>if (b==a)  cube(4);
if (b&lt;a)  {cube(4); cylinder(6);}
if (b&amp;&amp;a) {cube(4); cylinder(6);}
if (b!=a)  cube(4); else cylinder(3);
if (b)    {cube(4); cylinder(6);} else {cylinder(10,5,5);} 
if (!true){cube(4); cylinder(6);} else  cylinder(10,5,5); 
if (x&gt;y)   cube(1, center=false); else {cube(size = 2, center = true);}
if (a==4) {}                      else  echo("a is not 4");
if ((b&lt;5)&amp;&amp;(a&gt;8))  {cube(4);}     else {cylinder(3);}
if (b&lt;5&amp;&amp;a&gt;8)       cube(4);      else  cylinder(3);
</pre>
<p>Since 2015.03 variables can now be assigned in any scope. Note that assignments are only valid within the scope in which they are defined - you are still not allowed to leak values to an outer scope. See <a href="#Scope_of_variables">Scope of variables</a> for more details.
</p>
<dl><dd><b>Nested if</b></dd></dl>
<p>The scopes of both the <b>if()</b> portion and the <b>else</b> portion, can in turn contain <b>if()</b> statements. This nesting can be to many depths.
</p>
<pre> if (test1) 
 {
   scope1 if (test2) {scope2.1}
          else {scope2.2}
 }
 else
{
  scope2 if (test3) {scope3.1}
         else {scope3.2}
}

</pre>
<p>When scope1 and scope2 contain <b>only</b> the if() statement, the outer sets of braces can be removed.
</p>
<pre> if (test1)
   if (test2) {scope2.1}
   else {scope2.2}
 else
   if (test3) {scope3.1}
   else {scope3.2}
</pre>
<p>One evolution is this:
</p>
<h4><span class="mw-headline" id="else_if">else if</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: else if">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-4" title="Edit section: else if">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>      if(test1) {scope1}
 else if(test2) {scope2}
 else if(test3) {scope3}
 else if(test4) {scope4}
 else           {scope5}
</pre>
<p>Note that <i>else</i> and <i>if</i> are two separate words. When working down the chain of tests, the first true uses its scope. All further tests are skipped.
</p>
<dl><dt>example</dt></dl>
<pre>if((k&lt;8)&amp;&amp;(m&gt;1)) cube(10);
else if(y==6)   {sphere(6);cube(10);}
else if(y==7)    color("blue")sphere(5);
else if(k+m!=8) {cylinder(15,5,0);sphere(8);}
else             color("green"){cylinder(12,5,0);sphere(8);}
</pre>
<h3><span id="Conditional_.3F_:"></span><span class="mw-headline" id="Conditional_?_:">Conditional&#160;?&#160;:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Conditional ? :">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-5" title="Edit section: Conditional ? :">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>A function that uses a test to determine which of 2 values to return.
</p>
<pre> a =   test&#160;? TrueValue&#160;: FalseValue&#160;;
 echo( test&#160;? TrueValue&#160;: FalseValue );
</pre>
<dl><dd><b>Parameters</b></dd></dl>
<dl><dd><dl><dd><b>test</b>: Usually a boolean expression, but can be any value or variable.
<dl><dd><a href="/wiki/OpenSCAD_User_Manual/General#Boolean_Values" title="OpenSCAD User Manual/General"> See here for true or false state of values.</a></dd>
<dd><a href="/wiki/OpenSCAD_User_Manual/Mathematical_Operators#Relational_Operators" title="OpenSCAD User Manual/Mathematical Operators">See here for boolean and logical operators</a></dd>
<dd>Do not confuse assignment '=' with equal '=='</dd></dl></dd>
<dd><b>TrueValue</b>:  the value to return when test is <b>true</b>.</dd>
<dd><b>FalseValue</b>: the value to return when test is <b>false</b>.
<dl><dd><dl><dd>A value in OpenSCAD is either a Number (like 42), a Boolean (like true), a String (like "foo"), a Vector (like [1,2,3]), or the Undefined value (undef). Values can be stored in variables, passed as function arguments, and returned as function results.</dd></dl></dd></dl></dd></dl></dd></dl>
<p>This works like the <tt>?:</tt> operator from the family of C-like programming languages.
</p>
<dl><dd><b>Examples</b></dd></dl>
<pre> a=1; b=2; c= a==b&#160;? 4&#160;: 5&#160;;                  //  5
 a=1; b=2; c= a==b&#160;? "a==b"&#160;: "a!=b"&#160;;        //  "a!=b"
  
 TrueValue = true; FalseValue = false;
 a=5; test = a==1;
 echo( test&#160;? TrueValue&#160;: FalseValue );       // false
  
 L = 75; R = 2; test = (L/R)&gt;25;
 TrueValue =  [test,L,R,L/R,cos(30)];
 FalseValue = [test,L,R,sin(15)];
 a1 = test&#160;? TrueValue&#160;: FalseValue&#160;;         // [true, 75, 2, 37.5, 0.866025]
</pre>
<pre>Some forms of <a href="/wiki/OpenSCAD_User_Manual/User-Defined_Functions_and_Modules#Recursive_functions" title="OpenSCAD User Manual/User-Defined Functions and Modules">tail-recursion</a> elimination are supported.
</pre>
<h4><span class="mw-headline" id="Recursive_function_calls">Recursive function calls</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Recursive function calls">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-6" title="Edit section: Recursive function calls">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Recursive function calls are supported. Using the Conditional "...&#160;? ...&#160;: ... " it's possible to ensure the recursion is terminated.
Note: There is a built-in recursion limit to prevent an application crash. If the limit is hit, the function returns undef.
</p>
<dl><dd><b>example</b></dd></dl>
<pre> // recursion - find the sum of the values in a vector (array) by calling itself
 // from the start (or s'th element) to the i'th element - remember elements are zero based

 function sumv(v, i, s = 0) = (i == s&#160;? v[i]&#160;: v[i] + sumv(v, i-1, s));
 
 vec=[ 10, 20, 30, 40 ];
 echo("sum vec=", sumv(vec, 2, 1)); // calculates 20+30=50
</pre>
<h4><span class="mw-headline" id="Formatting_complex_usage">Formatting complex usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: Formatting complex usage">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-7" title="Edit section: Formatting complex usage">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Multiple nested conditionals can become difficult to understand.
Formatting them like multi-line indented "if/else" statements is clearer.
</p>
<pre>// find the maximum value in a vector
function maxv(v, m=-999999999999, i=0) = 
    (i == len(v) ) 
   &#160;?     m 
   &#160;:     (m &gt; v[i]) 
         &#160;?    maxv(v, m, i+1) 
         &#160;:    maxv(v, v[i], i+1);

v=[7,3,9,3,5,6];
echo("max",maxv(v));   // ECHO: "max", 9

</pre>
<h3><span class="mw-headline" id="Assign_Statement">Assign Statement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Assign Statement">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-8" title="Edit section: Assign Statement">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p>[<i><span style="font-weight: bold; color: #A00000;">Deprecated:</span> <b>assign()</b> will be removed in future releases.&#160;Variables can now be assigned anywhere. If you prefer this way of setting values, the new <a href="#Let_Statement">Let Statement</a> can be used instead.</i>]
</p><p>Set variables to a new value for a sub-tree.
</p>
<dl><dd><b>Parameters</b></dd></dl>
<dl><dd><dl><dd>The variables that should be (re-)assigned</dd></dl></dd></dl>
<dl><dd><b>example:</b></dd></dl>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10</span><span class="o">:</span><span class="mf">50</span><span class="p">])</span>
<span class="p">{</span>
    <span class="nx">assign</span> <span class="p">(</span><span class="nx">angle</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">360</span><span class="o">/</span><span class="mf">20</span><span class="p">,</span> <span class="nx">distance</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">,</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">rotate</span><span class="p">(</span><span class="nx">angle</span><span class="p">,</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
        <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="nx">distance</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
        <span class="nx">sphere</span><span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10</span><span class="o">:</span><span class="mf">50</span><span class="p">])</span>
<span class="p">{</span>
    <span class="nx">angle</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">360</span><span class="o">/</span><span class="mf">20</span><span class="p">;</span>
    <span class="nx">distance</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">;</span>
    <span class="nx">r</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">2</span><span class="p">;</span>
    <span class="nx">rotate</span><span class="p">(</span><span class="nx">angle</span><span class="p">,</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
    <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="nx">distance</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
    <span class="nx">sphere</span><span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Let_Statement">Let Statement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Let Statement">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Conditional_and_Iterator_Functions&amp;action=edit&amp;section=T-9" title="Edit section: Let Statement">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<hr />
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>Set variables to a new value for a sub-tree.
The parameters are evaluated sequentially and may depend on each other (as opposed to the deprecated assign() statement).
</p>
<dl><dd><b>Parameters</b></dd></dl>
<dl><dd><dl><dd>The variables that should be set</dd></dl></dd></dl>
<dl><dd><b>example:</b></dd></dl>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10</span><span class="o">:</span><span class="mf">50</span><span class="p">])</span>
<span class="p">{</span>
    <span class="kd">let</span> <span class="p">(</span><span class="nx">angle</span> <span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">360</span><span class="o">/</span><span class="mf">20</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span> <span class="nx">i</span><span class="o">*</span><span class="mf">2</span><span class="p">,</span> <span class="nx">distance</span> <span class="o">=</span> <span class="nx">r</span><span class="o">*</span><span class="mf">5</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">rotate</span><span class="p">(</span><span class="nx">angle</span><span class="p">,</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
        <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="nx">distance</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span>
        <span class="nx">sphere</span><span class="p">(</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p style="page-break-after:always;"></p>
<h2><span class="mw-headline" id="Mathematical_Operators">Mathematical Operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=12" class="mw-editsection-visualeditor" title="Edit section: Mathematical Operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=12" title="Edit section: Mathematical Operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<h2><span class="mw-headline" id="Scalar_arithmetic_operators">Scalar arithmetic operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Scalar arithmetic operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-1" title="Edit section: Scalar arithmetic operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The scalar arithmetic operators take numbers as operands and produce a new number.
</p>
<table class="wikitable">
<tbody><tr>
<td>&#43;
</td>
<td>add
</td></tr>
<tr>
<td>&#45;
</td>
<td>subtract
</td></tr>
<tr>
<td>*
</td>
<td>multiply
</td></tr>
<tr>
<td>/
</td>
<td>divide
</td></tr>
<tr>
<td>%
</td>
<td>modulo
</td></tr>
<tr>
<td>^
</td>
<td>exponent <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2021.01</span></span>]</span>
</td></tr></tbody></table>
<p>The <code>-</code> can also be used as prefix operator to negate a number.
</p><p>Prior to version 2021.01, the builtin mathematical function <code><a href="/wiki/OpenSCAD_User_Manual/Mathematical_Functions#pow" title="OpenSCAD User Manual/Mathematical Functions">pow()</a></code> is used instead of the <code>^</code> exponent operator.
</p>
<h2><span class="mw-headline" id="Relational_operators">Relational operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Relational operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-2" title="Edit section: Relational operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Relational operators produce a boolean result from two operands.
</p>
<table class="wikitable">
<tbody><tr>
<td>&lt;
</td>
<td>less than
</td></tr>
<tr>
<td>&lt;=
</td>
<td>less or equal
</td></tr>
<tr>
<td>==
</td>
<td>equal
</td></tr>
<tr>
<td>!=
</td>
<td>not equal
</td></tr>
<tr>
<td>&gt;=
</td>
<td>greater or equal
</td></tr>
<tr>
<td>&gt;
</td>
<td>greater than
</td></tr></tbody></table>
<p>If both operands are simple numbers, the meaning is self-evident.  
</p><p>If both operands are strings, alphabetical sorting determines 
equality and order.  E.g., "ab" &gt; "aa" &gt; "a".  
</p><p>If both operands are Booleans, <i>true</i> &gt; <i>false</i>.  In an inequality comparison between a Boolean 
and a number <i>true</i> is treated as 1 and <i>false</i> is treated as 0.  Other inequality tests involving Booleans 
return false.    
</p><p>If both operands are vectors, an equality test returns <i>true</i> when the vectors are identical and <i>false</i> otherwise.  
Inequality tests involving one or two vectors always return <i>false</i>, so for example [1] &lt; [2] is <i>false</i>.  
</p><p>Dissimilar types always test as unequal with '==' and '!='.   
Inequality comparisons between dissimilar types, except for Boolean and numbers as noted above, always result in <i>false</i>.  
Note that [1] and 1 are different types so [1] == 1 is false.  
</p><p><code>undef</code> doesn't equal anything but <i>undef</i>.  Inequality comparisons involving <i>undef</i> result in <i>false</i>.
</p><p><code>nan</code> doesn't equal anything (not even itself) and inequality tests all produce <i>false</i>.  See <a href="/wiki/OpenSCAD_User_Manual/General#Numbers" title="OpenSCAD User Manual/General">Numbers</a>.
</p>
<h2><span class="mw-headline" id="Logical_operators">Logical operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Logical operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-3" title="Edit section: Logical operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>All logical operators take Booleans as operands and produce a Boolean.  
Non-Boolean quantities are converted to Booleans before the operator is evaluated. 
</p>
<table class="wikitable">
<tbody><tr>
<td>&amp;&amp;
</td>
<td>logical AND
</td></tr>
<tr>
<td>&#124;&#124;
</td>
<td>logical OR
</td></tr>
<tr>
<td>!
</td>
<td>logical unary NOT
</td></tr>
</tbody></table>
<p>Since <code>[false]</code> is <code>true</code>, <code>false || [false]</code> is also <code>true</code>.
</p><p>Logical operators deal with vectors differently than relational operators:
</p><p><code>[1, 1] &gt; [0, 2]</code> is <code>false</code>, but 
</p><p><code>[false, false] &amp;&amp; [false, false]</code> is <code>true</code>.
</p>
<h2><span class="mw-headline" id="Conditional_operator">Conditional operator</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Conditional operator">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-4" title="Edit section: Conditional operator">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The <tt>?:</tt> operator can be used to conditionally evaluate one or another expression.
It works like the <tt>?:</tt> operator from the family of C-like programming languages.
</p>
<table class="wikitable">
<tbody><tr>
<td>&#160;?&#160;:
</td>
<td>Conditional operator
</td></tr></tbody></table>
<table width="75%">
<tbody><tr>
<td><b>Usage Example:</b>
</td></tr>
<tr>
<td>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">a</span><span class="o">=</span><span class="mf">1</span><span class="p">;</span>
<span class="nx">b</span><span class="o">=</span><span class="mf">2</span><span class="p">;</span>
<span class="nx">c</span><span class="o">=</span> <span class="nx">a</span><span class="o">==</span><span class="nx">b</span> <span class="o">?</span> <span class="mf">4</span> <span class="o">:</span> <span class="mf">5</span><span class="p">;</span>
</pre></div>
<p>If a equals b, then c is set to 4, else c is set to 5.
<br />
The part "a==b" must be something that evaluates to a boolean value.
</p>
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Vector-number_operators">Vector-number operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Vector-number operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-5" title="Edit section: Vector-number operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The vector-number operators take a vector and a number as operands and produce a new vector.
</p>
<table class="wikitable">
<tbody><tr>
<td>*
</td>
<td>multiply all vector elements by number
</td></tr>
<tr>
<td>/
</td>
<td>divide all vector elements by number
</td></tr></tbody></table>
<dl><dd><b>Example</b></dd></dl>
<pre>L = [1, [2, [3, "a"] ] ];
echo(5*L);
// ECHO: [5, [10, [15, undef]]]
</pre>
<h2><span class="mw-headline" id="Vector_operators_2">Vector operators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Vector operators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-6" title="Edit section: Vector operators">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The vector operators take vectors as operands and produce a new vector.
</p>
<table class="wikitable">
<tbody><tr>
<td>&#43;
</td>
<td>add element-wise
</td></tr>
<tr>
<td>&#45;
</td>
<td>subtract element-wise
</td></tr></tbody></table>
<p>The <code>-</code> can also be used as prefix operator to element-wise negate a vector.
</p>
<dl><dd><b>Example</b></dd></dl>
<pre>L1 = [1, [2, [3, "a"] ] ];
L2 = [1, [2, 3] ];
echo(L1+L1); // ECHO: [2, [4, [6, undef]]]
echo(L1+L2); // ECHO: [2, [4, undef]]
</pre>
<h2><span class="mw-headline" id="Vector_dot-product_operator">Vector dot-product operator</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: Vector dot-product operator">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-7" title="Edit section: Vector dot-product operator">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If both operands of multiplication are simple vectors, the result is a number according to the linear algebra rule for <a href="https://en.wikipedia.org/wiki/Dot_product" class="extiw" title="w:Dot product">dot product</a>.  
<code>c = u*v;</code> results in <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c=\sum u_{i}v_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>c</mi>
        <mo>=</mo>
        <mo>&#x2211;<!-- ∑ --></mo>
        <msub>
          <mi>u</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <msub>
          <mi>v</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c=\sum u_{i}v_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/62719e8c892aa5cc4d9357848a218d3c4b73654c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.338ex; width:11.904ex; height:3.843ex;" alt="{\displaystyle c=\sum u_{i}v_{i}}"/></span>.  If the operands' sizes don't match, the result is <code>undef</code>.
</p>
<h2><span class="mw-headline" id="Matrix_multiplication">Matrix multiplication</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Matrix multiplication">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Operators&amp;action=edit&amp;section=T-8" title="Edit section: Matrix multiplication">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If one or both operands of multiplication are matrices, the result is a simple vector or matrix according to the linear algebra rules for <a href="https://en.wikipedia.org/wiki/Matrix_multiplication#Matrix_product_.28two_matrices.29" class="extiw" title="w:Matrix multiplication">matrix product</a>.  
In the following, <span class="texhtml" style="white-space: nowrap;">A, B, C...</span> are matrices, <span class="texhtml" style="white-space: nowrap;">u, v, w...</span> are vectors.  Subscripts <span class="texhtml" style="white-space: nowrap;">i, j</span> denote element indices.  
</p><p>For <span class="texhtml" style="white-space: nowrap;">A</span> a matrix of size <span class="texhtml" style="white-space: nowrap;">n × m</span> and 
<span class="texhtml" style="white-space: nowrap;">B</span> a matrix of size <span class="texhtml" style="white-space: nowrap;">m × p</span>, their product
<code>C = A*B;</code> is a matrix of size <span class="texhtml" style="white-space: nowrap;">n × p</span> with elements
</p><p><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{ij}=\sum _{k=0}^{m-1}A_{ik}B_{kj}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>j</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>m</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <msub>
          <mi>A</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>k</mi>
          </mrow>
        </msub>
        <msub>
          <mi>B</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mi>j</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{ij}=\sum _{k=0}^{m-1}A_{ik}B_{kj}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0cdb6e01b98696f33cdd13519f49a5d31a0eb5bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.171ex; width:17.097ex; height:7.509ex;" alt="{\displaystyle C_{ij}=\sum _{k=0}^{m-1}A_{ik}B_{kj}}"/></span>.
</p><p><code>C = B*A;</code> results in <code>undef</code> unless <span class="texhtml" style="white-space: nowrap;">n</span> = <span class="texhtml" style="white-space: nowrap;">p</span>.
</p><p>For <span class="texhtml" style="white-space: nowrap;">A</span> a matrix of size <span class="texhtml" style="white-space: nowrap;">n × m</span> and 
<span class="texhtml" style="white-space: nowrap;">v</span> a vector of size <span class="texhtml" style="white-space: nowrap;">m</span>, their product
<code>u = A*v;</code> is a vector of size <span class="texhtml" style="white-space: nowrap;">n</span> with elements
</p><p><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle u_{i}=\sum _{k=0}^{m-1}A_{ik}v_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>u</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>m</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <msub>
          <mi>A</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>k</mi>
          </mrow>
        </msub>
        <msub>
          <mi>v</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle u_{i}=\sum _{k=0}^{m-1}A_{ik}v_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a25ee6408c0dbf26d2ecce9c86c3214fa22e6aba" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.171ex; width:14.774ex; height:7.509ex;" alt="{\displaystyle u_{i}=\sum _{k=0}^{m-1}A_{ik}v_{k}}"/></span>. 
</p><p>In linear algebra, this 
is the <a href="https://en.wikipedia.org/wiki/Matrix_multiplication#Square_matrix_and_column_vector" class="extiw" title="w:Matrix multiplication">product of a matrix and a column vector</a>.
</p><p>For <span class="texhtml" style="white-space: nowrap;">v</span> a vector of size <span class="texhtml" style="white-space: nowrap;">n</span> and 
<span class="texhtml" style="white-space: nowrap;">A</span> a matrix of size <span class="texhtml" style="white-space: nowrap;">n × m</span>, their product
<code>u = v*A;</code> is a vector of size <span class="texhtml" style="white-space: nowrap;">m</span> with elements
</p><p><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle u_{j}=\sum _{k=0}^{n-1}v_{k}A_{kj}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>u</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <msub>
          <mi>v</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <msub>
          <mi>A</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mi>j</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle u_{j}=\sum _{k=0}^{n-1}v_{k}A_{kj}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7f46be5cabd3bdfc2ef5047ff3d0542bde66442c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.171ex; width:14.806ex; height:7.509ex;" alt="{\displaystyle u_{j}=\sum _{k=0}^{n-1}v_{k}A_{kj}}"/></span>. 
</p><p>In linear algebra, this 
is the product of a row vector and a matrix.
</p><p>Matrix multiplication is not commutative: <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle AB\neq BA}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>A</mi>
        <mi>B</mi>
        <mo>&#x2260;<!-- ≠ --></mo>
        <mi>B</mi>
        <mi>A</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle AB\neq BA}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/38f1a5c060698eefdb6af8dd172fd3fe7124189c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:10.113ex; height:2.676ex;" alt="{\displaystyle AB\neq BA}"/></span>,  <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle Av\neq vA}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>A</mi>
        <mi>v</mi>
        <mo>&#x2260;<!-- ≠ --></mo>
        <mi>v</mi>
        <mi>A</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle Av\neq vA}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/43b5db3b81699facd7bdf07afd0e85312fc763ee" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:8.84ex; height:2.676ex;" alt="{\displaystyle Av\neq vA}"/></span>.
</p>
<p style="page-break-after:always;"></p>
<h2><span class="mw-headline" id="Mathematical_Functions">Mathematical Functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=13" class="mw-editsection-visualeditor" title="Edit section: Mathematical Functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=13" title="Edit section: Mathematical Functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<table cellspacing="0" cellpadding="0" style="clear: right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none; width: auto;">
<tbody><tr>
<td>
</td></tr></tbody></table>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<h2><span class="mw-headline" id="Trigonometric_functions">Trigonometric functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Trigonometric functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-1" title="Edit section: Trigonometric functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The trig functions use the C Language mathematics functions, which are based in turn on Binary Floating Point mathematics, which use approximations of Real Numbers during calculation. OpenSCAD's math functions use the C++ 'double' type, inside Value.h/Value.cc, 
</p><p>A good resource for the specifics of the C library math functions, such as valid inputs/output ranges, can be found at the Open Group website <a rel="nofollow" class="external text" href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/math.h.html">math.h</a> &amp; <a rel="nofollow" class="external text" href="http://pubs.opengroup.org/onlinepubs/009695399/functions/acos.html">acos</a>
</p>
<h3><span class="mw-headline" id="cos">cos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: cos">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-2" title="Edit section: cos">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>cosine</b> function of degrees. See <a href="https://en.wikipedia.org/wiki/Cosine#Sine.2C_cosine_and_tangent" class="extiw" title="w:Cosine">Cosine</a>
</p><p><b>Parameters</b>
</p>
<dl><dt>&lt;degrees&gt;</dt>
<dd>Decimal.  Angle in degrees.</dd></dl>
<table width="75%">
<tbody><tr>
<td><b>Usage example:</b>
</td></tr>
<tr>
<td>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">36</span><span class="p">])</span>
    <span class="nx">translate</span><span class="p">([</span><span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>
       <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">5</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">cos</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">)</span><span class="o">*</span><span class="mf">50</span><span class="o">+</span><span class="mf">60</span><span class="p">);</span>
</pre></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Cos_Function.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3f/OpenSCAD_Cos_Function.png/220px-OpenSCAD_Cos_Function.png" decoding="async" width="220" height="123" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3f/OpenSCAD_Cos_Function.png/330px-OpenSCAD_Cos_Function.png 1.5x, //upload.wikimedia.org/wikipedia/commons/3/3f/OpenSCAD_Cos_Function.png 2x" data-file-width="390" data-file-height="218" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Cos_Function.png" class="internal" title="Enlarge"></a></div>OpenSCAD Cos Function‎</div></div></div>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="sin">sin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: sin">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-3" title="Edit section: sin">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>sine</b> function. See <a href="https://en.wikipedia.org/wiki/Trigonometric_functions#Sine.2C_cosine_and_tangent" class="extiw" title="w:Trigonometric functions">Sine</a>
</p><p><b>Parameters</b>
</p>
<dl><dt>&lt;degrees&gt;</dt>
<dd>Decimal. Angle in degrees.</dd></dl>
<table width="75%">
<tbody><tr>
<td><b>Usage example 1:</b>
</td></tr>
<tr>
<td>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">5</span><span class="p">])</span> <span class="p">{</span>
  <span class="nx">echo</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">,</span> <span class="nx">sin</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">)</span><span class="o">*</span><span class="mf">80</span><span class="p">,</span> <span class="nx">cos</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">)</span><span class="o">*</span><span class="mf">80</span><span class="p">);</span>
   <span class="nx">translate</span><span class="p">([</span><span class="nx">sin</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">)</span><span class="o">*</span><span class="mf">80</span><span class="p">,</span> <span class="nx">cos</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">)</span><span class="o">*</span><span class="mf">80</span><span class="p">,</span> <span class="mf">0</span> <span class="p">])</span>
    <span class="nx">cylinder</span><span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">10</span><span class="p">);</span>
 <span class="p">}</span>
</pre></div>
</td>
<td>
</td></tr></tbody></table>
<table width="75%">
<tbody><tr>
<td><b>Usage example 2:</b>
</td></tr>
<tr>
<td>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">36</span><span class="p">])</span>
    <span class="nx">translate</span><span class="p">([</span><span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>
       <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mf">5</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">sin</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">)</span><span class="o">*</span><span class="mf">50</span><span class="o">+</span><span class="mf">60</span><span class="p">);</span>
</pre></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Sin_Function.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c8/OpenSCAD_Sin_Function.png/220px-OpenSCAD_Sin_Function.png" decoding="async" width="220" height="113" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c8/OpenSCAD_Sin_Function.png/330px-OpenSCAD_Sin_Function.png 1.5x, //upload.wikimedia.org/wikipedia/commons/c/c8/OpenSCAD_Sin_Function.png 2x" data-file-width="388" data-file-height="199" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Sin_Function.png" class="internal" title="Enlarge"></a></div>OpenSCAD Sin Function</div></div></div>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="tan">tan</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: tan">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-4" title="Edit section: tan">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>tangent</b> function. See <a href="https://en.wikipedia.org/wiki/Trigonometric_functions#Sine.2C_cosine_and_tangent" class="extiw" title="w:Trigonometric functions">Tangent</a>
</p><p><b>Parameters</b>
</p>
<dl><dt>&lt;degrees&gt;</dt>
<dd>Decimal.  Angle in degrees.</dd></dl>
<table width="75%">
<tbody><tr>
<td><b>Usage example:</b>
</td></tr>
<tr>
<td>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">5</span><span class="p">])</span> <span class="p">{</span>
  <span class="nx">echo</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">,</span> <span class="nx">tan</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">)</span><span class="o">*</span><span class="mf">80</span><span class="p">);</span>
   <span class="nx">translate</span><span class="p">([</span><span class="nx">tan</span><span class="p">(</span><span class="mf">360</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mf">6</span><span class="p">)</span><span class="o">*</span><span class="mf">80</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span> <span class="p">])</span>
    <span class="nx">cylinder</span><span class="p">(</span><span class="nx">h</span> <span class="o">=</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">r</span><span class="o">=</span><span class="mf">10</span><span class="p">);</span>
 <span class="p">}</span>
</pre></div>
</td>
<td>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="acos">acos</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: acos">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-5" title="Edit section: acos">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>arccosine</b>, or <b>inverse cosine</b>, expressed in degrees. See: <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" class="extiw" title="w:Inverse trigonometric functions">Inverse trigonometric functions</a>
</p>
<h3><span class="mw-headline" id="asin">asin</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: asin">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-6" title="Edit section: asin">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>arcsine</b>, or <b>inverse sine</b>, expressed in degrees. See: <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" class="extiw" title="w:Inverse trigonometric functions">Inverse trigonometric functions</a>
</p>
<h3><span class="mw-headline" id="atan">atan</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: atan">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-7" title="Edit section: atan">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>arctangent</b>, or <b>inverse tangent</b>, function. Returns the principal value of the arc tangent of x, expressed in degrees. <code>atan</code> cannot distinguish between y/x and -y/-x and returns angles from -90 to +90. See: <a href="https://en.wikipedia.org/wiki/Atan2" class="extiw" title="w:Atan2">atan2</a> and also <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" class="extiw" title="w:Inverse trigonometric functions">Inverse trigonometric functions</a>
</p>
<h3><span class="mw-headline" id="atan2">atan2</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: atan2">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-8" title="Edit section: atan2">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>two-argument atan</b> function atan2(y,x) that spans the full 360 degrees.  This function returns the full angle (0-360) made between the x axis and the vector(x,y) expressed in degrees.
</p><p><b>Usage examples:</b>
</p>
<pre>atan2(5.0,-5.0);     //result: 135 degrees. atan() would give -45
atan2(y,x);          //angle between (1,0) and (x,y) = angle around z-axis
</pre>
<h2><span class="mw-headline" id="Other_Mathematical_Functions">Other Mathematical Functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Other Mathematical Functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-9" title="Edit section: Other Mathematical Functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="abs">abs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: abs">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-10" title="Edit section: abs">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>absolute value</b> function. Returns the positive value of a signed decimal number.
</p><p><b>Usage examples:</b>
</p>
<pre>abs(-5.0);  returns 5.0
abs(0);     returns 0.0
abs(8.0);   returns 8.0
</pre>
<h3><span class="mw-headline" id="ceil">ceil</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: ceil">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-11" title="Edit section: ceil">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>ceiling</b> function.  
</p><p>Returns the next highest integer value by rounding up value if necessary.
</p><p>See: <a href="https://en.wikipedia.org/wiki/Ceil_function" class="extiw" title="w:Ceil function">Ceil Function</a>
</p>
<pre>echo(ceil(4.4),ceil(-4.4));     // produces ECHO: 5, -4
</pre>
<h3><span class="mw-headline" id="concat_2">concat</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: concat">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-12" title="Edit section: concat">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Return a new vector that is the result of appending the elements of the supplied vectors.
</p><p>Where an argument is a vector the elements of the vector are individually appended to the result vector.
Strings are distinct from vectors in this case.
</p><p><b>Usage examples:</b>
</p>
<pre>echo(concat("a","b","c","d","e","f"));          // produces ECHO: ["a", "b", "c", "d", "e", "f"]
echo(concat(["a","b","c"],["d","e","f"]));      // produces ECHO: ["a", "b", "c", "d", "e", "f"]
echo(concat(1,2,3,4,5,6));                      // produces ECHO: [1, 2, 3, 4, 5, 6]
</pre>
<p>Vector of vectors
</p>
<pre>echo(concat([ [1],[2] ], [ [3] ]));             // produces ECHO: [[1], [2], [3]]
</pre>
<p><i><b>Note:</b></i> All vectors passed to the function  lose one nesting level. When adding something like a single element [x, y, z] tuples (which are vectors, too), the tuple needs to be enclosed in a vector (i.e. an extra set of brackets) before the concatenation. in the exmple below, a fourth point is added to the polygon path, which used to resemble a triangle, making it a square now:
</p>
<pre>polygon(concat([[0,0],[0,5],[5,5]], [[5,0]]));
</pre>
<p>Contrast with strings
</p>
<pre>echo(concat([1,2,3],[4,5,6]));                   // produces ECHO: [1, 2, 3, 4, 5, 6]
echo(concat("abc","def"));                       // produces ECHO: ["abc", "def"]
echo(str("abc","def"));                          // produces ECHO: "abcdef"
</pre>
<h3><span class="mw-headline" id="cross">cross</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: cross">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-13" title="Edit section: cross">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Calculates the cross product of two vectors in 3D or 2D space. If both vectors are in the 3D, the result is a vector that is perpendicular to both of the input vectors. If both vectors are in 2D space, their cross product has the form [0,0,z] and the cross function returns just the z value of the cross product:  
</p><p><i>cross([x,y], [u,v]) = x*v - y*u</i>
</p><p>Note that this is the determinant of the 2x2 matrix [[x,y],[u,v]].  Using any other types, vectors with lengths different from 2 or 3, or vectors not of the same length produces 'undef'.  
</p><p><b>Usage examples:</b>
</p>
<pre>echo(cross([2, 3, 4], [5, 6, 7]));     // produces ECHO: [-3, 6, -3]
echo(cross([2, 1, -3], [0, 4, 5]));    // produces ECHO: [17, -10, 8]
echo(cross([2, 1], [0, 4]));           // produces ECHO: 8
echo(cross([1, -3], [4, 5]));          // produces ECHO: 17
echo(cross([2, 1, -3], [4, 5]));       // produces ECHO: undef
echo(cross([2, 3, 4], "5"));           // produces ECHO: undef
</pre>
<p>For any two vectors <i>a</i> and <i>b</i> in 2D or in 3D, the following holds:
</p><p><i>cross(a,b) == -cross(b,a)</i>
</p>
<h3><span class="mw-headline" id="exp">exp</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-14" class="mw-editsection-visualeditor" title="Edit section: exp">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-14" title="Edit section: exp">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>exp</b> function. Returns the base-e exponential function of x, which is the number e raised to the power x. See: <a href="https://en.wikipedia.org/wiki/Exponent" class="extiw" title="w:Exponent">Exponent</a>
</p>
<pre>echo(exp(1),exp(ln(3)*4));    // produces ECHO: 2.71828, 81
</pre>
<h3><span class="mw-headline" id="floor">floor</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-15" class="mw-editsection-visualeditor" title="Edit section: floor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-15" title="Edit section: floor">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>floor</b> function.  floor(x) =  is the largest integer not greater than x 
</p><p>See: <a href="https://en.wikipedia.org/wiki/Floor_function" class="extiw" title="w:Floor function">Floor Function</a>
</p>
<pre>echo(floor(4.4),floor(-4.4));    // produces ECHO: 4, -5
</pre>
<h3><span class="mw-headline" id="ln">ln</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-16" class="mw-editsection-visualeditor" title="Edit section: ln">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-16" title="Edit section: ln">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>natural logarithm</b>.  See: <a href="https://en.wikipedia.org/wiki/Natural_logarithm" class="extiw" title="w:Natural logarithm">Natural logarithm</a>
</p>
<h3><span class="mw-headline" id="len_2">len</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-17" class="mw-editsection-visualeditor" title="Edit section: len">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-17" title="Edit section: len">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>length</b> function.  Returns the length of an array, a vector or a string parameter.
</p><p><b>Usage examples:</b>
</p>
<pre>str1="abcdef"; len_str1=len(str1);
echo(str1,len_str1);

a=6; len_a=len(a);
echo(a,len_a);

array1=[1,2,3,4,5,6,7,8]; len_array1=len(array1);
echo(array1,len_array1);

array2=[[0,0],[0,1],[1,0],[1,1]]; len_array2=len(array2);
echo(array2,len_array2);

len_array2_2=len(array2[2]);
echo(array2[2],len_array2_2);
</pre>
<p><b>Results:</b>
</p>
<pre>WARNING: len() parameter could not be converted in file , line 4
ECHO: "abcdef", 6
ECHO: 6, undef
ECHO: [1, 2, 3, 4, 5, 6, 7, 8], 8
ECHO: [[0, 0], [0, 1], [1, 0], [1, 1]], 4
ECHO: [1, 0], 2
</pre>
<p>This function allows (e.g.) the parsing of an array, a vector or a string.
</p><p><b>Usage examples:</b>
</p>
<pre>str2="4711";
for (i=[0:len(str2)-1])
	echo(str("digit ",i+1," &#160;:  ",str2[i]));
</pre>
<p><b>Results:</b>
</p>
<pre>ECHO: "digit 1 &#160;:  4"
ECHO: "digit 2 &#160;:  7"
ECHO: "digit 3 &#160;:  1"
ECHO: "digit 4 &#160;:  1"
</pre>
<p>Note that the len() function is not defined and raises a warning when a simple variable is passed as the parameter. 
</p><p>This is useful when handling parameters to a module, similar to how shapes can be defined as a single number, or as an [x,y,z] vector; i.e. cube(5) or cube([5,5,5])
</p><p>For example
</p>
<pre>module doIt(size) {
	if (len(size) == undef) {
		// size is a number, use it for x,y &amp; z. (or could be undef)
		do([size,size,size]);
	} else { 
		// size is a vector, (could be a string but that would be stupid)
		do(size);
	}
 }
 
doIt(5);	// equivalent to [5,5,5]
doIt([5,5,5]);	// similar to cube(5) v's cube([5,5,5])
</pre>
<h3><span class="mw-headline" id="let">let</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-18" class="mw-editsection-visualeditor" title="Edit section: let">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-18" title="Edit section: let">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Sequential assignment of variables inside an expression. The following expression is evaluated in context of the let assignments and can use the variables. This is mainly useful to make complicated expressions more readable by assigning interim results to variables.
</p><p><b>Parameters</b>
</p>
<pre>let (var1 = value1, var2 = f(var1), var3 = g(var1, var2)) expression
</pre>
<p><b>Usage example:</b>
</p>
<pre>echo(let(a = 135, s = sin(a), c = cos(a)) [ s, c ]); // ECHO: [0.707107, -0.707107]
</pre>
<h3><span class="mw-headline" id="log">log</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-19" class="mw-editsection-visualeditor" title="Edit section: log">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-19" title="Edit section: log">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>logarithm</b> to the base 10. Example: log(1000) = 3. See: <a href="https://en.wikipedia.org/wiki/Logarithm" class="extiw" title="w:Logarithm">Logarithm</a>
</p>
<h3><span class="mw-headline" id="lookup">lookup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-20" class="mw-editsection-visualeditor" title="Edit section: lookup">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-20" title="Edit section: lookup">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Look up value in table, and linearly interpolate if there's no exact match.  The first argument is the value to look up.  The second is the lookup table -- a vector of key-value pairs. 
</p><p><b>Parameters</b>
</p>
<dl><dt>key</dt>
<dd>A lookup key</dd>
<dt>&lt;key,value&gt; array</dt>
<dd>keys and values</dd></dl>
<p>There is a bug in which out-of-range keys return the first value in the list. Newer versions of Openscad should use the top or bottom end of the table as appropriate instead.
</p><p><b>Usage example:</b> Create a 3D chart made from cylinders of different heights.
</p>
<table width="100%">

<tbody><tr>
<td><div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span> <span class="kd">function</span> <span class="nx">get_cylinder_h</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lookup</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="p">[</span>
 		<span class="p">[</span> <span class="o">-</span><span class="mf">200</span><span class="p">,</span> <span class="mf">5</span> <span class="p">],</span>
 		<span class="p">[</span> <span class="o">-</span><span class="mf">50</span><span class="p">,</span> <span class="mf">20</span> <span class="p">],</span>
 		<span class="p">[</span> <span class="o">-</span><span class="mf">20</span><span class="p">,</span> <span class="mf">18</span> <span class="p">],</span>
 		<span class="p">[</span> <span class="o">+</span><span class="mf">80</span><span class="p">,</span> <span class="mf">25</span> <span class="p">],</span>
 		<span class="p">[</span> <span class="o">+</span><span class="mf">150</span><span class="p">,</span> <span class="mf">2</span> <span class="p">]</span>
 	<span class="p">]);</span>
 
 <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">100</span><span class="o">:</span><span class="mf">5</span><span class="o">:+</span><span class="mf">100</span><span class="p">])</span> <span class="p">{</span>
 	<span class="c1">// echo(i, get_cylinder_h(i));</span>
 	<span class="nx">translate</span><span class="p">([</span> <span class="nx">i</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">30</span> <span class="p">])</span> <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r1</span> <span class="o">=</span> <span class="mf">6</span><span class="p">,</span> <span class="nx">r2</span> <span class="o">=</span> <span class="mf">2</span><span class="p">,</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">get_cylinder_h</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">*</span><span class="mf">3</span><span class="p">);</span>
 <span class="p">}</span>
</pre></div>
</td>
<td><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Lookup_Function.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/04/OpenSCAD_Lookup_Function.png/220px-OpenSCAD_Lookup_Function.png" decoding="async" width="220" height="127" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/04/OpenSCAD_Lookup_Function.png/330px-OpenSCAD_Lookup_Function.png 1.5x, //upload.wikimedia.org/wikipedia/commons/0/04/OpenSCAD_Lookup_Function.png 2x" data-file-width="386" data-file-height="222" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Lookup_Function.png" class="internal" title="Enlarge"></a></div>OpenSCAD Lookup Function</div></div></div>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="max">max</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-21" class="mw-editsection-visualeditor" title="Edit section: max">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-21" title="Edit section: max">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Returns the maximum of the parameters. If a single vector is given as parameter, returns the maximum element of that vector.
</p><p><b>Parameters</b>
</p>
<pre>max(n,n{,n}...)
max(vector)
</pre>
<dl><dt>&lt;n&gt;</dt>
<dd>Two or more decimals</dd>
<dt>&lt;vector&gt;</dt>
<dd>Single vector of decimals <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2014.06</span></span>]</span>.</dd></dl>
<p><b>Usage example:</b>
</p>
<pre>max(3.0,5.0)
max(8.0,3.0,4.0,5.0)
max([8,3,4,5])
</pre>
<p><b>Results:</b>
</p>
<pre>5
8
8
</pre>
<h3><span class="mw-headline" id="min">min</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-22" class="mw-editsection-visualeditor" title="Edit section: min">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-22" title="Edit section: min">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Returns the minimum of the parameters. If a single vector is given as parameter, returns the minimum element of that vector.
</p><p><b>Parameters</b>
</p>
<pre>min(n,n{,n}...)
min(vector)
</pre>
<dl><dt>&lt;n&gt;</dt>
<dd>Two or more decimals</dd>
<dt>&lt;vector&gt;</dt>
<dd>Single vector of decimals <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2014.06</span></span>]</span>.</dd></dl>
<p><b>Usage example:</b>
</p>
<pre>min(3.0,5.0)
min(8.0,3.0,4.0,5.0)
min([8,3,4,5])
</pre>
<p><b>Results:</b>
</p>
<pre>3
3
3
</pre>
<h3><span class="mw-headline" id="mod">mod</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-23" class="mw-editsection-visualeditor" title="Edit section: mod">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-23" title="Edit section: mod">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Included in this document only for clarity. The 'modulo' operation exists in OpenSCAD as an operator <code>%</code>, and <b>not</b> as function. See <a href="/wiki/OpenSCAD_User_Manual/Mathematical_Operators" title="OpenSCAD User Manual/Mathematical Operators">modulo operator (%)</a>
</p>
<h3><span class="mw-headline" id="norm">norm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-24" class="mw-editsection-visualeditor" title="Edit section: norm">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-24" title="Edit section: norm">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Returns the <a href="https://en.wikipedia.org/wiki/Norm_(mathematics)" class="extiw" title="w:Norm (mathematics)">euclidean norm</a> of a vector. Note this returns the actual numeric length while <b>len</b> returns the number of elements in the vector or array.
</p><p><b>Usage examples:</b>
</p>
<pre>a=[1,2,3,4];
b="abcd";
c=[];
d="";
e=[[1,2,3,4],[1,2,3],[1,2],[1]];
echo(norm(a)); //5.47723
echo(norm(b)); //undef
echo(norm(c)); //0
echo(norm(d)); //undef
echo(norm(e[0])); //5.47723
echo(norm(e[1])); //3.74166
echo(norm(e[2])); //2.23607
echo(norm(e[3])); //1
</pre>
<p><b>Results:</b>
</p>
<pre>ECHO: 5.47723
ECHO: undef
ECHO: 0
ECHO: undef
ECHO: 5.47723
ECHO: 3.74166
ECHO: 2.23607
ECHO: 1
</pre>
<h3><span class="mw-headline" id="pow">pow</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-25" class="mw-editsection-visualeditor" title="Edit section: pow">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-25" title="Edit section: pow">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>power</b> function.
</p><p>As of version 2021.01 you can use the <a href="/wiki/OpenSCAD_User_Manual/Mathematical_Operators" title="OpenSCAD User Manual/Mathematical Operators">exponentiation operator <code>^</code></a> instead.
</p><p><b>Parameters</b>
</p>
<dl><dt>&lt;base&gt;</dt>
<dd>Decimal.  Base.</dd>
<dt>&lt;exponent&gt;</dt>
<dd>Decimal.  Exponent.</dd></dl>
<p><b>Usage examples:</b>
</p>
<pre>for (i = [0:5]) {
 translate([i*25,0,0]) {
   cylinder(h = pow(2,i)*5, r=10);
   echo (i, pow(2,i));
 }
}
</pre>
<pre>echo(pow(10,2)); // means 10^2 or 10*10
// result: ECHO: 100

echo(pow(10,3)); // means 10^3 or 10*10*10
// result: ECHO: 1000

echo(pow(125,1/3)); // means 125^(0.333...), which calculates the cube root of 125
// result: ECHO: 5
</pre>
<h3><span class="mw-headline" id="rands">rands</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-26" class="mw-editsection-visualeditor" title="Edit section: rands">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-26" title="Edit section: rands">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Random number generator.
Generates a constant vector of pseudo random numbers, much like an array. The numbers are doubles not integers.
When generating only one number, you still call it with variable[0].
</p><p><b>Parameters</b>
</p>
<dl><dt>min_value</dt>
<dd>Minimum value of random number range</dd>
<dt>max_value</dt>
<dd>Maximum value of random number range</dd>
<dt>value_count</dt>
<dd>Number of random numbers to return as a vector</dd>
<dt>seed_value (optional)</dt>
<dd>Seed value for random number generator for repeatable results. On versions before late 2015, seed_value gets rounded to the nearest integer</dd></dl>
<p><b>Usage examples:</b>
</p>
<pre>// get a single number
single_rand = rands(0,10,1)[0];
echo(single_rand);
</pre>
<pre>// get a vector of 4 numbers
seed=42;
random_vect=rands(5,15,4,seed);
echo( "Random Vector: ",random_vect);
sphere(r=5);
for(i=[0:3]) {
 rotate(360*i/4) {
   translate([10+random_vect[i],0,0])
     sphere(r=random_vect[i]/2);
 }
}
// ECHO: "Random Vector: ", [8.7454, 12.9654, 14.5071, 6.83435]
</pre>
<h3><span class="mw-headline" id="round">round</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-27" class="mw-editsection-visualeditor" title="Edit section: round">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-27" title="Edit section: round">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The "round" operator returns the greatest or least integer part, respectively, if the numeric input is positive or negative.
</p><p><b>Usage examples:</b>
</p>
<pre>round(5.4);
round(5.5);
round(5.6);
round(-5.4);
round(-5.5);
round(-5.6);
</pre>
<p><b>Results:</b>
</p>
<pre>5
6
6
-5
-6
-6
</pre>
<h3><span class="mw-headline" id="sign">sign</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-28" class="mw-editsection-visualeditor" title="Edit section: sign">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-28" title="Edit section: sign">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>signum</b> function. Returns a unit value that extracts the sign of a value see: <a href="https://en.wikipedia.org/wiki/Sign_function" class="extiw" title="w:Sign function">Signum function</a>
</p><p><b>Parameters</b>
</p>
<dl><dt>&lt;x&gt;</dt>
<dd>Decimal.  Value to find the sign of.</dd></dl>
<p><b>Usage examples:</b>
</p>
<pre>sign(-5.0);
sign(0);
sign(8.0);
</pre>
<p><b>Results:</b>
</p>
<pre>-1.0
0.0
1.0
</pre>
<h3><span class="mw-headline" id="sqrt">sqrt</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-29" class="mw-editsection-visualeditor" title="Edit section: sqrt">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-29" title="Edit section: sqrt">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Mathematical <b>square root</b> function.
</p>
<dl><dt>Usage example</dt></dl>
<pre>translate([sqrt(100),0,0])sphere(100);
</pre>
<h2><span class="mw-headline" id="Infinities_and_NaNs">Infinities and NaNs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;veaction=edit&amp;section=T-30" class="mw-editsection-visualeditor" title="Edit section: Infinities and NaNs">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Mathematical_Functions&amp;action=edit&amp;section=T-30" title="Edit section: Infinities and NaNs">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>How does OpenSCAD deal with inputs like (1/0)? Basically, the behavior is inherited from the language OpenSCAD was written in, the C++ language, and its floating point number types and the associated C math library. This system allows representation of both positive and negative infinity by the special values "Inf" or "-Inf". It also allow representation of creatures like sqrt(-1) or 0/0 as "NaN", an abbreviation for "Not A Number". Some very nice explanations can be found on the web, for example the <a rel="nofollow" class="external text" href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/math.h.html">Open Group's site on math.h</a> or <a href="https://en.wikipedia.org/wiki/IEEE_754-1985#Representation_of_non-numbers" class="extiw" title="w:IEEE 754-1985"> Wikipedia's page on the IEEE 754 number format</a>. However OpenSCAD is it's own language so it may not exactly match everything that happens in C. For example, OpenSCAD uses degrees instead of radians for trigonometric functions.  Another example is that sin() does not throw a "domain error" when the input is 1/0, although it does return NaN. 
</p><p>Here are some examples of infinite input to OpenSCAD math functions and the resulting output, taken from OpenSCAD's regression test system in late 2015.
</p>
<table class="wikitable">

<tbody><tr>
<td>0/0: nan</td>
<td>sin(1/0): nan</td>
<td>asin(1/0): nan</td>
<td>ln(1/0): inf</td>
<td>round(1/0): inf
</td></tr>
<tr>
<td>-0/0: nan</td>
<td>cos(1/0): nan</td>
<td>acos(1/0): nan</td>
<td>ln(-1/0): nan</td>
<td>round(-1/0): -inf
</td></tr>
<tr>
<td>0/-0: nan</td>
<td>tan(1/0): nan</td>
<td>atan(1/0): 90</td>
<td>log(1/0): inf</td>
<td>sign(1/0): 1
</td></tr>
<tr>
<td>1/0: inf</td>
<td>ceil(-1/0): -inf</td>
<td>atan(-1/0): -90</td>
<td>log(-1/0): nan</td>
<td>sign(-1/0): -1
</td></tr>
<tr>
<td>1/-0: -inf</td>
<td>ceil(1/0): inf</td>
<td>atan2(1/0, -1/0): 135</td>
<td>max(-1/0, 1/0): inf</td>
<td>sqrt(1/0): inf
</td></tr>
<tr>
<td>-1/0: -inf</td>
<td>floor(-1/0): -inf</td>
<td>exp(1/0): inf</td>
<td>min(-1/0, 1/0): -inf</td>
<td>sqrt(-1/0): nan
</td></tr>
<tr>
<td>-1/-0: inf</td>
<td>floor(1/0): inf</td>
<td>exp(-1/0): 0</td>
<td>pow(2, 1/0): inf</td>
<td>pow(2, -1/0): 0
</td></tr></tbody></table> 
<p style="page-break-after:always;"></p>
<h2><span class="mw-headline" id="String_Functions">String Functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=14" class="mw-editsection-visualeditor" title="Edit section: String Functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=14" title="Edit section: String Functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<h3><span class="mw-headline" id="str">str</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: str">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;action=edit&amp;section=T-1" title="Edit section: str">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Convert all arguments to strings and concatenate.
</p><p><b>Usage examples:</b>
</p>
<pre>number=2;
echo ("This is ",number,3," and that's it.");
echo (str("This is ",number,3," and that's it."));
</pre>
<p><b>Results:</b>
</p>
<pre>ECHO: "This is ", 2, 3, " and that's it."
ECHO: "This is 23 and that's it."
</pre>
<h3><span class="mw-headline" id="chr">chr</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: chr">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;action=edit&amp;section=T-2" title="Edit section: chr">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Convert numbers to a string containing character with the corresponding code. OpenSCAD uses Unicode, so the number is interpreted as Unicode code point. Numbers outside the valid code point range produce an empty string.
</p><p><b>Parameters</b>
</p>
<dl><dt>chr(Number)</dt>
<dd>Convert one code point to a string of length 1 (number of bytes depending on UTF-8 encoding) if the code point is valid.</dd></dl>
<dl><dt>chr(Vector)</dt>
<dd>Convert all code points given in the argument vector to a string.</dd></dl>
<dl><dt>chr(Range)</dt>
<dd>Convert all code points produced by the range argument to a string.</dd></dl>
<p><b>Examples</b>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">echo</span><span class="p">(</span><span class="nx">chr</span><span class="p">(</span><span class="mf">65</span><span class="p">),</span> <span class="nx">chr</span><span class="p">(</span><span class="mf">97</span><span class="p">));</span>      <span class="c1">// ECHO: &quot;A&quot;, &quot;a&quot;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">chr</span><span class="p">(</span><span class="mf">65</span><span class="p">,</span> <span class="mf">97</span><span class="p">));</span>           <span class="c1">// ECHO: &quot;Aa&quot;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">chr</span><span class="p">([</span><span class="mf">66</span><span class="p">,</span> <span class="mf">98</span><span class="p">]));</span>         <span class="c1">// ECHO: &quot;Bb&quot;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">chr</span><span class="p">([</span><span class="mf">97</span> <span class="o">:</span> <span class="mf">2</span> <span class="o">:</span> <span class="mf">102</span><span class="p">]));</span>   <span class="c1">// ECHO: &quot;ace&quot;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">chr</span><span class="p">(</span><span class="o">-</span><span class="mf">3</span><span class="p">));</span>               <span class="c1">// ECHO: &quot;&quot;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">chr</span><span class="p">(</span><span class="mf">9786</span><span class="p">),</span> <span class="nx">chr</span><span class="p">(</span><span class="mf">9788</span><span class="p">));</span>  <span class="c1">// ECHO: &quot;☺&quot;, &quot;☼&quot;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">len</span><span class="p">(</span><span class="nx">chr</span><span class="p">(</span><span class="mf">9788</span><span class="p">)));</span>        <span class="c1">// ECHO: 1</span>
</pre></div>
<p>Note: When used with echo() the output to the console for character codes greater than 127 is platform dependent.
</p>
<h3><span class="mw-headline" id="ord">ord</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: ord">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;action=edit&amp;section=T-3" title="Edit section: ord">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>Convert a character to a number representing the <a class="external text" href="https://en.wikipedia.org/wiki/Unicode">Unicode</a> <a class="external text" href="https://en.wikipedia.org/wiki/Code_point">code point</a>. If the parameter is not a string, the <code>ord()</code> returns <code>undef</code>.
</p><p><b>Parameters</b>
</p>
<dl><dt>ord(String)</dt>
<dd>Convert the first character of the given string to a Unicode code point.</dd></dl>
<p><b>Examples</b>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">echo</span><span class="p">(</span><span class="nx">ord</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">));</span>
<span class="c1">// ECHO: 97</span>

<span class="nx">echo</span><span class="p">(</span><span class="nx">ord</span><span class="p">(</span><span class="s2">&quot;BCD&quot;</span><span class="p">));</span>
<span class="c1">// ECHO: 66</span>

<span class="nx">echo</span><span class="p">([</span><span class="k">for</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="s2">&quot;Hello! 🙂&quot;</span><span class="p">)</span> <span class="nx">ord</span><span class="p">(</span><span class="nx">c</span><span class="p">)]);</span>
<span class="c1">// ECHO: [72, 101, 108, 108, 111, 33, 32, 128578]</span>

<span class="nx">txt</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">ord</span><span class="p">(</span><span class="nx">txt</span><span class="p">)</span><span class="o">-</span><span class="mf">48</span><span class="p">,</span><span class="nx">txt</span><span class="p">);</span>
<span class="c1">// ECHO: 1,&quot;1&quot; // only converts 1 character</span>
</pre></div>
<h3><span class="mw-headline" id="len_3">len</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: len">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;action=edit&amp;section=T-4" title="Edit section: len">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>returns the number of characters in a text.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">echo</span><span class="p">(</span><span class="nx">len</span><span class="p">(</span><span class="s2">&quot;Hello world&quot;</span><span class="p">));</span>    <span class="c1">// 11</span>
</pre></div>
<h3><span id="Also_See_search.28.29"></span><span class="mw-headline" id="Also_See_search()">Also See search()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Also See search()">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/String_Functions&amp;action=edit&amp;section=T-5" title="Edit section: Also See search()">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><i><a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features#Search" title="OpenSCAD User Manual/Other Language Features">search()</a></i> for text searching. 
</p>
<p style="page-break-after:always;"></p>
<h2><span class="mw-headline" id="List_Comprehensions">List Comprehensions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=15" class="mw-editsection-visualeditor" title="Edit section: List Comprehensions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=15" title="Edit section: List Comprehensions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<table cellspacing="0" cellpadding="0" style="clear: right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none; width: auto;">
<tbody><tr>
<td>
</td></tr></tbody></table>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p>
<h3><span class="mw-headline" id="Basic_Syntax">Basic Syntax</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Basic Syntax">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-1" title="Edit section: Basic Syntax">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The list comprehensions provide a flexible way to generate lists using the general syntax
</p>
<pre> [ list-definition expression ]
</pre>
<p>The following elements are supported to construct the list definition
</p>
<dl><dt>for (i = sequence)</dt>
<dd>Iteration over a range or an existing list</dd>
<dt>for (init;condition;next)</dt>
<dd>Simple recursive call represented as C-style for</dd>
<dt>each</dt>
<dd>Takes a sequence value as argument, and adds each element to the list being constructed. each x is equivalent to  `for (i = x) i`</dd>
<dt>if (condition)</dt>
<dd>Selection criteria, when true the expression is calculated and added to the result list</dd>
<dt>let (x = value)</dt>
<dd>Local variable assignment</dd></dl>
<h4><span class="mw-headline" id="multiple_generator_expressions">multiple generator expressions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: multiple generator expressions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-2" title="Edit section: multiple generator expressions">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>The list comprehension syntax is generalized to allow multiple expressions. This allows to easily construct lists from multiple sub lists generated by different list comprehension expressions avoiding concat.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">steps</span> <span class="o">=</span> <span class="mf">50</span><span class="p">;</span>

<span class="nx">points</span> <span class="o">=</span> <span class="p">[</span>
	<span class="c1">// first expression generating the points in the positive Y quadrant</span>
	<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span> <span class="o">:</span> <span class="nx">steps</span><span class="p">])</span> <span class="p">[</span> <span class="nx">a</span><span class="p">,</span> <span class="mf">10</span> <span class="o">*</span> <span class="nx">sin</span><span class="p">(</span><span class="nx">a</span> <span class="o">*</span> <span class="mf">360</span> <span class="o">/</span> <span class="nx">steps</span><span class="p">)</span> <span class="o">+</span> <span class="mf">10</span> <span class="p">],</span>
	<span class="c1">// second expression generating the points in the negative Y quadrant</span>
	<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="nx">steps</span> <span class="o">:</span> <span class="o">-</span><span class="mf">1</span> <span class="o">:</span> <span class="mf">0</span><span class="p">])</span> <span class="p">[</span> <span class="nx">a</span><span class="p">,</span> <span class="mf">10</span> <span class="o">*</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">a</span> <span class="o">*</span> <span class="mf">360</span> <span class="o">/</span> <span class="nx">steps</span><span class="p">)</span> <span class="o">-</span> <span class="mf">20</span> <span class="p">],</span>
	<span class="c1">// additional list of fixed points</span>
	<span class="p">[</span> <span class="mf">10</span><span class="p">,</span> <span class="o">-</span><span class="mf">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">0</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">3</span> <span class="p">]</span>
<span class="p">];</span>

<span class="nx">polygon</span><span class="p">(</span><span class="nx">points</span><span class="p">);</span>
</pre></div>
<h4><span class="mw-headline" id="for">for</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: for">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-3" title="Edit section: for">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The for element defines the input values for the list generation. The syntax is the same as used by the <a href="/wiki/OpenSCAD_User_Manual/Conditional_and_Iterator_Functions#For_Loop" title="OpenSCAD User Manual/Conditional and Iterator Functions">for</a> iterator. The sequence to the right of the equals sign can be any list. The for element iterates over all the members of the list. The variable on the left of the equals sign take on the value of each member of the sequence in turn. This value can then be processed in the child of the for element, and each result becomes a member of the final list that is produced. 
</p><p>If the sequence has more than one dimension, for iterates over the first dimension only. Deeper dimensions can be accessed by nesting for elements. 
</p><p>Several common usage patterns are presented here.
</p>
<dl><dt>[ for (i = [start &#58; step &#58; end]) i ]</dt>
<dd>Generate output based on a range definition, this version is mainly useful to calculate list values or access existing lists using the range value as index.</dd></dl>
<p><b>Examples</b>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// generate a list with all values defined by a range</span>
<span class="nx">list1</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="o">:</span> <span class="mf">10</span><span class="p">])</span> <span class="nx">i</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">list1</span><span class="p">);</span> <span class="c1">// ECHO: [0, 2, 4, 6, 8, 10]</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// extract every second character of a string</span>
<span class="nx">str</span> <span class="o">=</span> <span class="s2">&quot;SomeText&quot;</span><span class="p">;</span>
<span class="nx">list2</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="o">:</span> <span class="nx">len</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1</span><span class="p">])</span> <span class="nx">str</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">list2</span><span class="p">);</span> <span class="c1">// ECHO: [&quot;S&quot;, &quot;m&quot;, &quot;T&quot;, &quot;x&quot;]</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// indexed list access, using function to map input values to output values</span>
<span class="kd">function</span> <span class="nx">func</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mf">1</span> <span class="o">?</span> <span class="mf">0</span> <span class="o">:</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">func</span><span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="mf">1</span><span class="p">);</span>
<span class="nx">input</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">8</span><span class="p">];</span>
<span class="nx">output</span> <span class="o">=</span> <span class="p">[</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span> <span class="o">:</span> <span class="nx">len</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1</span> <span class="p">])</span> <span class="nx">func</span><span class="p">(</span><span class="nx">input</span><span class="p">[</span><span class="nx">a</span><span class="p">])</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span> <span class="c1">// ECHO: [1, 6, 15, 36]</span>
</pre></div>
<dl><dt>[ for (i = [a, b, c, ...]) i ]</dt>
<dd>Use list parameter as input, this version can be used to map input values to calculated output values.</dd></dl>
<p><b>Examples</b>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// iterate over an existing list</span>
<span class="nx">friends</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;Mary&quot;</span><span class="p">,</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob&quot;</span><span class="p">];</span>
<span class="nx">list</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">friends</span><span class="p">)</span> <span class="nx">len</span><span class="p">(</span><span class="nx">i</span><span class="p">)];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span> <span class="c1">// ECHO: [4, 4, 5, 3]</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// map input list to output list</span>
<span class="nx">list</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">7</span><span class="p">,</span> <span class="mf">11</span><span class="p">])</span> <span class="nx">i</span> <span class="o">*</span> <span class="nx">i</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span> <span class="c1">// ECHO: [4, 9, 25, 49, 121]</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// calculate Fibonacci numbers</span>
<span class="kd">function</span> <span class="nx">func</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mf">3</span> <span class="o">?</span> <span class="mf">1</span> <span class="o">:</span> <span class="nx">func</span><span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="mf">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">func</span><span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="mf">2</span><span class="p">);</span>
<span class="nx">input</span> <span class="o">=</span> <span class="p">[</span><span class="mf">7</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">12</span><span class="p">];</span>
<span class="nx">output</span> <span class="o">=</span> <span class="p">[</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">input</span><span class="p">)</span> <span class="nx">func</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span> <span class="c1">// ECHO: [13, 55, 144]</span>
</pre></div>
<dl><dt>[ for (c = "String") c ]</dt>
<dd>Generate output based on a string, this iterates over each character of the string.</dd></dl>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p><b>Examples</b>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">echo</span><span class="p">([</span> <span class="k">for</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="s2">&quot;String&quot;</span><span class="p">)</span> <span class="nx">c</span> <span class="p">]);</span>
<span class="c1">// ECHO: [&quot;S&quot;, &quot;t&quot;, &quot;r&quot;, &quot;i&quot;, &quot;n&quot;, &quot;g&quot;]</span>
</pre></div>
<dl><dt>[ for (a = inita, b = initb, ...;condition;a = nexta, b = nextb, ...) expr ]</dt>
<dd>Generator for expressing simple recursive call in a c-style for loop.</dd></dl>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>The recursive equivalent of this generator is
</p>
<pre>function f(a, b, ...) =
    condition
   &#160;? concat([expr], f(nexta, nextb, ...))
   &#160;: [];
  f(inita, initb, ...)
</pre>
<p><b>Examples</b>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">echo</span><span class="p">(</span> <span class="p">[</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span><span class="nx">a</span> <span class="o">&lt;</span> <span class="mf">5</span><span class="p">;</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">+</span> <span class="mf">2</span><span class="p">)</span> <span class="p">[</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">*</span> <span class="nx">b</span> <span class="p">]</span> <span class="p">]</span> <span class="p">);</span>
<span class="c1">// ECHO: [[0, 1], [1, 9], [2, 25], [3, 49], [4, 81]]</span>

<span class="c1">// Generate fibonacci sequence</span>
<span class="nx">echo</span><span class="p">([</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span><span class="nx">a</span> <span class="o">&lt;</span> <span class="mf">1000</span><span class="p">;</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">x</span><span class="p">)</span> <span class="nx">a</span><span class="p">]);</span>
<span class="c1">// ECHO: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987]</span>

<span class="c1">// Cumulative sum of values in v</span>
<span class="kd">function</span> <span class="nx">cumsum</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">v</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">-</span><span class="nx">v</span><span class="p">[</span><span class="mf">0</span><span class="p">],</span> <span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">a</span><span class="o">+</span><span class="nx">v</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span> <span class="nx">a</span><span class="o">+</span><span class="nx">v</span><span class="p">[</span><span class="nx">i</span><span class="p">]];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">cumsum</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">]));</span>
<span class="c1">// ECHO: [1, 3, 6, 10]</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">cumsum</span><span class="p">([[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3</span><span class="p">,</span> <span class="mf">3</span><span class="p">]]));</span>
<span class="c1">// ECHO: [[1, 1], [3, 3], [6, 6]]</span>
</pre></div>
<h4><span class="mw-headline" id="each">each</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: each">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-4" title="Edit section: each">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p><i>each</i> embeds the values of a list given as argument directly, effectively unwrapping the argument list.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Without using &quot;each&quot;, a nested list is generated</span>
<span class="nx">echo</span><span class="p">([</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span> <span class="o">:</span> <span class="mf">4</span><span class="p">])</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">a</span><span class="p">]</span> <span class="p">]);</span>
<span class="c1">// ECHO: [[1, 1], [2, 4], [3, 9], [4, 16]]</span>

<span class="c1">// Adding &quot;each&quot; unwraps the inner list, producing a flat list as result</span>
<span class="nx">echo</span><span class="p">([</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span> <span class="o">:</span> <span class="mf">4</span><span class="p">])</span> <span class="nx">each</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">a</span><span class="p">]</span> <span class="p">]);</span>
<span class="c1">// ECHO: [1, 1, 2, 4, 3, 9, 4, 16]</span>
</pre></div>
<p><i>each</i> unwraps ranges and helps to build more general <i>for</i> lists when combined with multiple generator expressions.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">A</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">2</span><span class="p">,</span> <span class="nx">each</span> <span class="p">[</span><span class="mf">1</span><span class="o">:</span><span class="mf">2</span><span class="o">:</span><span class="mf">5</span><span class="p">],</span> <span class="nx">each</span> <span class="p">[</span><span class="mf">6</span><span class="o">:-</span><span class="mf">2</span><span class="o">:</span><span class="mf">0</span><span class="p">],</span> <span class="o">-</span><span class="mf">1</span><span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">A</span><span class="p">);</span>
<span class="c1">// ECHO: [-2, 1, 3, 5, 6, 4, 2, 0, -1]</span>
<span class="nx">echo</span><span class="p">([</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">A</span><span class="p">)</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">a</span> <span class="p">]);</span>
<span class="c1">// ECHO: [-4, 2, 6, 10, 12, 8, 4, 0, -2]</span>
</pre></div>
<h4><span class="mw-headline" id="if">if</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: if">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-5" title="Edit section: if">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The if element allows selection if the expression should be allocated and added to the result list or not. In the simplest case this allows filtering of an list.
</p>
<dl><dt>[ for (i = list) if (condition(i)) i ]</dt>
<dd>When the evaluation of the condition returns true, the expression i is added to the result list.</dd></dl>
<p><i>Example</i>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">list</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">1</span> <span class="o">:</span> <span class="mf">8</span> <span class="p">])</span> <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="nx">a</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span> <span class="c1">// ECHO: [2, 4, 6, 8]</span>
</pre></div>
<p>Note that the if element cannot be inside an expression, it should be at the top.
</p><p><i>Example</i>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// from the input list include all positive odd numbers</span>
<span class="c1">// and also all even number divided by 2</span>

<span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">10</span><span class="o">:</span><span class="mf">5</span><span class="p">];</span>
<span class="nx">echo</span><span class="p">([</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">list</span><span class="p">)</span> <span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">%</span><span class="mf">2</span><span class="o">==</span><span class="mf">0</span> <span class="o">||</span> <span class="nx">n</span><span class="o">&gt;=</span><span class="mf">0</span><span class="p">)</span> <span class="nx">n</span><span class="o">%</span><span class="mf">2</span><span class="o">==</span><span class="mf">0</span> <span class="o">?</span> <span class="nx">n</span><span class="o">/</span><span class="mf">2</span> <span class="o">:</span> <span class="nx">n</span> <span class="p">]);</span> 
<span class="c1">// ECHO: [-5, -4, -3, -2, -1, 0, 1, 1, 3, 2, 5]</span>
<span class="c1">// echo([for(n=list) n%2==0&#160;? n/2&#160;: if(n&gt;=0) n ]); // this would generate a syntactical error</span>
</pre></div>
<h4><span id="if.2Felse"></span><span class="mw-headline" id="if/else">if/else</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: if/else">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-6" title="Edit section: if/else">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>The if-else construct is equivalent to the conditional expression&#160;?: except that it can be combined with filter if. 
</p>
<dl><dt>[ for (i = list) if (condition(i)) x else y ]</dt>
<dd>When the evaluation of the condition returns true, the expression x is added to the result list else the expression y.</dd></dl>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// even numbers are halved, positive odd numbers are preserved, negative odd numbers are eliminated</span>
<span class="nx">echo</span><span class="p">([</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">3</span><span class="o">:</span><span class="mf">5</span><span class="p">])</span> <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">a</span><span class="o">/</span><span class="mf">2</span><span class="p">]</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">a</span><span class="p">]</span> <span class="p">]);</span>
<span class="c1">// ECHO: [[-2, -1], [0, 0], [1, 1], [2, 1], [3, 3], [4, 2], [5, 5]];</span>
</pre></div>
<p>Note that in the expression above the conditional operator could not substitute if-else. It is possible to express this same filter with the conditional operator but with a more cryptic logic:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// even numbers are halved, positive odd numbers are preserved, negative odd numbers are eliminated</span>
<span class="nx">echo</span><span class="p">([</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">3</span><span class="o">:</span><span class="mf">5</span><span class="p">])</span> <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span> <span class="o">||</span> <span class="p">(</span><span class="nx">a</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">!=</span> <span class="mf">0</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">))</span> <span class="nx">a</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span> <span class="o">?</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">a</span> <span class="o">/</span> <span class="mf">2</span><span class="p">]</span> <span class="o">:</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">a</span><span class="p">]</span> <span class="p">]);</span>
<span class="c1">// ECHO: [[-2, -1], [0, 0], [1, 1], [2, 1], [3, 3], [4, 2], [5, 5]];</span>
</pre></div>
<p>To bind an else expression to a specific if, it's possible to use parenthesis.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// even numbers are dropped, multiples of 4 are substituted by -1 </span>
<span class="nx">echo</span><span class="p">([</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">10</span><span class="p">])</span> <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mf">2</span><span class="o">==</span><span class="mf">0</span><span class="p">)</span> <span class="p">(</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mf">4</span><span class="o">==</span><span class="mf">0</span><span class="p">)</span> <span class="o">-</span><span class="mf">1</span> <span class="p">)</span> <span class="k">else</span> <span class="nx">i</span><span class="p">]);</span>
<span class="c1">// ECHO: [-1, 1, 3, -1, 5, 7, -1, 9]</span>

<span class="c1">// odd numbers are dropped, multiples of 4 are substituted by -1 </span>
<span class="nx">echo</span><span class="p">([</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">10</span><span class="p">])</span> <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mf">2</span><span class="o">==</span><span class="mf">0</span><span class="p">)</span> <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mf">4</span><span class="o">==</span><span class="mf">0</span><span class="p">)</span> <span class="o">-</span><span class="mf">1</span> <span class="k">else</span> <span class="nx">i</span><span class="p">]);</span>
<span class="c1">// ECHO: [-1, 2, -1, 6, -1, 10]</span>
</pre></div>
<h4><span class="mw-headline" id="let_2">let</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: let">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-7" title="Edit section: let">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The let element allows sequential assignment of variables inside a list comprehension definition.
</p>
<dl><dt>[ for (i = list) let (assignments) a ]</dt></dl>
<p><i>Example</i>
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">list</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">1</span> <span class="o">:</span> <span class="mf">4</span> <span class="p">])</span> <span class="kd">let</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">b</span><span class="p">)</span> <span class="p">[</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span> <span class="p">]</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">list</span><span class="p">);</span> <span class="c1">// ECHO: [[1, 1, 2], [2, 4, 8], [3, 9, 18], [4, 16, 32]]</span>
</pre></div>
<h3><span class="mw-headline" id="Nested_loops">Nested loops</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Nested loops">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-8" title="Edit section: Nested loops">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>There are different ways to define nested loops. Defining multiple loop variables inside one for element and multiple for elements produce both flat result lists. To generate nested result lists an additional [ ] markup is required.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// nested loop using multiple variables</span>
<span class="nx">flat_result1</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="p">],</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="p">])</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span> <span class="o">?</span> <span class="mf">1</span> <span class="o">:</span> <span class="mf">0</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">flat_result1</span><span class="p">);</span> <span class="c1">// ECHO: [1, 0, 0, 0, 1, 0, 0, 0, 1]</span>
</pre></div>
<p><br />
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// nested loop using multiple for elements</span>
<span class="nx">flat_result2</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="p">])</span> <span class="k">for</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span><span class="p">])</span>  <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span> <span class="o">?</span> <span class="mf">1</span> <span class="o">:</span> <span class="mf">0</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">flat_result2</span><span class="p">);</span> <span class="c1">// ECHO: [1, 0, 0, 0, 1, 0, 0, 0, 1]</span>
</pre></div>
<p><br />
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// nested loop to generate a bi-dimensional matrix</span>
<span class="nx">identity_matrix</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="p">])</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span> <span class="o">:</span> <span class="mf">2</span> <span class="p">])</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span> <span class="o">?</span> <span class="mf">1</span> <span class="o">:</span> <span class="mf">0</span> <span class="p">]</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">identity_matrix</span><span class="p">);</span> <span class="c1">// ECHO: [[1, 0, 0], [0, 1, 0], [0, 0, 1]]</span>
</pre></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Advanced_Examples">Advanced Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Advanced Examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-9" title="Edit section: Advanced Examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This chapter lists some advanced examples, useful idioms and use-cases for the list comprehension syntax.
</p>
<h4><span class="mw-headline" id="Generating_vertices_for_a_polygon">Generating vertices for a polygon</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Generating vertices for a polygon">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-10" title="Edit section: Generating vertices for a polygon">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD-ellipse.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d4/OpenSCAD-ellipse.png/220px-OpenSCAD-ellipse.png" decoding="async" width="220" height="144" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d4/OpenSCAD-ellipse.png/330px-OpenSCAD-ellipse.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d4/OpenSCAD-ellipse.png/440px-OpenSCAD-ellipse.png 2x" data-file-width="550" data-file-height="360" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD-ellipse.png" class="internal" title="Enlarge"></a></div>Result</div></div></div>
<p>Using list comprehension, a parametric equation can be calculated at a number of points to approximate many curves, such as the following example for an ellipse (using <a href="/wiki/OpenSCAD_User_Manual/2D_Primitives#polygon" title="OpenSCAD User Manual/2D Primitives">polygon()</a>):
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">sma</span> <span class="o">=</span> <span class="mf">20</span><span class="p">;</span>  <span class="c1">// semi-minor axis</span>
<span class="nx">smb</span> <span class="o">=</span> <span class="mf">30</span><span class="p">;</span>  <span class="c1">// semi-major axis</span>

<span class="nx">polygon</span><span class="p">(</span>
    <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span> <span class="o">:</span> <span class="mf">5</span> <span class="o">:</span> <span class="mf">359</span><span class="p">])</span> <span class="p">[</span> <span class="nx">sma</span> <span class="o">*</span> <span class="nx">sin</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span> <span class="nx">smb</span> <span class="o">*</span> <span class="nx">cos</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">]</span> <span class="p">]</span>
<span class="p">);</span>
</pre></div>
<p><br clear="all" />
</p>
<h4><span class="mw-headline" id="Flattening_a_nested_vector">Flattening a nested vector</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: Flattening a nested vector">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-11" title="Edit section: Flattening a nested vector">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>List comprehension can be used in a user-defined function to perform tasks on or for vectors.  Here is a user-defined function that flattens a nested vector.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// input&#160;: nested list</span>
<span class="c1">// output&#160;: list with the outer level nesting removed</span>
<span class="kd">function</span> <span class="nx">flatten</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">l</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span><span class="p">)</span> <span class="nx">b</span> <span class="p">]</span> <span class="p">;</span>

<span class="nx">nested_list</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">6</span> <span class="p">]</span> <span class="p">];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">flatten</span><span class="p">(</span><span class="nx">nested_list</span><span class="p">));</span> <span class="c1">// ECHO: [1, 2, 3, 4, 5, 6]</span>
</pre></div>
<h4><span class="mw-headline" id="Sorting_a_vector">Sorting a vector</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: Sorting a vector">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-12" title="Edit section: Sorting a vector">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Even a complicated algorithm <a href="https://en.wikipedia.org/wiki/Quicksort" class="extiw" title="w:Quicksort">Quicksort</a> becomes doable with for(), if(), let() and <a href="/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Recursive_function_calls" title="OpenSCAD User Manual/The OpenSCAD Language">recursion</a>:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// input&#160;: list of numbers</span>
<span class="c1">// output&#160;: sorted list of numbers</span>
<span class="kd">function</span> <span class="nx">quicksort</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="nx">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="o">&gt;</span><span class="mf">0</span><span class="p">)</span> <span class="o">?</span> <span class="p">[]</span> <span class="o">:</span> <span class="kd">let</span><span class="p">(</span>
    <span class="nx">pivot</span>   <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">floor</span><span class="p">(</span><span class="nx">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="o">/</span><span class="mf">2</span><span class="p">)],</span>
    <span class="nx">lesser</span>  <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span>  <span class="o">&lt;</span> <span class="nx">pivot</span><span class="p">)</span> <span class="nx">y</span> <span class="p">],</span>
    <span class="nx">equal</span>   <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">==</span> <span class="nx">pivot</span><span class="p">)</span> <span class="nx">y</span> <span class="p">],</span>
    <span class="nx">greater</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span>  <span class="o">&gt;</span> <span class="nx">pivot</span><span class="p">)</span> <span class="nx">y</span> <span class="p">]</span>
<span class="p">)</span> <span class="nx">concat</span><span class="p">(</span>
    <span class="nx">quicksort</span><span class="p">(</span><span class="nx">lesser</span><span class="p">),</span> <span class="nx">equal</span><span class="p">,</span> <span class="nx">quicksort</span><span class="p">(</span><span class="nx">greater</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// use seed in rands() to get reproducible results</span>
<span class="nx">unsorted</span> <span class="o">=</span> <span class="p">[</span><span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">rands</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">6</span><span class="p">,</span> <span class="mf">3</span><span class="p">))</span> <span class="nx">ceil</span><span class="p">(</span><span class="nx">a</span><span class="p">)];</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">unsorted</span><span class="p">);</span> <span class="c1">// ECHO: [6, 1, 8, 9, 3, 2]</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">quicksort</span><span class="p">(</span><span class="nx">unsorted</span><span class="p">));</span> <span class="c1">// ECHO: [1, 2, 3, 6, 8, 9]</span>
</pre></div>
<h4><span class="mw-headline" id="Selecting_elements_of_a_vector">Selecting elements of a vector</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: Selecting elements of a vector">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-13" title="Edit section: Selecting elements of a vector">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>select() performs selection and reordering of elements into a new vector. 
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="kd">function</span> <span class="nx">select</span><span class="p">(</span><span class="nx">vector</span><span class="p">,</span> <span class="nx">indices</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span> <span class="k">for</span> <span class="p">(</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">indices</span><span class="p">)</span> <span class="nx">vector</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="p">];</span>
   
<span class="nx">vector1</span> <span class="o">=</span>   <span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],[</span><span class="mf">1</span><span class="p">,</span><span class="mf">1</span><span class="p">],[</span><span class="mf">2</span><span class="p">,</span><span class="mf">2</span><span class="p">],[</span><span class="mf">3</span><span class="p">,</span><span class="mf">3</span><span class="p">],[</span><span class="mf">4</span><span class="p">,</span><span class="mf">4</span><span class="p">]];</span>
<span class="nx">selector1</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">3</span><span class="p">];</span>
<span class="nx">vector2</span> <span class="o">=</span>   <span class="nx">select</span><span class="p">(</span><span class="nx">vector1</span><span class="p">,</span><span class="nx">selector1</span><span class="p">);</span>    <span class="c1">// [[4, 4], [0, 0], [3, 3]]</span>
<span class="nx">vector3</span> <span class="o">=</span>   <span class="nx">select</span><span class="p">(</span><span class="nx">vector1</span><span class="p">,[</span><span class="mf">0</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">0</span><span class="p">]);</span><span class="c1">// [[0, 0], [2, 2], [4, 4],[4, 4], [2, 2], [0, 0]]</span>
<span class="c1">// range also works as indices</span>
<span class="nx">vector4</span> <span class="o">=</span>   <span class="nx">select</span><span class="p">(</span><span class="nx">vector1</span><span class="p">,</span> <span class="p">[</span><span class="mf">4</span><span class="o">:-</span><span class="mf">1</span><span class="o">:</span><span class="mf">0</span><span class="p">]);</span>    <span class="c1">// [[4, 4], [3, 3], [2, 2], [1, 1], [0, 0]]</span>
</pre></div>
<h4><span class="mw-headline" id="Concatenating_two_vectors">Concatenating two vectors</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;veaction=edit&amp;section=T-14" class="mw-editsection-visualeditor" title="Edit section: Concatenating two vectors">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/List_Comprehensions&amp;action=edit&amp;section=T-14" title="Edit section: Concatenating two vectors">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Using indices:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="kd">function</span> <span class="nx">cat</span><span class="p">(</span><span class="nx">L1</span><span class="p">,</span> <span class="nx">L2</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="nx">len</span><span class="p">(</span><span class="nx">L1</span><span class="p">)</span><span class="o">+</span><span class="nx">len</span><span class="p">(</span><span class="nx">L2</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">])</span> 
                        <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">(</span><span class="nx">L1</span><span class="p">)</span><span class="o">?</span> <span class="nx">L1</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">:</span> <span class="nx">L2</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="nx">len</span><span class="p">(</span><span class="nx">L1</span><span class="p">)]]</span> <span class="p">;</span>

<span class="nx">echo</span><span class="p">(</span><span class="nx">cat</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">],[</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">]));</span> <span class="c1">//concatenates two OpenSCAD lists [1,2,3] and [4,5], giving [1, 2, 3, 4, 5]</span>
</pre></div>
<p>Without using indices:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="kd">function</span> <span class="nx">cat</span><span class="p">(</span><span class="nx">L1</span><span class="p">,</span> <span class="nx">L2</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="k">for</span><span class="p">(</span><span class="nx">L</span><span class="o">=</span><span class="p">[</span><span class="nx">L1</span><span class="p">,</span> <span class="nx">L2</span><span class="p">],</span> <span class="nx">a</span><span class="o">=</span><span class="nx">L</span><span class="p">)</span> <span class="nx">a</span><span class="p">];</span>

<span class="nx">echo</span><span class="p">(</span><span class="nx">cat</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">],[</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">]));</span> <span class="c1">//concatenates two OpenSCAD lists [1,2,3] and [4,5], giving [1, 2, 3, 4, 5]</span>
</pre></div>
<p style="page-break-after:always;"></p>
<h2><span class="mw-headline" id="Other_Language_Features">Other Language Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=16" class="mw-editsection-visualeditor" title="Edit section: Other Language Features">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=16" title="Edit section: Other Language Features">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<h2><span class="mw-headline" id="Special_variables_2">Special variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Special variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-1" title="Edit section: Special variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Special variables provide an alternate means of passing arguments to modules and functions.
All user, or OpenSCAD, defined variables starting with a '$' are special variables, similar to special variables in lisp.
Modules and function see all outside variables in addition to those passed as arguments or defined internally.
</p><p>Currently valid special variable names can only be composed of $ followed by simple characters and underscores [a-zA-Z0-9_] and do not allow high-ascii or unicode characters.
</p><p>The value for a regular variable is assigned at compile time and is thus static for all calls.
</p><p>Special variables pass along their value from within the scope 
<a href="/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Scope_of_variables" title="OpenSCAD User Manual/The OpenSCAD Language"> (see scope of variables)</a>
from which the module or function is called. 
This means that special variables can potentially have a different value each time a module or function is called.
</p>
<pre>regular  = "regular global";
$special = "special global";
module show() echo("         in show    ", regular,"   ", $special );

echo ("         outside    ", regular,"   ", $special );
          // ECHO: "         outside    ", "regular global", "   ", "special global"
  
for ( regular = [0:1] ){ echo("in regular loop     ", regular,"   ", $special ); show();}
          // ECHO: "in regular loop     ", 0, "   ", "special global"
          // ECHO: "         in show    ", "regular global", "   ", "special global"
          // ECHO: "in regular loop     ", 1, "   ", "special global"
          // ECHO: "         in show    ", "regular global", "   ", "special global"

for ( $special = [5:6] ){ echo("in special loop     ", regular,"   ", $special ); show();}
          // ECHO: "in special loop     ", "regular global", "   ", 5
          // ECHO: "         in show    ", "regular global", "   ", 5
          // ECHO: "in special loop     ", "regular global", "   ", 6
          // ECHO: "         in show    ", "regular global", "   ", 6

show();
          // ECHO: "         in show    ", "regular global", "   ", "special global"
</pre>
<p>This is useful when multiple arguments need to be passed thru several layers of module calls.
</p><p>Several special variables are already defined by OpenSCAD.
</p><p><br />
</p>
<h3><span id=".24fa.2C_.24fs_and_.24fn"></span><span class="mw-headline" id="$fa,_$fs_and_$fn">$fa, $fs and $fn</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: $fa, $fs and $fn">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-2" title="Edit section: $fa, $fs and $fn">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The $fa, $fs and $fn special variables control the number of facets used to
generate an arc:
</p><p>$fa is the minimum angle for a fragment. Even a huge circle does not have
more fragments than 360 divided by this number. The default value is 12 (i.e. 30 fragments
for a full circle). The minimum allowed value is 0.01. Attempting to set a lower value causes a warning.
</p><p>$fs is the minimum size of a fragment. The
default value is 2 so very small circles have a smaller number of fragments than specified using $fa. The minimum allowed value is 0.01. Attempting to set a lower value causes a warning.
</p><p>$fn is number of fragments and usually has the default value of 0. When this variable has a value greater than zero, the
other two variables are ignored, and a full circle is rendered using this
number of fragments.
</p><p>The higher the number of fragments, the more memory and CPU consumed; large values can bring many systems to their knees. Depending on the design, $fn values, and the corresponding results of $fa &amp; $fs,  should be kept small, at least until the design is finalised when it can be increased for the final result. <b>A $fn over 128 is not recommended</b> or only for specific circumstances, and below 50 would be advisable for performance. 
</p><p>You can also use two different values for prview and render
</p>
<pre>     $fn= $preview&#160;? 32&#160;: 64;
</pre>
<p><b>TIP:</b> If you want to create a circle/cylinder/sphere which has an axis
aligned integer bounding box (i.e. a bounding box that has
integral dimensions, and an integral position) use a value of $fn that
is divisible by 4.
</p><p><br />
When $fa and $fs are used to determine the number of fragments for a
circle, then OpenSCAD never uses fewer than 5 fragments.
</p><p>This is the C code that calculates the number of fragments in a circle:
</p>
<pre>      int get_fragments_from_r(double r, double fn, double fs, double fa)
      {
             if (r &lt; GRID_FINE) return 3;
             if (fn &gt; 0.0) return (int)(fn &gt;= 3&#160;? fn&#160;: 3);
             return (int)ceil(fmax(fmin(360.0 / fa, r*2*M_PI / fs), 5));
      }
</pre>
<p>Or you can embed this OpenSCAD version in your code to work out what's going on, you need to set r= to your size
</p>
<pre>   echo(n=($fn&gt;0?($fn&gt;=3?$fn:3):ceil(max(min(360/$fa,r*2*PI/$fs),5))),a_based=360/$fa,s_based=r*2*PI/$fs);
</pre>
<p>Spheres are first sliced into as many slices as the number of fragments being used
to render a circle of the sphere's radius, and then every slice is rendered
into as many fragments as are needed for the slice radius. You might have
recognized already that the pole of a sphere is usually a pentagon. This is
why.
</p><p>The number of fragments for a cylinder is determined using the greater of
the two radii.
</p><p>The method is also used when rendering circles and arcs from DXF files. The
variables have no effect when importing STL files.
</p><p>You can generate high resolution spheres by resetting the $fX values in
the instantiating module:
</p>
<pre>      $fs = 0.01;
      sphere(2);
</pre>
<p>or simply by passing the special variable as parameter:
</p>
<pre>      sphere(2, $fs = 0.01);
</pre>
<p>You can even scale the special variable instead of resetting it:
</p>
<pre>      sphere(2, $fs = $fs * 0.01);
</pre>
<h3><span id=".24t"></span><span class="mw-headline" id="$t">$t</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: $t">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-3" title="Edit section: $t">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Spring_100x20_in_OpenSCAD.gif" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Spring_100x20_in_OpenSCAD.gif/220px-Spring_100x20_in_OpenSCAD.gif" decoding="async" width="220" height="358" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Spring_100x20_in_OpenSCAD.gif/330px-Spring_100x20_in_OpenSCAD.gif 1.5x, //upload.wikimedia.org/wikipedia/commons/3/3d/Spring_100x20_in_OpenSCAD.gif 2x" data-file-width="400" data-file-height="650" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Spring_100x20_in_OpenSCAD.gif" class="internal" title="Enlarge"></a></div>Animated spring, 100 steps, 20 FPS</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Animated_gears_17T_and_31T.gif" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/92/Animated_gears_17T_and_31T.gif/220px-Animated_gears_17T_and_31T.gif" decoding="async" width="220" height="358" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/92/Animated_gears_17T_and_31T.gif/330px-Animated_gears_17T_and_31T.gif 1.5x, //upload.wikimedia.org/wikipedia/commons/9/92/Animated_gears_17T_and_31T.gif 2x" data-file-width="400" data-file-height="650" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Animated_gears_17T_and_31T.gif" class="internal" title="Enlarge"></a></div>Animated gears 17T and 31T</div></div></div>
<p>The $t variable is used for animation. If you enable the animation frame with view-&gt;animate and give a value for "FPS" and "Steps", the "Time" field shows the current value of $t. With this information in mind, you can animate your design. The design is recompiled every 1/"FPS" seconds with $t incremented by 1/"Steps" for "Steps" times, ending at either $t=1 or $t=1-1/steps.  
</p><p>If "Dump Pictures" is checked, then images are created in the same directory as the .scad file, using the following $t values, and with the following naming convention:
</p>
<dl><dt>Naming convention</dt></dl>
<p>Pattern 1:
</p>
<ul><li>$t=0/Steps filename="frame00001.png"</li>
<li>$t=1/Steps filename="frame00002.png</li>
<li>$t=2/Steps filename="frame00003.png"</li>
<li>. . .</li>
<li>$t=1-3/Steps filename="frame&lt;Steps-2&gt;.png"</li>
<li>$t=1-2/Steps filename="frame&lt;Steps-1&gt;.png"</li>
<li>$t=1-1/Steps filename="frame00000.png"</li></ul>
<p>Or, for other values of Steps, it follows this pattern:
</p><p>Pattern 2:
</p>
<ul><li>$t=0/Steps filename="frame00001.png"</li>
<li>$t=1/Steps filename="frame00002.png</li>
<li>$t=2/Steps filename="frame00003.png"</li>
<li>. . .</li>
<li>$t=1-3/Steps filename="frame&lt;Steps-2&gt;.png"</li>
<li>$t=1-2/Steps filename="frame&lt;Steps-1&gt;.png"</li>
<li>$t=1-1/Steps filename="frame&lt;Steps-0&gt;.png"</li>
<li>$t=1-0/Steps filename="frame00000.png"</li></ul>
<p>Which pattern it chooses appears to be an unpredictable, but consistent determined by Steps.  For example, when Steps=4, it follows the first pattern, and outputs a total of 4 files.  When Steps=3, it follows the second pattern, and also outputs 4 files.  It always outputs either Steps or Steps+1 files, though it may not be predictable which.  When finished, it wraps around and recreate each of the files, looping through and recreating them forever.
</p>
<h3><span id=".24vpr.2C_.24vpt.2C_.24vpf_and_.24vpd"></span><span class="mw-headline" id="$vpr,_$vpt,_$vpf_and_$vpd">$vpr, $vpt, $vpf and $vpd</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: $vpr, $vpt, $vpf and $vpd">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-4" title="Edit section: $vpr, $vpt, $vpf and $vpd">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>These contain the current viewport rotation and translation and camera distance - at the time of doing the rendering. Moving the viewport does not update them. During an animation they are updated for each frame.
</p>
<ul><li>$vpr shows rotation</li>
<li>$vpt shows translation (i.e. won't be affected by rotate and zoom)</li>
<li>$vpf shows the FOV of the view <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2021.01</span></span>]</span></li>
<li>$vpd shows the camera distance <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span></li></ul>
<p>Example
</p>
<pre> cube([10, 10, $vpr[0] / 10]);
</pre>
<p>which makes the cube change size based on the view angle, if an animation loop is active (which does not need to use the $t variable)
</p><p>You can also make bits of a complex model vanish as you change the view.
</p><p>All four variables are writable, but only assignments at the top-level of the main file has an effect on the viewport. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Example
</p>
<pre> $vpr = [0, 0, $t * 360];
</pre>
<p>which allows a simple 360 degree rotation around the Z axis in animation mode.
</p><p>The menu command <i>Edit - Paste Viewport Rotation/Translation</i> copies the current value of the viewport, but not the current $vpr or $vpt.
</p>
<h3><span id=".24preview"></span><span class="mw-headline" id="$preview">$preview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: $preview">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-5" title="Edit section: $preview">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>$preview is true, when in OpenCSG preview (F5). $preview is false, when in render (F6).
</p><p>This can, for example, be used to reduce detail during preview to save time, without losing detail in the final rendered result:
</p>
<pre>$fn = $preview&#160;? 12&#160;: 72;
sphere(r = 1);
</pre>
<p>Note that the render module does not affect $preview:
</p>
<pre>render(){
    $fn = $preview&#160;? 12&#160;: 72;
    sphere(r = 1);
}
</pre>
<p>Another use could be to make the preview show an assembly view and the render generate just the printed parts laid out for printing.
</p><p>If printed parts need extra features that are removed post printing, for example support for suspended holes, then the preview can omit these to show the finished part after post processing.
</p><p>When OpenSCAD is run from the command line $preview is only true when generating a PNG image with OpenCSG. It is false when generating STL, DXF and SVG files with CGAL. It is also false when generating CSG and ECHO files. This may or may not be what you want, but you can always override it on the command line like any other variable with the -D option.
</p>
<h3><span class="mw-headline" id="echo">echo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: echo">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-6" title="Edit section: echo">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The echo() function prints the contents to the compilation window (aka Console).  Useful for debugging code. Also see the String function <a href="/wiki/OpenSCAD_User_Manual/String_Functions#str" title="OpenSCAD User Manual/String Functions">str()</a>.
</p><p>Numeric values are rounded to 5 significant digits.
</p><p>It can be handy to use 'variable=variable' as the expression to easily label the variables, see the example below.
</p><p><b>Usage examples:</b>
</p>
<pre>my_h=50;
my_r=100;
echo("This is a cylinder with h=", my_h, " and r=", my_r);
echo(my_h=my_h,my_r=my_r); // shortcut
cylinder(h=my_h, r=my_r);
</pre>
<p>Shows in the Console as
</p>
<pre>ECHO: "This is a cylinder with h=", 50, " and r=", 100
ECHO: my_h = 50, my_r = 100
</pre>
<p>Note that the output will not have the extra double quotes and commas if converted to a string using str().
</p>
<h3><span class="mw-headline" id="Rounding_examples">Rounding examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: Rounding examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-7" title="Edit section: Rounding examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>An example for the rounding:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">a</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span>
<span class="nx">b</span><span class="o">=</span><span class="mf">1.000002</span><span class="p">;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">==</span><span class="nx">b</span><span class="p">){</span> <span class="c1">//while echoed the same, the values are still distinct </span>
    <span class="nx">echo</span> <span class="p">(</span><span class="s2">&quot;a==b&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">b</span><span class="p">){</span>
    <span class="nx">echo</span> <span class="p">(</span><span class="s2">&quot;a&gt;b&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">){</span>
    <span class="nx">echo</span> <span class="p">(</span><span class="s2">&quot;a&lt;b&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nx">echo</span> <span class="p">(</span><span class="s2">&quot;???&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Small_and_large_Numbers">Small and large Numbers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Small and large Numbers">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-8" title="Edit section: Small and large Numbers">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">c</span><span class="o">=</span><span class="mf">1000002</span><span class="p">;</span>
<span class="nx">d</span><span class="o">=</span><span class="mf">0.000002</span><span class="p">;</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span> <span class="c1">//1e+06</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span> <span class="c1">//2e-06</span>
</pre></div>
<h3><span class="mw-headline" id="HTML">HTML</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: HTML">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-9" title="Edit section: HTML">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>HTML output is not officially supported, however depending on the OpenSCAD version, some HTML tags were rendered in the console window.
</p>
<h2><span class="mw-headline" id="Echo_function">Echo function</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Echo function">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-10" title="Edit section: Echo function">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>Echo can be used in expression context to print information while the function/expression is evaluated. The output is generated before the expression evaluation to allow debugging of recursive functions. 
</p><p><b>Example</b>
</p>
<pre> a = 3; b = 5;
 
 // echo() prints values before evaluating the expression
 r1 = echo(a, b) a * b; // ECHO: 3, 5
 
 // using let it's still easy to output the result
 r2 = let(r = 2 * a * b) echo(r) r; // ECHO: 30
 
 // use echo statement for showing results 
 echo(r1, r2); // ECHO: 15, 30
</pre>
<p>A more complex example shows how echo() can be used in both descending and ascending path of a recursive function. The result() helper function is a simple way to output the value of an expression after evaluation.
</p><p><b>Example printing both input values and result of recursive sum()</b>
</p>
<pre> v = [4, 7, 9, 12];
 function result(x) = echo(result = x) x;
 function sum(x, i = 0) = echo(str("x[", i, "]=", x[i])) result(len(x) &gt; i&#160;? x[i] + sum(x, i + 1)&#160;: 0);
 echo("sum(v) = ", sum(v));
 
 // ECHO: "x[0]=4"
 // ECHO: "x[1]=7"
 // ECHO: "x[2]=9"
 // ECHO: "x[3]=12"
 // ECHO: "x[4]=undef"
 // ECHO: result = 0
 // ECHO: result = 12
 // ECHO: result = 21
 // ECHO: result = 28
 // ECHO: result = 32
 // ECHO: "sum(v) = ", 32
</pre>
<h2><span class="mw-headline" id="render_2">render</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: render">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-11" title="Edit section: render">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Screenshot_Render_Example_Wikibooks.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Screenshot_Render_Example_Wikibooks.png/220px-Screenshot_Render_Example_Wikibooks.png" decoding="async" width="220" height="370" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Screenshot_Render_Example_Wikibooks.png/330px-Screenshot_Render_Example_Wikibooks.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Screenshot_Render_Example_Wikibooks.png/440px-Screenshot_Render_Example_Wikibooks.png 2x" data-file-width="1128" data-file-height="1895" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Screenshot_Render_Example_Wikibooks.png" class="internal" title="Enlarge"></a></div>example in preview</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Screenshot_OpenSCAD_Edge_Render.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/64/Screenshot_OpenSCAD_Edge_Render.png/220px-Screenshot_OpenSCAD_Edge_Render.png" decoding="async" width="220" height="115" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/64/Screenshot_OpenSCAD_Edge_Render.png/330px-Screenshot_OpenSCAD_Edge_Render.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/64/Screenshot_OpenSCAD_Edge_Render.png/440px-Screenshot_OpenSCAD_Edge_Render.png 2x" data-file-width="532" data-file-height="277" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Screenshot_OpenSCAD_Edge_Render.png" class="internal" title="Enlarge"></a></div>render() effects show edges</div></div></div>
<p>Forces the generation of a mesh even in preview mode. This is useful in certain situations, e.g. when the boolean operations become too slow to track.
</p><p>Render can also be used (typically in conjunction with convexity) to avoid/workaround preview artifacts.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">&#91;1&#93;</a></sup> See also <a href="/wiki/OpenSCAD_User_Manual/FAQ#Why_are_some_parts_(e.g._holes)_of_the_model_not_rendered_correctly?" title="OpenSCAD User Manual/FAQ">OpenSCAD User Manual/FAQ#Why are some parts (e.g. holes) of the model not rendered correctly?</a>
</p><p><b>Usage examples:</b> <i>(Needs description)</i>
</p>
<pre>render(convexity = 2) difference() {
 cube([20, 20, 150], center = true);
 translate([-10, -10, 0])
  cylinder(h = 80, r = 10, center = true);
 translate([-10, -10, +40])
  sphere(r = 10);
 translate([-10, -10, -40])
  sphere(r = 10);
}
</pre>
<h2><span class="mw-headline" id="surface">surface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: surface">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-12" title="Edit section: surface">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Surface reads <a href="https://en.wikipedia.org/wiki/Heightmap" class="extiw" title="w:Heightmap">Heightmap</a> information from text or image files.
</p><p><b>Parameters</b>
</p>
<dl><dt>file</dt>
<dd>String. The path to the file containing the heightmap data.</dd></dl>
<dl><dt>center</dt>
<dd>Boolean.  This determines the positioning of the generated object.  If true, object is centered in X- and Y-axis.  Otherwise, the object is placed in the positive quadrant.  Defaults to false.</dd></dl>
<dl><dt>invert</dt>
<dd>Boolean. Inverts how the color values of imported images are translated into height values. This has no effect when importing text data files. Defaults to false. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span></dd></dl>
<dl><dt>convexity</dt>
<dd>Integer. The convexity parameter specifies the maximum number of front sides (back sides) a ray intersecting the object might penetrate. This parameter is only needed for correctly displaying the object in OpenCSG preview mode and has no effect on the final rendering.</dd></dl>
<h3><span class="mw-headline" id="Text_file_format">Text file format</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: Text file format">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-13" title="Edit section: Text file format">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The format for text based heightmaps is a matrix of numbers that represent the height for a specific point. Rows are mapped to the Y-axis, columns to the X axis.
The numbers must be separated by spaces or tabs. Empty lines and lines starting with a # character are ignored.
</p>
<h3><span class="mw-headline" id="Images">Images</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-14" class="mw-editsection-visualeditor" title="Edit section: Images">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-14" title="Edit section: Images">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Currently only PNG images are supported. Alpha channel information of the image is ignored and the height for the pixel is determined by converting the color value to <a href="https://en.wikipedia.org/wiki/Grayscale" class="extiw" title="w:Grayscale">Grayscale</a> using the linear luminance for the sRGB color space (Y = 0.2126R + 0.7152G + 0.0722B). The gray scale values are scaled to be in the range 0 to 100.
</p>
<h3><span class="mw-headline" id="Examples_3">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-15" class="mw-editsection-visualeditor" title="Edit section: Examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-15" title="Edit section: Examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Example 1:</b>
</p>
<pre>//surface.scad
surface(file = "surface.dat", center = true, convexity = 5);
%translate([0,0,5])cube([10,10,10], center =true);
</pre>
<pre>#surface.dat
10 9 8 7 6 5 5 5 5 5 
9 8 7 6 6 4 3 2 1 0 
8 7 6 6 4 3 2 1 0 0
7 6 6 4 3 2 1 0 0 0
6 6 4 3 2 1 1 0 0 0
6 6 3 2 1 1 1 0 0 0
6 6 2 1 1 1 1 0 0 0
6 6 1 0 0 0 0 0 0 0
3 1 0 0 0 0 0 0 0 0
3 0 0 0 0 0 0 0 0 0
</pre>
<p>Result:
</p><p><a href="/wiki/File:Openscad_surface_example_x1.png" class="image"><img alt="Openscad surface example x1.png" src="//upload.wikimedia.org/wikipedia/commons/7/7b/Openscad_surface_example_x1.png" decoding="async" width="521" height="495" data-file-width="521" data-file-height="495" /></a>
</p><p><b>Example 2</b>
</p>
<pre> // example010.dat generated using octave:
 // d = (sin(1:0.2:10)' * cos(1:0.2:10)) * 10;
 // save("example010.dat", "d");
 intersection() {
   surface(file = "example010.dat", center = true, convexity = 5);
   rotate(45, [0, 0, 1]) surface(file = "example010.dat", center = true, convexity = 5); 
 }
</pre>
<p><a href="/wiki/File:Openscad_surface_example_x2.png" class="image"><img alt="Openscad surface example x2.png" src="//upload.wikimedia.org/wikipedia/commons/e/e3/Openscad_surface_example_x2.png" decoding="async" width="397" height="366" data-file-width="397" data-file-height="366" /></a>
</p><p><b>Example 3:</b>
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p>
<pre>// Example 3a
scale([1, 1, 0.1])
  surface(file = "smiley.png", center = true);
</pre>
<pre>// Example 3b
scale([1, 1, 0.1])
  surface(file = "smiley.png", center = true, invert = true);
</pre>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r3721355/mw-parser-output/.tmulti"/><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:672px;max-width:672px"><div class="trow"><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_surface_example_input_image.png" class="image"><img alt="Input image" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/37/OpenSCAD_surface_example_input_image.png/220px-OpenSCAD_surface_example_input_image.png" decoding="async" width="220" height="165" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/37/OpenSCAD_surface_example_input_image.png/330px-OpenSCAD_surface_example_input_image.png 1.5x, //upload.wikimedia.org/wikipedia/commons/3/37/OpenSCAD_surface_example_input_image.png 2x" data-file-width="400" data-file-height="300" /></a></div><div class="thumbcaption">Input image</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_surface_example.png" class="image"><img alt="Surface output" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0b/OpenSCAD_surface_example.png/220px-OpenSCAD_surface_example.png" decoding="async" width="220" height="165" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0b/OpenSCAD_surface_example.png/330px-OpenSCAD_surface_example.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0b/OpenSCAD_surface_example.png/440px-OpenSCAD_surface_example.png 2x" data-file-width="800" data-file-height="600" /></a></div><div class="thumbcaption">Example 3a: surface(invert = false)</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_surface_example_(inverted).png" class="image"><img alt="Surface output inverted" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/58/OpenSCAD_surface_example_%28inverted%29.png/220px-OpenSCAD_surface_example_%28inverted%29.png" decoding="async" width="220" height="165" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/58/OpenSCAD_surface_example_%28inverted%29.png/330px-OpenSCAD_surface_example_%28inverted%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/5/58/OpenSCAD_surface_example_%28inverted%29.png/440px-OpenSCAD_surface_example_%28inverted%29.png 2x" data-file-width="800" data-file-height="600" /></a></div><div class="thumbcaption">Example 3b: surface (invert = true)</div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Example 3: Using surface() with a PNG image as heightmap input.</div></div></div></div>
<p><b>Example 4:</b>
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p>
<pre>// Example 4
surface(file = "BRGY-Grey.png", center = true, invert = false);
</pre>
<ul class="gallery mw-gallery-traditional">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:37.5px auto;"><a href="/wiki/File:BRGY-Grey.png" class="image" title="PNG Test File"><img alt="PNG Test File" src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e3/BRGY-Grey.png/120px-BRGY-Grey.png" decoding="async" width="120" height="75" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/e/e3/BRGY-Grey.png/180px-BRGY-Grey.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/e/e3/BRGY-Grey.png/240px-BRGY-Grey.png 2x" data-file-width="320" data-file-height="200" /></a></div></div>
			<div class="gallerytext">
<p>PNG Test File
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:33.5px auto;"><a href="/wiki/File:BRGY-Grey-3D.png" class="image" title="3D Surface"><img alt="3D Surface" src="//upload.wikimedia.org/wikipedia/commons/thumb/9/9d/BRGY-Grey-3D.png/120px-BRGY-Grey-3D.png" decoding="async" width="120" height="83" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/9d/BRGY-Grey-3D.png/180px-BRGY-Grey-3D.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/9/9d/BRGY-Grey-3D.png/240px-BRGY-Grey-3D.png 2x" data-file-width="600" data-file-height="416" /></a></div></div>
			<div class="gallerytext">
<p>3D Surface
</p>
			</div>
		</div></li>
</ul>
<h2><span class="mw-headline" id="search">search</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-16" class="mw-editsection-visualeditor" title="Edit section: search">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-16" title="Edit section: search">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The search() function is a general-purpose function to find one or more (or all) occurrences of a value or list of values in a vector, string or more complex list-of-list construct.
</p>
<h3><span class="mw-headline" id="Search_usage">Search usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-17" class="mw-editsection-visualeditor" title="Edit section: Search usage">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-17" title="Edit section: Search usage">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dd>search( <i>match_value</i> , <i>string_or_vector</i> [, <i>num_returns_per_match</i> [, <i>index_col_num</i> ] ] );</dd></dl>
<h3><span class="mw-headline" id="Search_arguments">Search arguments</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-18" class="mw-editsection-visualeditor" title="Edit section: Search arguments">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-18" title="Edit section: Search arguments">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul><li><b>match_value</b></li></ul>
<dl><dd><ul><li>Can be a single string value. Search loops over the characters in the string and searches for each one in the second argument. The second argument must be a string or a list of lists (this second case is not recommended). The search function does <b>not</b> search for substrings.</li>
<li>Can be a single numerical value.</li>
<li>Can be a list of values. The search function searches for each item on the list.</li>
<li>To search for a list or a full string give the list or string as a single element list such as ["abc"] to search for the string "abc" (See <b>Example 9</b>) or [[6,7,8]] to search for the list [6,7,8].  Without the extra brackets, search looks separately for each item in the list.</li>
<li>If match_value is boolean then search returns undef.</li></ul></dd></dl>
<ul><li><b>string_or_vector</b></li></ul>
<dl><dd><ul><li>The string or vector to search for matches.</li>
<li>If <b>match_value</b> is a string then this should be a string and the string is searched for individual character matches to the characters in <b>match_value</b></li>
<li>If this is a list of lists, v=[[a0,a1,a2...],[b0,b1,b2,...],[c0,c1,c2,...],...] then search looks only at one index position of the sublists. By default this is position 0, so the search looks only at a0, b0, c0, etc.  The <b>index_col_num</b> parameter changes which index is searched.</li>
<li>If <b>match_value</b> is a string and this parameter is a list of lists then the characters of the string are tested against the appropriate index entry in the list of lists. However, if any characters fail to find a match a warning message is printed and that return value is excluded from the output (if <b>num_returns_per_match</b> is 1). This means that the length of the output is unpredictable.</li></ul></dd></dl>
<ul><li><b>num_returns_per_match</b> (default: 1)</li></ul>
<dl><dd><ul><li>By default, search only looks for one match per element of match_value to return as a list of indices</li>
<li>If num_returns_per_match &gt; 1, search returns a list of lists of up to num_returns_per_match index values for each element of match_value.</li></ul>
<dl><dd><ul><li>See <b>Example 8</b> below.</li></ul></dd></dl>
<ul><li>If num_returns_per_match = 0, search returns a list of lists of <b>all</b> matching index values for each element of match_value.</li></ul>
<dl><dd><ul><li>See <b>Example 6</b> below.</li></ul></dd></dl></dd></dl>
<ul><li><b>index_col_num</b> (default: 0)</li></ul>
<dl><dd><ul><li>As noted above, when searching a list of lists, search looks only at one index position of each sublist.  That index position is specified by <b>index_col_num</b>.</li>
<li>See <b>Example 5</b> below for a simple usage example.</li></ul></dd></dl>
<h3><span class="mw-headline" id="Search_usage_examples">Search usage examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-19" class="mw-editsection-visualeditor" title="Edit section: Search usage examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-19" title="Edit section: Search usage examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dd>See <b>example023.scad</b> included with OpenSCAD for a renderable example.</dd></dl>
<h4><span class="mw-headline" id="Index_values_return_as_list">Index values return as list</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-20" class="mw-editsection-visualeditor" title="Edit section: Index values return as list">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-20" title="Edit section: Index values return as list">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<table class="wikitable">
<tbody><tr>
<th>Example
</th>
<th>Code
</th>
<th>Result
</th></tr>
<tr>
<td align="center">
<p>1
</p>
</td>
<td>
<p><code>search("a","abcdabcd");</code>
</p>
</td>
<td>
<p>[0]
</p>
</td></tr>
<tr>
<td align="center">
<p>2
</p>
</td>
<td>
<p><code>search("e","abcdabcd");</code>
</p>
</td>
<td>
<p>[]
</p>
</td></tr>
<tr>
<td align="center">
<p>3
</p>
</td>
<td>
<p><code>search("a","abcdabcd",0);</code>
</p>
</td>
<td>
<p>[[0,4]]
</p>
</td></tr>
<tr>
<td align="center">
<p>4
</p>
</td>
<td>
<p><code>data=[ ["a",1],["b",2],["c",3],["d",4],["a",5],["b",6],["c",7],["d",8],["e",9] ];</code>
</p><p><code>search("a", data, <i>num_returns_per_match</i>=0);</code>
</p>
</td>
<td>
<p>[[0,4]] (see also Example 6 below)
</p>
</td></tr></tbody></table>
<h4><span id="Search_on_different_column.3B_return_Index_values"></span><span class="mw-headline" id="Search_on_different_column;_return_Index_values">Search on different column; return Index values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-21" class="mw-editsection-visualeditor" title="Edit section: Search on different column; return Index values">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-21" title="Edit section: Search on different column; return Index values">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Example 5:</b>
</p>
<pre> data= [ ["a",1],["b",2],["c",3],["d",4],["a",5],["b",6],["c",7],["d",8],["e",3] ];
 echo(search(3, data));    // Searches index 0, so it doesn't find anything
 echo(search(3, data, <i>num_returns_per_match</i>=0, <i>index_col_num</i>=1));
</pre>
<p>Outputs:
</p>
<pre> ECHO: []
 ECHO: [2, 8]
</pre>
<h4><span class="mw-headline" id="Search_on_list_of_values">Search on list of values</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-22" class="mw-editsection-visualeditor" title="Edit section: Search on list of values">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-22" title="Edit section: Search on list of values">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Example 6:  Return all matches per search vector element.</b>
</p>
<pre> data= [ ["a",1],["b",2],["c",3],["d",4],["a",5],["b",6],["c",7],["d",8],["e",9] ];
 search("abc", data, num_returns_per_match=0);
</pre>
<p>Returns:
</p>
<pre>   [[0,4],[1,5],[2,6]]
</pre>
<p><b>Example 7:  Return first match per search vector element; special case return vector.</b>
</p>
<pre> data= [ ["a",1],["b",2],["c",3],["d",4],["a",5],["b",6],["c",7],["d",8],["e",9] ];
 search("abc", data, num_returns_per_match=1);
</pre>
<p>Returns:
</p>
<pre>   [0,1,2]
</pre>
<p><b>Example 8:  Return first two matches per search vector element; vector of vectors.</b>
</p>
<pre> data= [ ["a",1],["b",2],["c",3],["d",4],["a",5],["b",6],["c",7],["d",8],["e",9] ];
 search("abce", data, num_returns_per_match=2);
</pre>
<p>Returns:
</p>
<pre> [[0,4],[1,5],[2,6],[8]]
</pre>
<h4><span class="mw-headline" id="Search_on_list_of_strings">Search on list of strings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-23" class="mw-editsection-visualeditor" title="Edit section: Search on list of strings">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-23" title="Edit section: Search on list of strings">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Example 9:</b>
</p>
<pre> lTable2=[ ["cat",1],["b",2],["c",3],["dog",4],["a",5],["b",6],["c",7],["d",8],["e",9],["apple",10],["a",11] ];
 lSearch2=["b","zzz","a","c","apple","dog"];
 l2=search(lSearch2,lTable2);
 echo(str("Default list string search (",lSearch2,"): ",l2));
</pre>
<p>Returns
</p>
<pre> ECHO: "Default list string search (["b", "zzz", "a", "c", "apple", "dog"]): [1, [], 4, 2, 9, 3]"
</pre>
<h4><span class="mw-headline" id="Getting_the_right_results">Getting the right results</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-24" class="mw-editsection-visualeditor" title="Edit section: Getting the right results">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-24" title="Edit section: Getting the right results">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>// workout which vectors get the results
v=[ ["O",2],["p",3],["e",9],["n",4],["S",5],["C",6],["A",7],["D",8] ];
//
echo(v[0]);					// -&gt; ["O",2]
echo(v[1]);                                     // -&gt; ["p",3]
echo(v[1][0],v[1][1]);                          // -&gt; "p",3
echo(search("p",v));                            // find "p" -&gt; [1]
echo(search("p",v)[0]);                         // -&gt; 1
echo(search(9,v,0,1));                          // find  9  -&gt; [2] 
echo(v[search(9,v,0,1)[0]]);                    // -&gt; ["e",9]
echo(v[search(9,v,0,1)[0]][0]);                 // -&gt; "e"
echo(v[search(9,v,0,1)[0]][1]);                 // -&gt; 9
echo(v[search("p",v,1,0)[0]][1]);               // -&gt; 3
echo(v[search("p",v,1,0)[0]][0]);               // -&gt; "p"
echo(v[search("d",v,1,0)[0]][0]);               // "d" not found -&gt; undef
echo(v[search("D",v,1,0)[0]][1]);               // -&gt; 8
</pre>
<h2><span class="mw-headline" id="OpenSCAD_version">OpenSCAD version</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-25" class="mw-editsection-visualeditor" title="Edit section: OpenSCAD version">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-25" title="Edit section: OpenSCAD version">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>version() and version_num() returns the OpenSCAD version number.
</p>
<ul><li>The version() function returns the OpenSCAD version as a vector of three numbers, e.g. [2011, 9, 23]</li>
<li>The version_num() function returns the OpenSCAD version as a number, e.g. 20110923</li></ul>
<h2><span id="parent_module.28n.29_and_.24parent_modules"></span><span class="mw-headline" id="parent_module(n)_and_$parent_modules">parent_module(n) and $parent_modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-26" class="mw-editsection-visualeditor" title="Edit section: parent module(n) and $parent modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-26" title="Edit section: parent module(n) and $parent modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>$parent_modules contains the number of modules in the instantiation stack.
parent_module(i) returns the name of the module i levels above the current module in the instantiation stack.
The stack is independent of where the modules are defined. It's where they're instantiated that counts.
This can, for example, be used to build a BOM (Bill Of Material).
</p><p>Example:
</p>
<pre> module top() {
   children();
 }
 module middle() {
   children();
 }
 top() middle() echo(parent_module(0)); // prints "middle"
 top() middle() echo(parent_module(1)); // prints "top"
</pre>
<h2><span class="mw-headline" id="assert">assert</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-27" class="mw-editsection-visualeditor" title="Edit section: assert">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-27" title="Edit section: assert">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p><i>see also <a href="https://en.wikipedia.org/wiki/Assertion_(software_development)" class="extiw" title="w:Assertion (software development)">Assertion (software development)</a></i>
</p><p>Assert evaluates a logical expression. If the expression evaluates to false, the generation of the preview/render is stopped, and an error condition is reported via the console.  The report consists of a string representation of the expression and an additional string (optional) that is specified in the assert command.
</p>
<pre> assert(condition);
 assert(condition, message);
</pre>
<p><b>Parameters</b>
</p>
<dl><dt>condition</dt>
<dd>Expression. The expression to be evaluated as check for the assertion.</dd></dl>
<dl><dt>message</dt>
<dd>String. Optional message to be output in case the assertion failed.</dd></dl>
<h3><span class="mw-headline" id="Example_3">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-28" class="mw-editsection-visualeditor" title="Edit section: Example">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-28" title="Edit section: Example">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The simplest example is a simple <code>assert(false);</code>, e.g. in a file named <code>assert_example1.scad</code>.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">cube</span><span class="p">();</span>
<span class="nx">assert</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="nx">sphere</span><span class="p">();</span>
  
<span class="c1">// ERROR: Assertion &#39;false&#39; failed in file assert_example1.scad, line 2</span>
</pre></div>
<p>This example has little use, but the simple <code>assert(false);</code> can be used in code sections that should be unreachable.
</p>
<h3><span class="mw-headline" id="Checking_parameters">Checking parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-29" class="mw-editsection-visualeditor" title="Edit section: Checking parameters">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-29" title="Edit section: Checking parameters">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A useful example is checking the validity of input parameters:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">module</span> <span class="nx">row</span><span class="p">(</span><span class="nx">cnt</span> <span class="o">=</span> <span class="mf">3</span><span class="p">){</span>
    <span class="c1">// Count has to be a positive integer greater 0</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">cnt</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span> <span class="o">:</span> <span class="nx">cnt</span><span class="p">])</span> <span class="p">{</span>
        <span class="nx">translate</span><span class="p">([</span><span class="nx">i</span> <span class="o">*</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span> <span class="nx">sphere</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">row</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="c1">// ERROR: Assertion &#39;(cnt &gt; 0)&#39; failed in file assert_example2.scad, line 3</span>
</pre></div>
<h3><span class="mw-headline" id="Adding_message">Adding message</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-30" class="mw-editsection-visualeditor" title="Edit section: Adding message">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-30" title="Edit section: Adding message">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When writing a library, it could be useful to output additional information to the user in case of an failed assertion.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">module</span> <span class="nx">row</span><span class="p">(</span><span class="nx">cnt</span> <span class="o">=</span> <span class="mf">3</span><span class="p">){</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">cnt</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;Count has to be a positive integer greater 0&quot;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span> <span class="o">:</span> <span class="nx">cnt</span><span class="p">])</span> <span class="p">{</span>
        <span class="nx">translate</span><span class="p">([</span><span class="nx">i</span> <span class="o">*</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">])</span> <span class="nx">sphere</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">row</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="c1">// ERROR: Assertion &#39;(cnt &gt; 0)&#39;: &quot;Count has to be a positive integer greater 0&quot; failed in file assert_example3.scad, line 2</span>
</pre></div>
<h3><span class="mw-headline" id="Using_assertions_in_function">Using assertions in function</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;veaction=edit&amp;section=T-31" class="mw-editsection-visualeditor" title="Edit section: Using assertions in function">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Other_Language_Features&amp;action=edit&amp;section=T-31" title="Edit section: Using assertions in function">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Assert returns its children, so when using it in a function you can write
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">a</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;wrong a&quot;</span><span class="p">)</span> <span class="c1">// assert input</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">b</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;wrong b&quot;</span><span class="p">)</span> <span class="c1">// assert input</span>
    <span class="kd">let</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">// derive a new value from input</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">c</span> <span class="o">!=</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;wrong c&quot;</span><span class="p">)</span> <span class="c1">// assert derived value</span>
    <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="p">;</span> <span class="c1">// calculate</span>
</pre></div>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_7_--_User-Defined_Functions_and_Modules">Chapter 7 -- User-Defined Functions and Modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=17" class="mw-editsection-visualeditor" title="Edit section: Chapter 7 -- User-Defined Functions and Modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=17" title="Edit section: Chapter 7 -- User-Defined Functions and Modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
Users can extend the language by defining their own <b>functions</b> and <b>modules</b>. This allows grouping portions of script for easy reuse with different values. 
Well chosen names also help document your script.
</p><p><b>Functions</b> return values. 
</p><p><b>Modules</b> perform actions, but do not return values.
</p><p>OpenSCAD calculates the value of variables  at compile-time, not run-time.
The last variable assignment within a scope applies everywhere in that scope. It also applies to any inner scopes, or children, thereof. 
See <a href="/wiki/OpenSCAD_User_Manual/General#Scope_of_variables" title="OpenSCAD User Manual/General">Scope of variables</a> for more details.
It may be helpful to think of them as override-able constants rather than as variables.
</p><p>For functions and modules OpenSCAD makes copies of pertinent portions of the script for each use. 
Each copy has its own scope, which contains fixed values for variables and expressions unique to that instance.
</p><p>The name of functions and modules is case sensitive, therefore <b>test()</b> and <b>TEST()</b> refer to different functions/modules.
</p>
<h2><span class="mw-headline" id="Scope">Scope</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Scope">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-1" title="Edit section: Scope">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Modules and functions can be defined within a module definition, where they are visible only in the scope of that module.
</p><p>For example
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Parabola_Openscad_plot.jpg" class="image"><img alt="Parabola Openscad plot.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Parabola_Openscad_plot.jpg/220px-Parabola_Openscad_plot.jpg" decoding="async" width="220" height="177" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/2/26/Parabola_Openscad_plot.jpg 1.5x" data-file-width="303" data-file-height="244" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Parabola_Openscad_plot.jpg" class="internal" title="Enlarge"></a></div></div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="kd">function</span> <span class="nx">parabola</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span> <span class="mf">1</span><span class="o">/</span><span class="p">(</span><span class="mf">4</span><span class="o">*</span><span class="nx">f</span><span class="p">)</span> <span class="p">)</span> <span class="o">*</span> <span class="nx">x</span><span class="o">*</span><span class="nx">x</span><span class="p">;</span> 
<span class="nx">module</span> <span class="nx">plotParabola</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">wide</span><span class="p">,</span><span class="nx">steps</span><span class="o">=</span><span class="mf">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">y</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="nx">parabola</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">x</span><span class="p">);</span>
  <span class="nx">module</span> <span class="nx">plot</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">translate</span><span class="p">([</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">])</span>
      <span class="nx">circle</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="nx">$fn</span><span class="o">=</span><span class="mf">12</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">xAxis</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="nx">wide</span><span class="o">/</span><span class="mf">2</span><span class="o">:</span><span class="nx">steps</span><span class="o">:</span><span class="nx">wide</span><span class="o">/</span><span class="mf">2</span><span class="p">];</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="nx">xAxis</span><span class="p">)</span> 
    <span class="nx">plot</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="nx">x</span><span class="p">));</span>
<span class="p">}</span>
<span class="nx">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>  <span class="nx">plotParabola</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">5</span><span class="p">);</span>
<span class="nx">color</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span> <span class="nx">plotParabola</span><span class="p">(</span><span class="mf">4</span><span class="p">,</span>  <span class="mf">60</span><span class="p">,</span>  <span class="mf">2</span><span class="p">);</span>
</pre></div>
<p>The function y() and module plot() cannot be called in the global scope.
</p>
<h2><span class="mw-headline" id="Functions">Functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-2" title="Edit section: Functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Functions operate on values to calculate and return new values.
</p>
<dl><dt>function definition</dt></dl>
<pre>function name ( parameters ) = value&#160;;
</pre>
<dl><dt>name</dt>
<dd>Your name for this function. A meaningful name is helpful later.   Currently valid names can only be composed of simple characters and underscores [a-zA-Z0-9_] and do not allow high-ascii or unicode characters.</dd>
<dt>parameters</dt>
<dd>Zero or more arguments. Parameters can be assigned default values, to use in case they are omitted in the call. Parameter names are local and do not conflict with external variables of the same name.</dd>
<dt>value</dt>
<dd>an expression that calculates a value. This value can be a vector.</dd></dl>
<h3><span class="mw-headline" id="Function_use">Function use</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Function use">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-3" title="Edit section: Function use">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>When used, functions are treated as values, and do not themselves end with a semicolon <code>;</code>.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// example 1</span>
    
<span class="kd">function</span> <span class="nx">func0</span><span class="p">()</span> <span class="o">=</span> <span class="mf">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">func1</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="mf">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">2</span><span class="o">*</span><span class="nx">x</span><span class="o">+</span><span class="mf">1</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">func2</span><span class="p">()</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">func3</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="mf">7</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nx">y</span><span class="o">==</span><span class="mf">7</span><span class="p">)</span> <span class="o">?</span> <span class="mf">5</span> <span class="o">:</span> <span class="mf">2</span> <span class="p">;</span>
<span class="kd">function</span> <span class="nx">func4</span><span class="p">(</span><span class="nx">p0</span><span class="p">,</span><span class="nx">p1</span><span class="p">,</span><span class="nx">p2</span><span class="p">,</span><span class="nx">p3</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="nx">p0</span><span class="p">,</span><span class="nx">p1</span><span class="p">,</span><span class="nx">p2</span><span class="p">,</span><span class="nx">p3</span><span class="p">];</span>
    
<span class="nx">echo</span><span class="p">(</span><span class="nx">func0</span><span class="p">());</span>            <span class="c1">// 5</span>
<span class="nx">a</span> <span class="o">=</span>   <span class="nx">func1</span><span class="p">();</span>            <span class="c1">// 7</span>
<span class="nx">b</span> <span class="o">=</span>   <span class="nx">func1</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>           <span class="c1">// 11</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">func2</span><span class="p">());</span>            <span class="c1">// [1, 2, 3, 4]</span>
<span class="nx">echo</span><span class="p">(</span><span class="nx">func3</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span> <span class="nx">func3</span><span class="p">());</span>  <span class="c1">// 2, 5</span>
   
<span class="nx">z</span> <span class="o">=</span> <span class="nx">func4</span><span class="p">(</span><span class="nx">func0</span><span class="p">(),</span> <span class="nx">func1</span><span class="p">(),</span> <span class="nx">func2</span><span class="p">(),</span> <span class="nx">func3</span><span class="p">());</span>
<span class="c1">//  [5, 7, [1, 2, 3, 4], 5]</span>
   
<span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">4</span><span class="o">*</span><span class="nx">func0</span><span class="p">(),</span> <span class="mf">0</span><span class="p">])</span>
  <span class="nx">cube</span><span class="p">([</span><span class="nx">func0</span><span class="p">(),</span> <span class="mf">2</span><span class="o">*</span><span class="nx">func0</span><span class="p">(),</span> <span class="nx">func0</span><span class="p">()]);</span>
<span class="c1">// same as translate([0,-20,0]) cube([5,10,5]);</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// example 2  creates for() range to give desired no of steps to cover range</span>
  
<span class="kd">function</span> <span class="nx">steps</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">no_steps</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span> <span class="o">=</span>
  <span class="p">[</span><span class="nx">start</span> <span class="o">:</span> <span class="p">(</span><span class="nx">end</span><span class="o">-</span><span class="nx">start</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">no_steps</span><span class="o">-</span><span class="mf">1</span><span class="p">)</span> <span class="o">:</span> <span class="nx">end</span><span class="p">];</span>
  
<span class="nx">echo</span><span class="p">(</span><span class="nx">steps</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">5</span><span class="p">));</span>                <span class="c1">// [10&#160;: -2.5&#160;: 5]</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">steps</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">5</span><span class="p">))</span>  <span class="nx">echo</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>   <span class="c1">//  10 7.5 5</span>
  
<span class="nx">echo</span><span class="p">(</span><span class="nx">steps</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">15</span><span class="p">));</span>               <span class="c1">// [10&#160;: 2.5&#160;: 15]</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">steps</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">15</span><span class="p">))</span> <span class="nx">echo</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>   <span class="c1">// 10 12.5 15</span>
  
<span class="nx">echo</span><span class="p">(</span><span class="nx">steps</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">5</span><span class="p">));</span>                <span class="c1">// [0&#160;: 1.25&#160;: 5]</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">steps</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">5</span><span class="p">))</span>   <span class="nx">echo</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>  <span class="c1">// 0 1.25 2.5 3.75 5</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenScad_func_ex1_Rhomboid.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/57/OpenScad_func_ex1_Rhomboid.jpg/220px-OpenScad_func_ex1_Rhomboid.jpg" decoding="async" width="220" height="135" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/5/57/OpenScad_func_ex1_Rhomboid.jpg 1.5x" data-file-width="230" data-file-height="141" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenScad_func_ex1_Rhomboid.jpg" class="internal" title="Enlarge"></a></div>Example 3</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// example 3     rectangle with top pushed over, keeping same y</span>
  
<span class="kd">function</span> <span class="nx">rhomboid</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span> <span class="nx">angle</span><span class="o">=</span><span class="mf">90</span><span class="p">)</span>
  <span class="o">=</span> <span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],[</span><span class="nx">x</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span>
    <span class="p">[</span><span class="nx">x</span><span class="o">+</span><span class="nx">x</span><span class="o">*</span><span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">)</span><span class="o">/</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span><span class="nx">y</span><span class="p">],</span>
    <span class="p">[</span><span class="nx">x</span><span class="o">*</span><span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">)</span><span class="o">/</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span><span class="nx">y</span><span class="p">]];</span>
    
<span class="nx">echo</span> <span class="p">(</span><span class="nx">v1</span><span class="p">);</span> <span class="nx">v1</span> <span class="o">=</span> <span class="nx">rhomboid</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">35</span><span class="p">);</span>  <span class="c1">// [[0, 0], </span>
                                     <span class="c1">// [10, 0], </span>
                                     <span class="c1">// [24.2815, 10],</span>
                                     <span class="c1">// [14.2815, 10]]</span>
<span class="nx">polygon</span><span class="p">(</span><span class="nx">v1</span><span class="p">);</span>
<span class="nx">polygon</span><span class="p">(</span><span class="nx">rhomboid</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">35</span><span class="p">));</span>         <span class="c1">// alternate</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//performing the same action with a module</span>
   
<span class="nx">module</span> <span class="nx">parallelogram</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span><span class="nx">angle</span><span class="o">=</span><span class="mf">90</span><span class="p">)</span>
    <span class="p">{</span><span class="nx">polygon</span><span class="p">([[</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">],[</span><span class="nx">x</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span>
              <span class="p">[</span><span class="nx">x</span><span class="o">+</span><span class="nx">x</span><span class="o">*</span><span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">)</span><span class="o">/</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span><span class="nx">y</span><span class="p">],</span>
              <span class="p">[</span><span class="nx">x</span><span class="o">*</span><span class="nx">cos</span><span class="p">(</span><span class="nx">angle</span><span class="p">)</span><span class="o">/</span><span class="nx">sin</span><span class="p">(</span><span class="nx">angle</span><span class="p">),</span><span class="nx">y</span><span class="p">]]);};</span>
  
<span class="nx">parallelogram</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">35</span><span class="p">);</span>
</pre></div>
<p>You can also use the <a href="/wiki/OpenSCAD_User_Manual/Conditional_and_Iterator_Functions#Let_Statement" title="OpenSCAD User Manual/Conditional and Iterator Functions"><b>let</b> statement</a>:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="kd">function</span> <span class="nx">get_square_triangle_perimeter</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">)</span> <span class="o">=</span>
  <span class="kd">let</span> <span class="p">(</span><span class="nx">hypotenuse</span> <span class="o">=</span> <span class="nx">sqrt</span><span class="p">(</span><span class="nx">p1</span><span class="o">*</span><span class="nx">p1</span><span class="o">+</span><span class="nx">p2</span><span class="o">*</span><span class="nx">p2</span><span class="p">))</span>
    <span class="nx">p1</span> <span class="o">+</span> <span class="nx">p2</span> <span class="o">+</span> <span class="nx">hypotenuse</span><span class="p">;</span>
</pre></div>
<p>It can be used to store values in recursive functions. See the <a href="https://en.wikipedia.org/wiki/let_expression" class="extiw" title="wikipedia:let expression">wikipedia page</a> for more information on the general concept.
</p>
<h3><span class="mw-headline" id="Recursive_functions">Recursive functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Recursive functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-4" title="Edit section: Recursive functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="https://en.wikipedia.org/wiki/recursion_(computer_science)" class="extiw" title="w:recursion (computer science)">Recursive</a> function calls are supported. Using the Conditional Operator "... <b>?</b> ... <b>:</b> ... ", it is possible to ensure the recursion is terminated.
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// recursion example: add all integers up to n</span>
<span class="kd">function</span> <span class="nx">add_up_to</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">n</span><span class="o">==</span><span class="mf">0</span> <span class="o">?</span> <span class="mf">0</span> <span class="o">:</span> <span class="nx">n</span> <span class="o">+</span> <span class="nx">add_up_to</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mf">1</span><span class="p">)</span> <span class="p">);</span>
</pre></div>
<p>There is a built-in recursion limit to prevent an application crash (a few thousands). If the limit is hit, you get an error like: ERROR: Recursion detected calling function ... .
</p><p>For all <a href="https://en.wikipedia.org/wiki/Tail_call" class="extiw" title="w:Tail call">tail-recursive</a> functions that calls itself, OpenSCAD is able to eliminate internally the recursion transforming it in an iterative loop. The previous example code is not a tail call as an "add" operation need to be calculated after calling. But the following is entitled to tail-recursion elimination:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// tail-recursion elimination example: add all integers up to n</span>
<span class="kd">function</span> <span class="nx">add_up_to</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">sum</span><span class="o">=</span><span class="mf">0</span><span class="p">)</span> <span class="o">=</span>
    <span class="nx">n</span><span class="o">==</span><span class="mf">0</span> <span class="o">?</span>
        <span class="nx">sum</span> <span class="o">:</span>
        <span class="nx">add_up_to</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="nx">sum</span><span class="o">+</span><span class="nx">n</span><span class="p">);</span>
 
<span class="nx">echo</span><span class="p">(</span><span class="nx">sum</span><span class="o">=</span><span class="nx">add_up_to</span><span class="p">(</span><span class="mf">100000</span><span class="p">));</span>
<span class="c1">// ECHO: sum = 5.00005e+009</span>
</pre></div>
<p>Tail-recursion elimination allows much higher recursion limits (up to 1000000).
</p>
<div style="clear: both"></div>
<h3><span class="mw-headline" id="Function_literals">Function literals</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Function literals">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-5" title="Edit section: Function literals">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2021.01</span></span>]</span>
</p><p><a href="https://en.wikipedia.org/wiki/Anonymous_function" class="extiw" title="w:Anonymous function">Function literals</a> are expressions that define functions, other names for this are lambdas or closures.
</p>
<dl><dd><b>function literal</b></dd></dl>
<pre>function (x) x + x
</pre>
<p>Function literals can be assigned to variables and passed around like any value. Calling the function uses the normal function call syntax with parenthesis.
</p>
<pre>func = function (x) x * x;
echo(func(5)); // ECHO: 25
</pre>
<p>It's possible to define functions that return functions. Unbound variables are captured by lexical scope.
</p>
<pre>a = 1;
selector = function (which)
             which == "add"
            &#160;? function (x) x + x + a
            &#160;: function (x) x * x + a;
             
echo(selector("add"));     // ECHO: function(x) ((x + x) + a)
echo(selector("add")(5));  // ECHO: 11

echo(selector("mul"));     // ECHO: function(x) ((x * x) + a)
echo(selector("mul")(5));  // ECHO: 26
</pre>
<h3><span class="mw-headline" id="Overwriting_built-in_functions">Overwriting built-in functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Overwriting built-in functions">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-6" title="Edit section: Overwriting built-in functions">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It is possible to overwrite the built-in functions.
</p>
<table class="wikitable">
<tbody><tr>
<th>Source Code
</th>
<th>Console output
</th></tr>
<tr>
<td><div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">echo</span> <span class="p">(</span><span class="nx">sin</span><span class="p">(</span><span class="mf">1</span><span class="p">));</span>
<span class="kd">function</span> <span class="nx">sin</span><span class="p">()</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">echo</span> <span class="p">(</span><span class="nx">sin</span><span class="p">(</span><span class="mf">1</span><span class="p">));</span>
</pre></div>
</td>
<td><div class="mw-highlight mw-highlight-lang-output mw-content-ltr" dir="ltr"><pre><span></span><span class="go">Compiling design (CSG Tree generation)...</span>
<span class="go">ECHO: true</span>
<span class="go">ECHO: true</span>
<span class="go">Compiling design (CSG Products generation)...</span>
</pre></div>
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Modules">Modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: Modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-7" title="Edit section: Modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Modules can be used to define objects or, using <code>children()</code>, define operators.
Once defined, modules are temporarily added to the language.
</p>
<dl><dt>module definition</dt></dl>
<pre>module name ( parameters ) { actions }
</pre>
<dl><dt>name</dt>
<dd>Your name for this module. Try to pick something meaningful.  Currently valid names can only be composed of simple characters and underscores [a-zA-Z0-9_] and do not allow high-ascii or unicode characters.</dd>
<dt>parameters</dt>
<dd>Zero or more arguments. Parameters may be assigned default values, to use in case they are omitted in the call. Parameter names are local and do not conflict with external variables of the same name.</dd>
<dt>actions</dt>
<dd>Nearly any statement valid outside a module can be included within a module. This includes the definition of functions and other modules. Such functions and modules can be called only from within the enclosing module.</dd></dl>
<p>Variables can be assigned, but their scope is limited to within each individual use of the module. There is no mechanism in OpenSCAD for modules to return values to the outside.
See <a href="/wiki/OpenSCAD_User_Manual/General#Scope_of_variables" title="OpenSCAD User Manual/General">Scope of variables</a> for more details.
</p>
<h3><span class="mw-headline" id="Object_modules">Object modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: Object modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-8" title="Edit section: Object modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Object modules use one or more primitives, with associated operators, to define new objects.
</p><p>In use, object modules are actions ending with a semi-colon ';'.
</p>
<pre>name ( parameter values );
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenScad_Module_ex1_Color_bar.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/24/OpenScad_Module_ex1_Color_bar.jpg/220px-OpenScad_Module_ex1_Color_bar.jpg" decoding="async" width="220" height="269" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/2/24/OpenScad_Module_ex1_Color_bar.jpg 1.5x" data-file-width="241" data-file-height="295" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenScad_Module_ex1_Color_bar.jpg" class="internal" title="Enlarge"></a></div>Color bar</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//example 1</span>
   
<span class="nx">translate</span><span class="p">([</span><span class="o">-</span><span class="mf">30</span><span class="p">,</span><span class="o">-</span><span class="mf">20</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span>
   <span class="nx">ShowColorBars</span><span class="p">(</span><span class="nx">Expense</span><span class="p">);</span>
   
<span class="nx">ColorBreak</span><span class="o">=</span><span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">20</span><span class="p">,</span><span class="s2">&quot;lime&quot;</span><span class="p">],</span>  <span class="c1">// upper limit of color range</span>
           <span class="p">[</span><span class="mf">40</span><span class="p">,</span><span class="s2">&quot;greenyellow&quot;</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">60</span><span class="p">,</span><span class="s2">&quot;yellow&quot;</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">75</span><span class="p">,</span><span class="s2">&quot;LightCoral&quot;</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">200</span><span class="p">,</span><span class="s2">&quot;red&quot;</span><span class="p">]];</span>
<span class="nx">Expense</span><span class="o">=</span><span class="p">[</span><span class="mf">16</span><span class="p">,</span><span class="mf">20</span><span class="p">,</span><span class="mf">25</span><span class="p">,</span><span class="mf">85</span><span class="p">,</span><span class="mf">52</span><span class="p">,</span><span class="mf">63</span><span class="p">,</span><span class="mf">45</span><span class="p">];</span>
   
<span class="nx">module</span> <span class="nx">ColorBar</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="nx">period</span><span class="p">,</span><span class="nx">range</span><span class="p">){</span>  <span class="c1">// 1 color on 1 bar</span>
   <span class="nx">RangeHi</span> <span class="o">=</span> <span class="nx">ColorBreak</span><span class="p">[</span><span class="nx">range</span><span class="p">][</span><span class="mf">0</span><span class="p">];</span>
   <span class="nx">RangeLo</span> <span class="o">=</span> <span class="nx">ColorBreak</span><span class="p">[</span><span class="nx">range</span><span class="o">-</span><span class="mf">1</span><span class="p">][</span><span class="mf">0</span><span class="p">];</span>
   <span class="nx">color</span><span class="p">(</span> <span class="nx">ColorBreak</span><span class="p">[</span><span class="nx">range</span><span class="p">][</span><span class="mf">1</span><span class="p">]</span> <span class="p">)</span> 
   <span class="nx">translate</span><span class="p">([</span><span class="mf">10</span><span class="o">*</span><span class="nx">period</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">RangeLo</span><span class="p">])</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&gt;</span> <span class="nx">RangeHi</span><span class="p">)</span>      <span class="nx">cube</span><span class="p">([</span><span class="mf">5</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="nx">RangeHi</span><span class="o">-</span><span class="nx">RangeLo</span><span class="p">]);</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&gt;</span> <span class="nx">RangeLo</span><span class="p">)</span> <span class="nx">cube</span><span class="p">([</span><span class="mf">5</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="nx">value</span><span class="o">-</span><span class="nx">RangeLo</span><span class="p">]);</span>
  <span class="p">}</span>  
<span class="nx">module</span> <span class="nx">ShowColorBars</span><span class="p">(</span><span class="nx">values</span><span class="p">){</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">month</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="nx">len</span><span class="p">(</span><span class="nx">values</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">],</span> <span class="nx">range</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="o">:</span><span class="nx">len</span><span class="p">(</span><span class="nx">ColorBreak</span><span class="p">)</span><span class="o">-</span><span class="mf">1</span><span class="p">])</span>
      <span class="nx">ColorBar</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="nx">month</span><span class="p">],</span><span class="nx">month</span><span class="p">,</span><span class="nx">range</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenScad_module_ex2_House.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/55/OpenScad_module_ex2_House.jpg/220px-OpenScad_module_ex2_House.jpg" decoding="async" width="220" height="161" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/5/55/OpenScad_module_ex2_House.jpg 1.5x" data-file-width="278" data-file-height="204" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenScad_module_ex2_House.jpg" class="internal" title="Enlarge"></a></div>House</div></div></div>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//example 2</span>
<span class="n">module</span> <span class="nf">house</span><span class="p">(</span><span class="n">roof</span><span class="o">=</span><span class="s">&quot;flat&quot;</span><span class="p">,</span><span class="n">paint</span><span class="o">=[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">color</span><span class="p">(</span><span class="n">paint</span><span class="p">)</span>
   <span class="k">if</span><span class="p">(</span><span class="n">roof</span><span class="o">==</span><span class="s">&quot;flat&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">cube</span><span class="p">();</span> <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">roof</span><span class="o">==</span><span class="s">&quot;pitched&quot;</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">rotate</span><span class="p">(</span><span class="o">[</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">linear_extrude</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
     <span class="n">polygon</span><span class="p">(</span><span class="n">points</span><span class="o">=[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.5</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="o">]]</span><span class="p">);</span> <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">roof</span><span class="o">==</span><span class="s">&quot;domical&quot;</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">){</span>
       <span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span> <span class="n">sphere</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">$fn</span><span class="o">=</span><span class="mi">20</span><span class="p">);</span> <span class="n">cube</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span> <span class="p">}</span>

                   <span class="n">house</span><span class="p">();</span>
<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">house</span><span class="p">(</span><span class="s">&quot;pitched&quot;</span><span class="p">);</span>
<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">house</span><span class="p">(</span><span class="s">&quot;domical&quot;</span><span class="p">,</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">);</span>
<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">house</span><span class="p">(</span><span class="n">roof</span><span class="o">=</span><span class="s">&quot;pitched&quot;</span><span class="p">,</span><span class="n">paint</span><span class="o">=[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">);</span>
<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">house</span><span class="p">(</span><span class="n">paint</span><span class="o">=[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span><span class="n">roof</span><span class="o">=</span><span class="s">&quot;pitched&quot;</span><span class="p">);</span>
<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">house</span><span class="p">(</span><span class="n">roof</span><span class="o">=</span><span class="s">&quot;domical&quot;</span><span class="p">);</span>
<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">house</span><span class="p">(</span><span class="n">paint</span><span class="o">=[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="o">]</span><span class="p">);</span>
</pre></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//example 3</span>
   
<span class="nx">element_data</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="mf">0</span><span class="p">],</span>  <span class="c1">// must be in order</span>
    <span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="s2">&quot;Hydrogen&quot;</span><span class="p">,</span><span class="s2">&quot;H&quot;</span><span class="p">,</span><span class="mf">1.008</span><span class="p">],</span>   <span class="c1">// indexed via atomic number</span>
    <span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="s2">&quot;Helium&quot;</span><span class="p">,</span>  <span class="s2">&quot;He&quot;</span><span class="p">,</span><span class="mf">4.003</span><span class="p">]</span>   <span class="c1">// redundant atomic number to preserve your sanity later</span>
<span class="p">];</span>
   
<span class="nx">Hydrogen</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>
<span class="nx">Helium</span>   <span class="o">=</span> <span class="mf">2</span><span class="p">;</span>
      
<span class="nx">module</span> <span class="nx">coaster</span><span class="p">(</span><span class="nx">atomic_number</span><span class="p">){</span>
    <span class="nx">element</span>     <span class="o">=</span> <span class="nx">element_data</span><span class="p">[</span><span class="nx">atomic_number</span><span class="p">][</span><span class="mf">1</span><span class="p">];</span>
    <span class="nx">symbol</span>      <span class="o">=</span> <span class="nx">element_data</span><span class="p">[</span><span class="nx">atomic_number</span><span class="p">][</span><span class="mf">2</span><span class="p">];</span>
    <span class="nx">atomic_mass</span> <span class="o">=</span> <span class="nx">element_data</span><span class="p">[</span><span class="nx">atomic_number</span><span class="p">][</span><span class="mf">3</span><span class="p">];</span>
    <span class="c1">//rest of script</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Operator_modules">Operator modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Operator modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-9" title="Edit section: Operator modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Children">Children</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Children">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-10" title="Edit section: Children">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Use of children() allows modules to act as operators applied to any or all of the objects within this module instantiation. 
In use, operator modules do not end with a semi-colon.
</p>
<pre>name ( parameter values ){scope of operator}
</pre>
<p>Basicly the children() command is used to apply modifications to objects that are focused by a scope:
</p>
<pre> module myModification() { rotate([0,45,0]) children(); } 
 
 myModification()                 // The modification
 {                                // Begin focus
   cylinder(10,4,4);              // First child
   cube([20,2,2], true);          // Second child
 }                                // End focus
</pre>
<p><br />
Objects are indexed via integers from 0 to $children-1. OpenSCAD sets $children to the total number of objects within the scope.
Objects grouped into a sub scope are treated as one child. 
<a href="#SeparateChildren">See example of separate children</a> below and <a href="/wiki/OpenSCAD_User_Manual/General#Scope_of_variables" title="OpenSCAD User Manual/General">Scope of variables</a>. Note that <code>children()</code>, <code>echo()</code> and empty block statements (including <code>if</code>s) count as <code>$children</code> objects, even if no geometry is present (as of v2017.12.23).
</p>
<pre> children();                         all children
 children(index);                    value or variable to select one child
 children([start&#160;: step&#160;: end]);     select from start to end incremented by step
 children([start&#160;: end]);            step defaults to 1 or -1
 children([vector]);                 selection of several children
</pre>
<p><b>Deprecated child() module</b>
</p><p>Up to release 2013.06 the now deprecated <code>child()</code> module was used instead. This can be translated to the new children() according to the table:
</p>
<table class="wikitable">

<tbody><tr>
<th>up to 2013.06</th>
<th>2014.03 and later
</th></tr>
<tr>
<td>child()</td>
<td>children(0)
</td></tr>
<tr>
<td>child(x)</td>
<td>children(x)
</td></tr>
<tr>
<td>for (a = [0:$children-1]) child(a)</td>
<td>children([0:$children-1])
</td></tr></tbody></table>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_move.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/4/40/OpenSCAD_Manual_Modules_Module_move.jpg/220px-OpenSCAD_Manual_Modules_Module_move.jpg" decoding="async" width="220" height="189" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/40/OpenSCAD_Manual_Modules_Module_move.jpg/330px-OpenSCAD_Manual_Modules_Module_move.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/4/40/OpenSCAD_Manual_Modules_Module_move.jpg/440px-OpenSCAD_Manual_Modules_Module_move.jpg 2x" data-file-width="441" data-file-height="379" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_move.jpg" class="internal" title="Enlarge"></a></div>Use all children</div></div></div>
<p><i>Examples</i> 
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//Use all children</span>
    
<span class="nx">module</span> <span class="nx">move</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span><span class="nx">rx</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span><span class="nx">ry</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span><span class="nx">rz</span><span class="o">=</span><span class="mf">0</span><span class="p">)</span>
<span class="p">{</span> <span class="nx">translate</span><span class="p">([</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">])</span><span class="nx">rotate</span><span class="p">([</span><span class="nx">rx</span><span class="p">,</span><span class="nx">ry</span><span class="p">,</span><span class="nx">rz</span><span class="p">])</span> <span class="nx">children</span><span class="p">();</span> <span class="p">}</span>
   
<span class="nx">move</span><span class="p">(</span><span class="mf">10</span><span class="p">)</span>           <span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
<span class="nx">move</span><span class="p">(</span><span class="o">-</span><span class="mf">10</span><span class="p">)</span>          <span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
<span class="nx">move</span><span class="p">(</span><span class="nx">z</span><span class="o">=</span><span class="mf">7.07</span><span class="p">,</span> <span class="nx">ry</span><span class="o">=</span><span class="mf">45</span><span class="p">)</span><span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
<span class="nx">move</span><span class="p">(</span><span class="nx">z</span><span class="o">=-</span><span class="mf">7.07</span><span class="p">,</span><span class="nx">ry</span><span class="o">=</span><span class="mf">45</span><span class="p">)</span><span class="nx">cube</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_lineuo.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3f/OpenSCAD_Manual_Modules_Module_lineuo.jpg/220px-OpenSCAD_Manual_Modules_Module_lineuo.jpg" decoding="async" width="220" height="105" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3f/OpenSCAD_Manual_Modules_Module_lineuo.jpg/330px-OpenSCAD_Manual_Modules_Module_lineuo.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/3f/OpenSCAD_Manual_Modules_Module_lineuo.jpg/440px-OpenSCAD_Manual_Modules_Module_lineuo.jpg 2x" data-file-width="737" data-file-height="353" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_lineuo.jpg" class="internal" title="Enlarge"></a></div>Use only the first child, multiple times</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//Use only the first child, multiple times</span>
  
<span class="nx">module</span> <span class="nx">lineup</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">space</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span> <span class="o">:</span> <span class="nx">num</span><span class="o">-</span><span class="mf">1</span><span class="p">])</span>
     <span class="nx">translate</span><span class="p">([</span> <span class="nx">space</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span> <span class="p">])</span> <span class="nx">children</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">lineup</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span> <span class="mf">65</span><span class="p">){</span> <span class="nx">sphere</span><span class="p">(</span><span class="mf">30</span><span class="p">);</span><span class="nx">cube</span><span class="p">(</span><span class="mf">35</span><span class="p">);}</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/10/OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg/400px-OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg" decoding="async" width="400" height="153" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/10/OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg/600px-OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/10/OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg/800px-OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg 2x" data-file-width="1180" data-file-height="451" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_SeparateChildren.jpg" class="internal" title="Enlarge"></a></div>Separate action for each child</div></div></div>
<div id="SeparateChildren"></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span>  <span class="c1">//Separate action for each child</span>
   
  <span class="nx">module</span> <span class="nx">SeparateChildren</span><span class="p">(</span><span class="nx">space</span><span class="p">){</span>
    <span class="k">for</span> <span class="p">(</span> <span class="nx">i</span><span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">1</span><span class="o">:</span><span class="nx">$children</span><span class="o">-</span><span class="mf">1</span><span class="p">])</span>   <span class="c1">// step needed in case $children &lt; 2  </span>
      <span class="nx">translate</span><span class="p">([</span><span class="nx">i</span><span class="o">*</span><span class="nx">space</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="p">{</span><span class="nx">children</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="nx">text</span><span class="p">(</span><span class="nx">str</span><span class="p">(</span><span class="nx">i</span><span class="p">));}</span>
  <span class="p">}</span>
   
  <span class="nx">SeparateChildren</span><span class="p">(</span><span class="o">-</span><span class="mf">20</span><span class="p">){</span>
    <span class="nx">cube</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>              <span class="c1">// 0</span>
    <span class="nx">sphere</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>            <span class="c1">// 1</span>
    <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">20</span><span class="p">,</span><span class="mf">0</span><span class="p">]){</span>  <span class="c1">// 2</span>
      <span class="nx">cube</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
      <span class="nx">sphere</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
    <span class="p">}</span>     
    <span class="nx">cylinder</span><span class="p">(</span><span class="mf">15</span><span class="p">);</span>         <span class="c1">// 3</span>
    <span class="nx">cube</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>         <span class="c1">// 4</span>
  <span class="p">}</span>
  <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">40</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span><span class="nx">color</span><span class="p">(</span><span class="s2">&quot;lightblue&quot;</span><span class="p">)</span>
    <span class="nx">SeparateChildren</span><span class="p">(</span><span class="mf">20</span><span class="p">){</span><span class="nx">cube</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="kc">true</span><span class="p">);}</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_MultiRange.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/a/a7/OpenSCAD_Manual_Modules_Module_MultiRange.jpg/220px-OpenSCAD_Manual_Modules_Module_MultiRange.jpg" decoding="async" width="220" height="198" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/a/a7/OpenSCAD_Manual_Modules_Module_MultiRange.jpg/330px-OpenSCAD_Manual_Modules_Module_MultiRange.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/a/a7/OpenSCAD_Manual_Modules_Module_MultiRange.jpg 2x" data-file-width="372" data-file-height="334" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_MultiRange.jpg" class="internal" title="Enlarge"></a></div>Multiple ranges</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//Multiple ranges</span>
<span class="nx">module</span> <span class="nx">MultiRange</span><span class="p">(){</span>
   <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;lightblue&quot;</span><span class="p">)</span> <span class="nx">children</span><span class="p">([</span><span class="mf">0</span><span class="o">:</span><span class="mf">1</span><span class="p">]);</span>
   <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;lightgreen&quot;</span><span class="p">)</span><span class="nx">children</span><span class="p">([</span><span class="mf">2</span><span class="o">:</span><span class="nx">$children</span><span class="o">-</span><span class="mf">2</span><span class="p">]);</span>
   <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;lightpink&quot;</span><span class="p">)</span> <span class="nx">children</span><span class="p">(</span><span class="nx">$children</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>
   
<span class="nx">MultiRange</span><span class="p">()</span>
<span class="p">{</span>
   <span class="nx">cube</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>              <span class="c1">// 0</span>
   <span class="nx">sphere</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>            <span class="c1">// 1</span>
   <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">20</span><span class="p">,</span><span class="mf">0</span><span class="p">]){</span>  <span class="c1">// 2</span>
     <span class="nx">cube</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
     <span class="nx">sphere</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
   <span class="p">}</span>     
   <span class="nx">cylinder</span><span class="p">(</span><span class="mf">15</span><span class="p">);</span>         <span class="c1">// 3</span>
   <span class="nx">cube</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>         <span class="c1">// 4</span>
<span class="p">}</span>
</pre></div>
<h3><span class="mw-headline" id="Further_module_examples">Further module examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: Further module examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-11" title="Edit section: Further module examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dd><b>Objects</b></dd></dl>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">module</span> <span class="nx">arrow</span><span class="p">(){</span>
    <span class="nx">cylinder</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span>
    <span class="nx">cube</span><span class="p">([</span><span class="mf">4</span><span class="p">,</span><span class="mf">.5</span><span class="p">,</span><span class="mf">3</span><span class="p">],</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">cube</span><span class="p">([</span><span class="mf">.5</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">3</span><span class="p">],</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">10</span><span class="p">])</span> <span class="nx">cylinder</span><span class="p">(</span><span class="mf">4</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
  
<span class="nx">module</span> <span class="nx">cannon</span><span class="p">(){</span>
    <span class="nx">difference</span><span class="p">(){</span><span class="nx">union</span><span class="p">()</span>
      <span class="p">{</span><span class="nx">sphere</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="nx">cylinder</span><span class="p">(</span><span class="mf">40</span><span class="p">,</span><span class="mf">10</span><span class="p">,</span><span class="mf">8</span><span class="p">);}</span> <span class="nx">cylinder</span><span class="p">(</span><span class="mf">41</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">4</span><span class="p">);</span>
<span class="p">}</span> <span class="p">}</span>
  
<span class="nx">module</span> <span class="nx">base</span><span class="p">(){</span>
    <span class="nx">difference</span><span class="p">(){</span>
      <span class="nx">cube</span><span class="p">([</span><span class="mf">40</span><span class="p">,</span><span class="mf">30</span><span class="p">,</span><span class="mf">20</span><span class="p">],</span><span class="kc">true</span><span class="p">);</span>
      <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">5</span><span class="p">])</span>  <span class="nx">cube</span><span class="p">([</span><span class="mf">50</span><span class="p">,</span><span class="mf">20</span><span class="p">,</span><span class="mf">15</span><span class="p">],</span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span> <span class="p">}</span>
</pre></div>
<dl><dd><b>Operators</b></dd></dl>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/29/OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg/400px-OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg" decoding="async" width="400" height="248" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/29/OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg/600px-OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/2/29/OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg/800px-OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg 2x" data-file-width="1091" data-file-height="676" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:OpenSCAD_Manual_Modules_Module_RotaryCluster_v2.jpg" class="internal" title="Enlarge"></a></div>Rotary Clusters</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">module</span> <span class="nx">aim</span><span class="p">(</span><span class="nx">elevation</span><span class="p">,</span><span class="nx">azimuth</span><span class="o">=</span><span class="mf">0</span><span class="p">)</span>
    <span class="p">{</span> <span class="nx">rotate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">azimuth</span><span class="p">])</span>
      <span class="p">{</span> <span class="nx">rotate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">90</span><span class="o">-</span><span class="nx">elevation</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="nx">children</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
      <span class="nx">children</span><span class="p">([</span><span class="mf">1</span><span class="o">:</span><span class="mf">1</span><span class="o">:</span><span class="nx">$children</span><span class="o">-</span><span class="mf">1</span><span class="p">]);</span>   <span class="c1">// step needed in case $children &lt; 2</span>
<span class="p">}</span> <span class="p">}</span>
   
<span class="nx">aim</span><span class="p">(</span><span class="mf">30</span><span class="p">,</span><span class="mf">20</span><span class="p">)</span><span class="nx">arrow</span><span class="p">();</span>
<span class="nx">aim</span><span class="p">(</span><span class="mf">35</span><span class="p">,</span><span class="mf">270</span><span class="p">)</span><span class="nx">cannon</span><span class="p">();</span>
<span class="nx">aim</span><span class="p">(</span><span class="mf">15</span><span class="p">){</span><span class="nx">cannon</span><span class="p">();</span><span class="nx">base</span><span class="p">();}</span>

<span class="nx">module</span> <span class="nx">RotaryCluster</span><span class="p">(</span><span class="nx">radius</span><span class="o">=</span><span class="mf">30</span><span class="p">,</span><span class="nx">number</span><span class="o">=</span><span class="mf">8</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">azimuth</span> <span class="o">=</span><span class="p">[</span><span class="mf">0</span><span class="o">:</span><span class="mf">360</span><span class="o">/</span><span class="nx">number</span><span class="o">:</span><span class="mf">359</span><span class="p">])</span>
      <span class="nx">rotate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">azimuth</span><span class="p">])</span>    
        <span class="nx">translate</span><span class="p">([</span><span class="nx">radius</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> <span class="p">{</span> <span class="nx">children</span><span class="p">();</span>
          <span class="nx">translate</span><span class="p">([</span><span class="mf">40</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">30</span><span class="p">])</span> <span class="nx">text</span><span class="p">(</span><span class="nx">str</span><span class="p">(</span><span class="nx">azimuth</span><span class="p">));</span> <span class="p">}</span>
   
<span class="nx">RotaryCluster</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span><span class="mf">7</span><span class="p">)</span> <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;lightgreen&quot;</span><span class="p">)</span> <span class="nx">aim</span><span class="p">(</span><span class="mf">15</span><span class="p">){</span><span class="nx">cannon</span><span class="p">();</span><span class="nx">base</span><span class="p">();}</span>
<span class="nx">rotate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">110</span><span class="p">])</span> <span class="nx">RotaryCluster</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span><span class="mf">4.5</span><span class="p">)</span> <span class="nx">aim</span><span class="p">(</span><span class="mf">35</span><span class="p">)</span><span class="nx">cannon</span><span class="p">();</span>
<span class="nx">color</span><span class="p">(</span><span class="s2">&quot;LightBlue&quot;</span><span class="p">)</span><span class="nx">aim</span><span class="p">(</span><span class="mf">55</span><span class="p">,</span><span class="mf">30</span><span class="p">){</span><span class="nx">cannon</span><span class="p">();</span><span class="nx">base</span><span class="p">();}</span>
</pre></div>
<h3><span class="mw-headline" id="Recursive_modules">Recursive modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: Recursive modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-12" title="Edit section: Recursive modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Like functions, modules may contain recursive calls. However, there is no tail-recursion elimination for recursive modules.
</p><p>The code below generates a crude model of a tree. Each tree branch is itself a modified version of the tree and produced by recursion. Be careful to keep the recursion depth (branching) n below 7 as the number of primitives and the preview time grow exponentially.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a href="/wiki/File:Simple_recursive_tree.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Simple_recursive_tree.png/220px-Simple_recursive_tree.png" decoding="async" width="220" height="146" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Simple_recursive_tree.png/330px-Simple_recursive_tree.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Simple_recursive_tree.png/440px-Simple_recursive_tree.png 2x" data-file-width="849" data-file-height="562" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Simple_recursive_tree.png" class="internal" title="Enlarge"></a></div>A simple tree created with a recursive OpenSCAD module</div></div></div>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span>    <span class="nx">module</span> <span class="nx">simple_tree</span><span class="p">(</span><span class="nx">size</span><span class="p">,</span> <span class="nx">dna</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>   
        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// trunk</span>
            <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r1</span><span class="o">=</span><span class="nx">size</span><span class="o">/</span><span class="mf">10</span><span class="p">,</span> <span class="nx">r2</span><span class="o">=</span><span class="nx">size</span><span class="o">/</span><span class="mf">12</span><span class="p">,</span> <span class="nx">h</span><span class="o">=</span><span class="nx">size</span><span class="p">,</span> <span class="nx">$fn</span><span class="o">=</span><span class="mf">24</span><span class="p">);</span>
            <span class="c1">// branches</span>
            <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">size</span><span class="p">])</span>
                <span class="k">for</span><span class="p">(</span><span class="nx">bd</span> <span class="o">=</span> <span class="nx">dna</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">angx</span> <span class="o">=</span> <span class="nx">bd</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
                    <span class="nx">angz</span> <span class="o">=</span> <span class="nx">bd</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span>
                    <span class="nx">scal</span> <span class="o">=</span> <span class="nx">bd</span><span class="p">[</span><span class="mf">2</span><span class="p">];</span>
                        <span class="nx">rotate</span><span class="p">([</span><span class="nx">angx</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">angz</span><span class="p">])</span>
                            <span class="nx">simple_tree</span><span class="p">(</span><span class="nx">scal</span><span class="o">*</span><span class="nx">size</span><span class="p">,</span> <span class="nx">dna</span><span class="p">,</span> <span class="nx">n</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span>
                <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span> <span class="c1">// leaves</span>
            <span class="nx">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
            <span class="nx">scale</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="p">])</span>
                <span class="nx">translate</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="nx">size</span><span class="o">/</span><span class="mf">6</span><span class="p">])</span> 
                    <span class="nx">rotate</span><span class="p">([</span><span class="mf">90</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">])</span> 
                        <span class="nx">cylinder</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">size</span><span class="o">/</span><span class="mf">6</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">size</span><span class="o">/</span><span class="mf">10</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// dna is a list of branching data bd of the tree:</span>
    <span class="c1">//      bd[0] - inclination of the branch</span>
    <span class="c1">//      bd[1] - Z rotation angle of the branch</span>
    <span class="c1">//      bd[2] - relative scale of the branch</span>
    <span class="nx">dna</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mf">12</span><span class="p">,</span>  <span class="mf">80</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">],</span> <span class="p">[</span><span class="mf">55</span><span class="p">,</span>    <span class="mf">0</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">],</span> 
            <span class="p">[</span><span class="mf">62</span><span class="p">,</span> <span class="mf">125</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mf">57</span><span class="p">,</span> <span class="o">-</span><span class="mf">125</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span> <span class="p">];</span>
    <span class="nx">simple_tree</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="nx">dna</span><span class="p">,</span> <span class="mf">5</span><span class="p">);</span>
</pre></div>
<p>Another example of recursive module may be found in <a href="/wiki/OpenSCAD_User_Manual/Tips_and_Tricks#Stack_cylinders_on_top_of_each_other" title="OpenSCAD User Manual/Tips and Tricks">Tips and Tricks</a>
</p>
<h3><span class="mw-headline" id="Overwriting_built-in_modules">Overwriting built-in modules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;veaction=edit&amp;section=T-13" class="mw-editsection-visualeditor" title="Edit section: Overwriting built-in modules">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/User-Defined_Functions_and_Modules&amp;action=edit&amp;section=T-13" title="Edit section: Overwriting built-in modules">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It is possible to overwrite the built-in modules.
</p><p>A simple, but pointless example would be:
</p>
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="nx">module</span> <span class="nx">sphere</span><span class="p">(){</span>
    <span class="nx">square</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">sphere</span><span class="p">();</span>
</pre></div>
<p>Note that the built-in sphere module can not be called when over written.
</p><p>A more sensible way to use this language feature is to overwrite the 3D primitives with extruded 2D-primitives.
This allows additional to customize the default parameters and to add additional parameters.
</p>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_8_--_Debugging_aids">Chapter 8 -- Debugging aids</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=18" class="mw-editsection-visualeditor" title="Edit section: Chapter 8 -- Debugging aids">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=18" title="Edit section: Chapter 8 -- Debugging aids">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<p><b>Modifier characters</b> are used to change the appearance or behaviors of child nodes. They are particularly useful in debugging where they can be used to highlight specific objects, or include or exclude them from rendering.
</p>
<h2><span class="mw-headline" id="Advanced_concept_2">Advanced concept</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Advanced concept">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;action=edit&amp;section=T-1" title="Edit section: Advanced concept">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>OpenSCAD uses different libraries to implement capabilities, and this can introduce some inconsistencies to the F5 preview behavior of transformations. Traditional transforms (translate, rotate, scale, mirror &amp; multimatrix) are performed using OpenGL in preview, while other more advanced transforms, such as resize, perform a CGAL operation, behaving like a CSG operation affecting the underlying object, not just transforming it. In particular this can affect the display of modifier characters, specifically "#" and "%", where the highlight may not display intuitively, such as highlighting the pre-resized object, but highlighting the post-scaled object.
</p><p>Note: The color changes triggered by character modifiers appear only in "Compile" mode, not "Compile and Render (CGAL)" mode. (<a href="/wiki/OpenSCAD_User_Manual/Transformations#color" title="OpenSCAD User Manual/Transformations">As per the color section</a>.)
</p>
<h2><span class="mw-headline" id="Background_modifier">Background modifier</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Background modifier">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;action=edit&amp;section=T-2" title="Edit section: Background modifier">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Ignore this subtree for the normal rendering process and draw it in transparent gray (all transformations are still applied to the nodes in this tree).
</p><p>Because the marked subtree is completely ignored, it might have unexpected effects in case it's used, for example, with the first object in a difference(). In that case this object is rendered in transparent gray, but it is <i>not</i> used as the base for the difference()!
</p><p><b>Usage</b>
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>&#160;% { ... }
</pre></div>
<p><b>Example</b>
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">difference</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">cylinder</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
	<span class="c1">// first object to be subtracted</span>
	<span class="n">rotate</span> <span class="p">(</span><span class="o">[</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">cylinder</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
	<span class="c1">// second object to be subtracted</span>
	<span class="o">%</span><span class="n">rotate</span> <span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">cylinder</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><b>Example output</b>
</p>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r3721355/mw-parser-output/.tmulti"/><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:672px;max-width:672px"><div class="trow"><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Background_Modifier_(off).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/a/ac/OpenSCAD_Background_Modifier_%28off%29.png/220px-OpenSCAD_Background_Modifier_%28off%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/a/ac/OpenSCAD_Background_Modifier_%28off%29.png/330px-OpenSCAD_Background_Modifier_%28off%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/a/ac/OpenSCAD_Background_Modifier_%28off%29.png/440px-OpenSCAD_Background_Modifier_%28off%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output without the modifier.</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Background_Modifier_(on).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/84/OpenSCAD_Background_Modifier_%28on%29.png/220px-OpenSCAD_Background_Modifier_%28on%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/84/OpenSCAD_Background_Modifier_%28on%29.png/330px-OpenSCAD_Background_Modifier_%28on%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/8/84/OpenSCAD_Background_Modifier_%28on%29.png/440px-OpenSCAD_Background_Modifier_%28on%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output with modifier added.</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Background_Modifier_(render).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6a/OpenSCAD_Background_Modifier_%28render%29.png/220px-OpenSCAD_Background_Modifier_%28render%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/6a/OpenSCAD_Background_Modifier_%28render%29.png/330px-OpenSCAD_Background_Modifier_%28render%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/6a/OpenSCAD_Background_Modifier_%28render%29.png/440px-OpenSCAD_Background_Modifier_%28render%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Rendered Model.</div></div></div></div></div>
<p><br style="clear:both;" />
</p>
<h2><span class="mw-headline" id="Debug_modifier">Debug modifier</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Debug modifier">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;action=edit&amp;section=T-3" title="Edit section: Debug modifier">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Use this subtree as usual in the rendering process but also draw it unmodified in transparent pink.
</p><p><b>Usage</b>
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span> # { ... }
</pre></div>
<p><b>Example</b>
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">difference</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// start objects</span>
	<span class="n">cylinder</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
        <span class="c1">// first object to be subtracted</span>
	<span class="err">#</span><span class="n">rotate</span> <span class="p">(</span><span class="o">[</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">cylinder</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
        <span class="c1">// second object to be subtracted</span>
	<span class="err">#</span><span class="n">rotate</span> <span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="n">cylinder</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span><span class="o">=</span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p><b>Example output</b>
</p>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r3721355/mw-parser-output/.tmulti"/><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:448px;max-width:448px"><div class="trow"><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Debug_Modifier_(off).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/8a/OpenSCAD_Debug_Modifier_%28off%29.png/220px-OpenSCAD_Debug_Modifier_%28off%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/8a/OpenSCAD_Debug_Modifier_%28off%29.png/330px-OpenSCAD_Debug_Modifier_%28off%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/8/8a/OpenSCAD_Debug_Modifier_%28off%29.png/440px-OpenSCAD_Debug_Modifier_%28off%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output without the modifier.</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Debug_Modifier_(on).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d7/OpenSCAD_Debug_Modifier_%28on%29.png/220px-OpenSCAD_Debug_Modifier_%28on%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d7/OpenSCAD_Debug_Modifier_%28on%29.png/330px-OpenSCAD_Debug_Modifier_%28on%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d7/OpenSCAD_Debug_Modifier_%28on%29.png/440px-OpenSCAD_Debug_Modifier_%28on%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output with modifier added.</div></div></div></div></div>
<p><br style="clear:both;" />
</p>
<h2><span class="mw-headline" id="Root_modifier">Root modifier</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Root modifier">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;action=edit&amp;section=T-4" title="Edit section: Root modifier">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Ignore the rest of the design and use this subtree as design root.
</p><p><b>Usage</b>
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>&#160;! { ... }
</pre></div>
<p><i>Example</i>
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">difference</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">cube</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
	<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
		<span class="o">!</span><span class="n">rotate</span><span class="p">(</span><span class="o">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
			<span class="err">#</span><span class="n">cylinder</span><span class="p">(</span><span class="n">r</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span> <span class="o">=</span> <span class="mi">40</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><b>Example output</b>
</p>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r3721355/mw-parser-output/.tmulti"/><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:448px;max-width:448px"><div class="trow"><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Root_Modifier_(off).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6b/OpenSCAD_Root_Modifier_%28off%29.png/220px-OpenSCAD_Root_Modifier_%28off%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/6b/OpenSCAD_Root_Modifier_%28off%29.png/330px-OpenSCAD_Root_Modifier_%28off%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/6/6b/OpenSCAD_Root_Modifier_%28off%29.png/440px-OpenSCAD_Root_Modifier_%28off%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output without the modifier.</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Root_Modifier_(on).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/87/OpenSCAD_Root_Modifier_%28on%29.png/220px-OpenSCAD_Root_Modifier_%28on%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/87/OpenSCAD_Root_Modifier_%28on%29.png/330px-OpenSCAD_Root_Modifier_%28on%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/8/87/OpenSCAD_Root_Modifier_%28on%29.png/440px-OpenSCAD_Root_Modifier_%28on%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output with modifier added.</div></div></div></div></div>
<p><br style="clear:both;" />
As shown in the example output with the root modifier active, the rotate() is executed as it's part of the subtree marked with the root modifier, but the translate() has no effect.
</p>
<h2><span class="mw-headline" id="Disable_modifier">Disable modifier</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Disable modifier">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;action=edit&amp;section=T-5" title="Edit section: Disable modifier">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Simply ignore this entire subtree.
</p><p><b>Usage</b>
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span> * { ... }
</pre></div>
<p><b>Example</b>
</p>
<div class="mw-highlight mw-highlight-lang-java mw-content-ltr" dir="ltr"><pre><span></span><span class="n">difference</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">cube</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">);</span>
	<span class="n">translate</span><span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">rotate</span><span class="p">(</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">cylinder</span><span class="p">(</span><span class="n">r</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span> <span class="o">=</span> <span class="mi">40</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="o">*</span><span class="n">rotate</span><span class="p">(</span><span class="o">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
			<span class="err">#</span><span class="n">cylinder</span><span class="p">(</span><span class="n">r</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">center</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">$fn</span> <span class="o">=</span> <span class="mi">40</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><b>Example output</b>
</p>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r3721355/mw-parser-output/.tmulti"/><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:448px;max-width:448px"><div class="trow"><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Disable_Modifier_(off).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7d/OpenSCAD_Disable_Modifier_%28off%29.png/220px-OpenSCAD_Disable_Modifier_%28off%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7d/OpenSCAD_Disable_Modifier_%28off%29.png/330px-OpenSCAD_Disable_Modifier_%28off%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/7/7d/OpenSCAD_Disable_Modifier_%28off%29.png/440px-OpenSCAD_Disable_Modifier_%28off%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output without the modifier.</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_Disable_Modifier_(on).png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c7/OpenSCAD_Disable_Modifier_%28on%29.png/220px-OpenSCAD_Disable_Modifier_%28on%29.png" decoding="async" width="220" height="167" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c7/OpenSCAD_Disable_Modifier_%28on%29.png/330px-OpenSCAD_Disable_Modifier_%28on%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/c/c7/OpenSCAD_Disable_Modifier_%28on%29.png/440px-OpenSCAD_Disable_Modifier_%28on%29.png 2x" data-file-width="500" data-file-height="380" /></a></div><div class="thumbcaption">Output with modifier added.</div></div></div></div></div>
<p><br style="clear:both;" />
The disable modifier allows you to comment out one or multiple subtrees. Compared to using the usual line or multi-line comments, it's aware of the hierarchical structure, which makes it easier to disable even larger trees without the need to search for the end of the subtree.
</p>
<h2><span class="mw-headline" id="Echo_statements">Echo statements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Echo statements">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Modifier_Characters&amp;action=edit&amp;section=T-6" title="Edit section: Echo statements">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dd><span class="noprint"><i>See also: <a href="/wiki/OpenSCAD_User_Manual/Other_Language_Features#Echo_function" title="OpenSCAD User Manual/Other Language Features">OpenSCAD User Manual/Other Language Features#Echo function</a></i></span></dd></dl>
<p>This function prints the contents to the compilation window (aka Console). Useful for debugging code. Also see the String function <a href="/wiki/OpenSCAD_User_Manual/String_Functions#str" title="OpenSCAD User Manual/String Functions">str()</a>.
</p><p>Numeric values are rounded to 5 significant digits.
</p><p>It can be handy to use 'variable=variable' as the expression to easily label the variables, see the example below.
</p><p><b>Usage examples:</b>
</p>
<pre>my_h=50;
my_r=100;
echo("This is a cylinder with h=", my_h, " and r=", my_r);
echo(my_h=my_h,my_r=my_r); // shortcut
cylinder(h=my_h, r=my_r);
</pre>
<p>Shows in the Console as
</p>
<pre>ECHO: "This is a cylinder with h=", 50, " and r=", 100
ECHO: my_h = 50, my_r = 100
</pre>
<p style="page-break-after:always;"></p>
<h1><span class="mw-headline" id="Chapter_9_--_External_libraries_and_code_files">Chapter 9 -- External libraries and code files</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=19" class="mw-editsection-visualeditor" title="Edit section: Chapter 9 -- External libraries and code files">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=19" title="Edit section: Chapter 9 -- External libraries and code files">edit source</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><big>OpenSCAD User Manual/The OpenSCAD Language</big>
</p>
<h2><span class="mw-headline" id="Use_and_Include">Use and Include</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit&amp;section=20" class="mw-editsection-visualeditor" title="Edit section: Use and Include">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit&amp;section=20" title="Edit section: Use and Include">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>For including code from external files in OpenSCAD, there are two commands available:
</p>
<ul><li><b><code>include &lt;<i>filename</i>&gt;</code></b> acts as if the contents of the included file were written in the including file, and</li>
<li><b><code>use &lt;<i>filename</i>&gt;</code></b> imports modules and functions, but does not execute any commands other than those definitions.</li></ul>
<p>Library files are searched for in the same folder as the design was open from, or in the library folder of the OpenSCAD installation. You can use a relative path specification to either. If they lie elsewhere you must give the complete path.
Newer versions have predefined user libraries, see the <a href="/wiki/OpenSCAD_User_Manual/Libraries" title="OpenSCAD User Manual/Libraries">OpenSCAD_User_Manual/Libraries</a> page, which also documents a number of library files included in OpenSCAD.
</p><p>Wildcards (*, for e.g. <i>include &lt;MCAD/*.scad&gt;</i>) can <b>not</b> be used to include multiple files.
</p>
<h4><span class="mw-headline" id="Directory_separators">Directory separators</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: Directory separators">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;action=edit&amp;section=T-1" title="Edit section: Directory separators">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Windows and Linux/Mac use different separators for directories. Windows uses <b>\</b>, e.g. directory\file.ext, while the others use <b>/</b>, e.g. directory/file.ext. This could lead to cross platform issues. However OpenSCAD on Windows correctly handles the use of <b>/</b>, so using <b>/</b> in all <b>include</b> or <b>use</b> statements work on all platforms.
</p><p>To access the parent directory <b>../</b> can be used under Linux.
</p>
<h4><span class="mw-headline" id="Variables_2">Variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;action=edit&amp;section=T-2" title="Edit section: Variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<h5><span class="mw-headline" id="Scope_of_variables_2">Scope of variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Scope of variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;action=edit&amp;section=T-3" title="Edit section: Scope of variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Using <b><code>include &lt;<i>filename</i>&gt;</code></b> allows default variables to be specified in the library. These defaults can be overridden in the main code. An OpenSCAD variable has only one value during the life of the program. When there are multiple assignments it takes the last value, but assigns when the variable is first created. This has an effect when assigning in a library, as any <i>variables</i> that you later use to change the default, must be assigned before the include statement. See the second example below.
</p>
<h5><span class="mw-headline" id="Overwriting_variables">Overwriting variables</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Overwriting variables">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;action=edit&amp;section=T-4" title="Edit section: Overwriting variables">edit source</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Default variables in an <b><code>include</code></b> can be overridden, for example
</p><p><b>lib.scad</b>
</p>
<pre>i=1;
k=3;
module x() {
    echo("hello world");
    echo("i=",i,"j=",j,"k=",k);
}
</pre>
<p><b>hello.scad</b>
</p>
<pre>j=4;
include &lt;lib.scad&gt;
x();
i=5;
x();
k=j;
x();

</pre>
<p>Produces the following
</p>
<pre>ECHO: "hello world"
ECHO: "i=", 5, "j=", 4, "k=", 4
ECHO: "hello world"
ECHO: "i=", 5, "j=", 4, "k=", 4
ECHO: "hello world"
ECHO: "i=", 5, "j=", 4, "k=", 4
</pre>
<p>However, placing <b><code>j=4;</code></b> after the <b><code>include</code></b> fails, producing
</p>
<pre>ECHO: "hello world"
ECHO: "i=", 5, "j=", 4, "k=", undef
ECHO: "hello world"
ECHO: "i=", 5, "j=", 4, "k=", undef
ECHO: "hello world"
ECHO: "i=", 5, "j=", 4, "k=", undef
</pre>
<h4><span id="Example_.22Ring-Library.22"></span><span class="mw-headline" id="Example_&quot;Ring-Library&quot;">Example "Ring-Library"</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: Example &quot;Ring-Library&quot;">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;action=edit&amp;section=T-5" title="Edit section: Example &quot;Ring-Library&quot;">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A library file for generating rings might look like this (defining a function and providing an example):
</p><p><b>ring.scad:</b>
</p>
<pre>module ring(r1, r2, h) {
    difference() {
        cylinder(r = r1, h = h);
        translate([ 0, 0, -1 ]) cylinder(r = r2, h = h+2);
    }
}

ring(5, 4, 10);
</pre>
<p>Including the library using
</p>
<pre>include &lt;ring.scad&gt;
rotate([90, 0, 0]) ring(10, 1, 1);
</pre>
<p>would result in the example ring being shown in addition to the rotated ring, but
</p>
<pre>use &lt;ring.scad&gt;
rotate([90, 0, 0]) ring(10, 1, 1);
</pre>
<p>shows only the rotated ring.
</p><p>If using the use function, make sure to place the use statements at top of the file, or at least not within a module!
</p><p>This works fine:
</p>
<pre> // a.scad
 use &lt;ring.scad&gt;
 module a() {
   ring();
 }
</pre>
<p>but this results in an syntax error:
</p>
<pre> //a.scad
 module a() {
   use &lt;ring.scad&gt;
   ring();
 }
</pre>
<p><br />
</p>
<h4><span class="mw-headline" id="Nested_Include_and_Use">Nested Include and Use</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: Nested Include and Use">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Include_Statement&amp;action=edit&amp;section=T-6" title="Edit section: Nested Include and Use">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>OpenSCAD executes nested calls to <b>include</b> and <b>use</b>. There is one caveat to this, that <b>use</b> brings functions and modules only into the local file context. As a result, nested calls to <b>use</b> have no effect on the environment of the base file; the child <b>use</b> call works in the parent <b>use</b> context, but the modules and functions so imported fall out of context before they are seen by the base context.
</p>
<span class="noprint"><table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></div></td><td class="mbox-text"><span class="mbox-text-span"><b>The text in its current form is incomplete.</b></span></td></tr></tbody></table></span>
<p>Importing is achieved by the import() command. 
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03-2</span></span>]</span> The <i>File &gt;&gt; Open</i> command may be used to insert this command. The file type filter of the Open File dialog may show only OpenSCAD files, but file name can be replaced with a wildcard (e.g. *.stl) to browse to additional file types.
</p>
<h2><span class="mw-headline" id="import">import</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-1" class="mw-editsection-visualeditor" title="Edit section: import">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-1" title="Edit section: import">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Imports a file for use in the current OpenSCAD model. The file extension is used to determine which type.
</p>
<dl><dt>3D formats</dt>
<dd></dd></dl>
<ul><li>STL (both ASCII and Binary)</li>
<li>OFF</li>
<li>AMF <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span></li>
<li>3MF <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span></li></ul>
<dl><dt>2D formats</dt>
<dd></dd></dl>
<ul><li>DXF</li>
<li><a href="/wiki/OpenSCAD_User_Manual/SVG_Import" title="OpenSCAD User Manual/SVG Import">SVG</a> <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span></li></ul>
<dl><dt>Other</dt>
<dd>CSG can be imported using include&lt;&gt; or loaded like an SCAD file, PNG can be imported using surface()</dd></dl>
<h3><span class="mw-headline" id="Parameters">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-2" class="mw-editsection-visualeditor" title="Edit section: Parameters">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-2" title="Edit section: Parameters">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>&lt;file&gt;</dt>
<dd>A string containing the path to file.:If the give path is not absolute, it is resolved relative to the importing script. Note that when using <code>include&lt;&gt;</code> with a script that uses <code>import()</code>, this is relative to the script doing the <code>include&lt;&gt;</code>.</dd>
<dt>&lt;convexity&gt;</dt>
<dd>An Integer. The convexity parameter specifies the maximum number of front sides (or back sides) a ray intersecting the object might penetrate. This parameter is needed only for correctly displaying the object in OpenCSG preview mode and has no effect on the polyhedron rendering. Optional.</dd>
<dt>&lt;layer&gt;</dt>
<dd>For DXF import only, specify a specific layer to import. Optional.</dd>
<dt>$fn</dt>
<dd>Double. The number of polygon segments to use when converting circles, arcs, and curves to polygons. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">Development snapshot</span></span>]</span></dd>
<dt>$fa</dt>
<dd>Double. The minimum angle step to use when converting circles and arcs to polygons. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">Development snapshot</span></span>]</span></dd>
<dt>$fs</dt>
<dd>Double. The minimum segment length to use when converting circles and arcs to polygons. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">Development snapshot</span></span>]</span></dd></dl>
<pre>import("example012.stl", convexity=3);
import("D:/Documents and Settings/User/My Documents/Gear.stl", convexity=3);
(Windows users must "escape" the backslashes by writing them doubled, or replace the backslashes with forward slashes.)
</pre>
<p>Read a layer of a 2D DXF file and create a 3D shape.
</p>
<pre>linear_extrude(height = 5, center = true, convexity = 10)
		import_dxf(file = "example009.dxf", layer = "plate");
</pre>
<h4><span class="mw-headline" id="Convexity_2">Convexity</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-3" class="mw-editsection-visualeditor" title="Edit section: Convexity">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-3" title="Edit section: Convexity">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><a href="/wiki/File:Openscad_convexity.jpg" class="image"><img alt="Openscad convexity.jpg" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/400px-Openscad_convexity.jpg" decoding="async" width="400" height="300" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/600px-Openscad_convexity.jpg 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Openscad_convexity.jpg/800px-Openscad_convexity.jpg 2x" data-file-width="1232" data-file-height="924" /></a>
</p><p>This image shows a 2D shape with a convexity of 2, as the ray indicated in red intersects with the 2D shape in at most two sections. The convexity of a 3D shape would be determined in a similar way. Setting it to 10 should work fine for most cases.
</p>
<h4><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-4" class="mw-editsection-visualeditor" title="Edit section: Notes">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-4" title="Edit section: Notes">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In the latest version of OpenSCAD, import() is now used for importing both 2D (DXF for extrusion) and 3D (STL) files.
</p>
<h4><span id="CGAL_ERROR:_assertion_violation.21"></span><span class="mw-headline" id="CGAL_ERROR:_assertion_violation!">CGAL ERROR: assertion violation!</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-5" class="mw-editsection-visualeditor" title="Edit section: CGAL ERROR: assertion violation!">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-5" title="Edit section: CGAL ERROR: assertion violation!">edit source</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>If you want to render the imported STL file later, you have to make sure that the STL file is "clean". This means that the mesh has to be manifold and should not contain holes nor self-intersections. If the STL is not clean, it might initially import and preview fine, but then as soon as you attempt to perform computational geometry on it by rendering a combination of it with something else, you might get warnings about it not being manifold, your imported stl might disappear from the output entirely, or you might get errors like:
</p>
<pre> CGAL error in CGAL_Build_PolySet: CGAL ERROR: assertion violation!
 Expr: check_protocoll == 0
 File: /home/don/openscad_deps/mxe/usr/i686-pc-mingw32/include/CGAL/Polyhedron_incremental_builder_3.h
 Line: 199
</pre>
<p>or
</p>
<pre> CGAL error in CGAL_Nef_polyhedron3(): CGAL ERROR: assertion violation!
 Expr: pe_prev-&gt;is_border() || !internal::Plane_constructor&lt;Plane&gt;::get_plane(pe_prev-&gt;facet(),pe_prev-&gt;facet()-&gt;plane()).is_degenerate()
 File: /home/don/openscad_deps/mxe/usr/i686-pc-mingw32/include/CGAL/Nef_3/polyhedron_3_to_nef_3.h
 Line: 253
</pre>
<p>In order to clean the STL file, you have the following options:
</p>
<ul><li>use <a rel="nofollow" class="external free" href="https://wiki.netfabb.com/Semi-Automatic_Repair_Options">http://wiki.netfabb.com/Semi-Automatic_Repair_Options</a> to repair the holes but not the self-intersections.</li>
<li>use netfabb basic. This free software doesn't have the option to close holes nor can it fix the self-intersections.</li>
<li>use MeshLab, This free software can fix all the issues.</li></ul>
<p>Using MeshLab, you can do:
</p>
<ul><li>Render - Show non Manif Edges</li>
<li>Render - Show non Manif Vertices</li>
<li>if found, use Filters - Selection - Select non Manifold Edges or Select non Manifold Vertices - Apply - Close. Then click button 'Delete the current set of selected vertices...' or check <a rel="nofollow" class="external free" href="https://www.youtube.com/watch?v=oDx0Tgy0UHo">http://www.youtube.com/watch?v=oDx0Tgy0UHo</a> for an instruction video. The screen should show "0 non manifold edges", "0 non manifold vertices"</li></ul>
<p><br />
Next, you can click the icon 'Fill Hole', select all the holes and click Fill and then Accept. You might have to redo this action a few times.
</p><p>Use File - Export Mesh to save the STL.
</p><p><br />
If Meshlab can't fill the last hole then Blender might help:
</p>
<ol><li>Start Blender</li>
<li>`X, 1` to remove the default object</li>
<li>File, Import, Stl</li>
<li>`Tab` to edit the mesh</li>
<li>`A` to de-select all vertices</li>
<li>`Alt+Ctrl+Shift+M` to select all non-manifold vertices</li>
<li>`MMB` to rotate, `Shift+MMB` to pan, `wheel` to zoom</li>
<li>`C` for "circle" select, `Esc` to finish</li>
<li>`Alt+M, 1` to merge or `Space` and search for "merge" as alternative</li>
<li>Merging vertices is a useful way of filling holes where the vertices are so closely packed that the slight change in geometry is unimportant compared to the precision of a typical 3D printer</li></ol>
<h2><span class="mw-headline" id="import_dxf_2">import_dxf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-6" class="mw-editsection-visualeditor" title="Edit section: import dxf">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-6" title="Edit section: import dxf">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>[<i><span style="font-weight: bold; color: #A00000;">Deprecated:</span> <b>import_dxf()</b> will be removed in future releases.&#160;Use <b>import()</b> instead.</i>]
</p><p>Read a DXF file and create a 3D shape.
</p>
<pre>linear_extrude(height = 5, center = true, convexity = 10)
		import_dxf(file = "example009.dxf", layer = "plate");
</pre>
<h2><span class="mw-headline" id="import_stl">import_stl</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-7" class="mw-editsection-visualeditor" title="Edit section: import stl">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-7" title="Edit section: import stl">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>[<i><span style="font-weight: bold; color: #A00000;">Deprecated:</span> <b>import_stl()</b> will be removed in future releases.&#160;Use <b>import()</b> instead.  See above.</i>]
</p><p>Imports an STL file for use in the current OpenSCAD model
</p>
<pre>import_stl("body.stl", convexity = 5);
</pre>
<h2><span class="mw-headline" id="surface_2">surface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-8" class="mw-editsection-visualeditor" title="Edit section: surface">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-8" title="Edit section: surface">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><code>surface()</code> reads <a href="https://en.wikipedia.org/wiki/Heightmap" class="extiw" title="w:Heightmap">Heightmap</a> information from text or image files.
It can read <b>PNG</b> files.
</p>
<h3><span class="mw-headline" id="Parameters_2">Parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-9" class="mw-editsection-visualeditor" title="Edit section: Parameters">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-9" title="Edit section: Parameters">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl><dt>file</dt>
<dd>String. The path to the file containing the heightmap data.</dd></dl>
<dl><dt>center</dt>
<dd>Boolean.  This determines the positioning of the generated object.  If true, object is centered in X- and Y-axis.  Otherwise, the object is placed in the positive quadrant.  Defaults to false.</dd></dl>
<dl><dt>invert</dt>
<dd>Boolean. Inverts how the color values of imported images are translated into height values. This has no effect when importing text data files. Defaults to false. <span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span></dd></dl>
<dl><dt>convexity</dt>
<dd>Integer. The convexity parameter specifies the maximum number of front sides (back sides) a ray intersecting the object might penetrate. This parameter is needed only for correct display of the object in OpenCSG preview mode and has no effect on the final rendering.</dd></dl>
<h3><span class="mw-headline" id="Text_file_format_2">Text file format</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-10" class="mw-editsection-visualeditor" title="Edit section: Text file format">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-10" title="Edit section: Text file format">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The format for text based heightmaps is a matrix of numbers that represent the height for a specific point. Rows are mapped to the Y-axis, columns to the X axis.
The numbers must be separated by spaces or tabs. Empty lines and lines starting with a # character are ignored.
</p>
<h3><span class="mw-headline" id="Images_2">Images</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-11" class="mw-editsection-visualeditor" title="Edit section: Images">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-11" title="Edit section: Images">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p><p>Currently only PNG images are supported. Alpha channel information of the image is ignored and the height for the pixel is determined by converting the color value to <a href="https://en.wikipedia.org/wiki/Grayscale" class="extiw" title="w:Grayscale">Grayscale</a> using the linear luminance for the sRGB color space (Y = 0.2126R + 0.7152G + 0.0722B). The gray scale values are scaled to be in the range 0 to 100.
</p>
<h3><span class="mw-headline" id="Examples_4">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;veaction=edit&amp;section=T-12" class="mw-editsection-visualeditor" title="Edit section: Examples">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=OpenSCAD_User_Manual/Importing_Geometry&amp;action=edit&amp;section=T-12" title="Edit section: Examples">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Example 1:</b>
</p>
<pre>//surface.scad
surface(file = "surface.dat", center = true, convexity = 5);
%translate([0,0,5])cube([10,10,10], center =true);
</pre>
<pre>#surface.dat
10 9 8 7 6 5 5 5 5 5 
9 8 7 6 6 4 3 2 1 0 
8 7 6 6 4 3 2 1 0 0
7 6 6 4 3 2 1 0 0 0
6 6 4 3 2 1 1 0 0 0
6 6 3 2 1 1 1 0 0 0
6 6 2 1 1 1 1 0 0 0
6 6 1 0 0 0 0 0 0 0
3 1 0 0 0 0 0 0 0 0
3 0 0 0 0 0 0 0 0 0
</pre>
<p>Result:
</p><p><a href="/wiki/File:Openscad_surface_example_x1.png" class="image"><img alt="Openscad surface example x1.png" src="//upload.wikimedia.org/wikipedia/commons/7/7b/Openscad_surface_example_x1.png" decoding="async" width="521" height="495" data-file-width="521" data-file-height="495" /></a>
</p><p><b>Example 2</b>
</p>
<pre> // example010.dat generated using octave:
 // d = (sin(1:0.2:10)' * cos(1:0.2:10)) * 10;
 // save("example010.dat", "d");
 intersection() {
   surface(file = "example010.dat", center = true, convexity = 5);
   rotate(45, [0, 0, 1]) surface(file = "example010.dat", center = true, convexity = 5); 
 }
</pre>
<p><a href="/wiki/File:Openscad_surface_example_x2.png" class="image"><img alt="Openscad surface example x2.png" src="//upload.wikimedia.org/wikipedia/commons/e/e3/Openscad_surface_example_x2.png" decoding="async" width="397" height="366" data-file-width="397" data-file-height="366" /></a>
</p><p><b>Example 3:</b>
</p><p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2015.03</span></span>]</span>
</p>
<pre>// Example 3a
scale([1, 1, 0.1])
  surface(file = "smiley.png", center = true);
</pre>
<pre>// Example 3b
scale([1, 1, 0.1])
  surface(file = "smiley.png", center = true, invert = true);
</pre>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r3721355/mw-parser-output/.tmulti"/><div class="thumb tmulti tnone center"><div class="thumbinner" style="width:672px;max-width:672px"><div class="trow"><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_surface_example_input_image.png" class="image"><img alt="Input image" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/37/OpenSCAD_surface_example_input_image.png/220px-OpenSCAD_surface_example_input_image.png" decoding="async" width="220" height="165" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/37/OpenSCAD_surface_example_input_image.png/330px-OpenSCAD_surface_example_input_image.png 1.5x, //upload.wikimedia.org/wikipedia/commons/3/37/OpenSCAD_surface_example_input_image.png 2x" data-file-width="400" data-file-height="300" /></a></div><div class="thumbcaption">Input image</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_surface_example.png" class="image"><img alt="Surface output" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0b/OpenSCAD_surface_example.png/220px-OpenSCAD_surface_example.png" decoding="async" width="220" height="165" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0b/OpenSCAD_surface_example.png/330px-OpenSCAD_surface_example.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/0b/OpenSCAD_surface_example.png/440px-OpenSCAD_surface_example.png 2x" data-file-width="800" data-file-height="600" /></a></div><div class="thumbcaption">Example 3a: surface(invert = false)</div></div><div class="tsingle" style="width:222px;max-width:222px"><div class="thumbimage"><a href="/wiki/File:OpenSCAD_surface_example_(inverted).png" class="image"><img alt="Surface output inverted" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/58/OpenSCAD_surface_example_%28inverted%29.png/220px-OpenSCAD_surface_example_%28inverted%29.png" decoding="async" width="220" height="165" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/58/OpenSCAD_surface_example_%28inverted%29.png/330px-OpenSCAD_surface_example_%28inverted%29.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/5/58/OpenSCAD_surface_example_%28inverted%29.png/440px-OpenSCAD_surface_example_%28inverted%29.png 2x" data-file-width="800" data-file-height="600" /></a></div><div class="thumbcaption">Example 3b: surface(invert = true)</div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Example 3: Using surface() with a PNG image as heightmap input.</div></div></div></div>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text"><a rel="nofollow" class="external free" href="https://github.com/openscad/openscad/issues/4275">https://github.com/openscad/openscad/issues/4275</a></span>
</li>
</ol>
<!-- 
NewPP limit report
Parsed by mw1490
Cached time: 20221201092959
Cache expiry: 1814400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.716 seconds
Real time usage: 0.930 seconds
Preprocessor visited node count: 4819/1000000
Post‐expand include size: 280492/2097152 bytes
Template argument size: 12401/2097152 bytes
Highest expansion depth: 13/100
Expensive parser function count: 117/500
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 239018/5000000 bytes
Lua time usage: 0.136/10.000 seconds
Lua memory usage: 2772229/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  358.872      1 -total
 26.75%   96.010     19 Template:BookCat
 18.12%   65.020      1 OpenSCAD_User_Manual/General
 15.17%   54.455     11 Template:Incomplete
 14.83%   53.220     23 Template:Evalx
 14.32%   51.374     11 Template:Mbox
 10.65%   38.232      1 OpenSCAD_User_Manual/Transformations
  7.96%   28.570      1 OpenSCAD_User_Manual/Primitive_Solids
  7.33%   26.299      5 Template:OpenSCAD_User_Manual/Deprecated
  6.73%   24.161      5 Template:Bookcat
-->

<!-- Saved in parser cache with key enwikibooks:pcache:idhash:214317-0!canonical and timestamp 20221201092958 and revision id 4070690.
 -->
</div><noscript><img src="//en.wikibooks.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://en.wikibooks.org/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;oldid=4070690">https://en.wikibooks.org/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;oldid=4070690</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/wiki/Category:Book:OpenSCAD_User_Manual" title="Category:Book:OpenSCAD User Manual">Book:OpenSCAD User Manual</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-anonuserpage" class="mw-list-item"><span title="The user page for the IP address you are editing as">Not logged in</span></li><li id="pt-anontalk" class="mw-list-item"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n"><span>Discussion for this IP address</span></a></li><li id="pt-anoncontribs" class="mw-list-item"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y"><span>Contributions</span></a></li><li id="pt-createaccount" class="mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=OpenSCAD+User+Manual%2FThe+OpenSCAD+Language" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login" class="mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=OpenSCAD+User+Manual%2FThe+OpenSCAD+Language" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language" title="View the content page [c]" accesskey="c"><span>Book</span></a></li><li id="ca-talk" class="mw-list-item"><a href="/wiki/Talk:OpenSCAD_User_Manual/The_OpenSCAD_Language" rel="discussion" title="Discussion about the content page [t]" accesskey="t"><span>Discussion</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language"><span>Read</span></a></li><li id="ca-ve-edit" class="mw-list-item"><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;veaction=edit" title="Edit this page [v]" accesskey="v"><span>Edit</span></a></li><li id="ca-edit" class="collapsible mw-list-item"><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=edit" title="Edit this page [e]" accesskey="e"><span>Edit source</span></a></li><li id="ca-history" class="mw-list-item"><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
		<form action="/w/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search Wikibooks" aria-label="Search Wikibooks" autocapitalize="sentences" title="Search Wikibooks [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Main_Page"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-Navigation" class="vector-menu mw-portlet mw-portlet-Navigation vector-menu-portal portal" aria-labelledby="p-Navigation-label" role="navigation"  >
	<h3
		id="p-Navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-mainpage" class="mw-list-item"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"><span>Main Page</span></a></li><li id="n-help" class="mw-list-item"><a href="/wiki/Help:Contents" title="Find help on how to use and edit Wikibooks"><span>Help</span></a></li><li id="n-Browse" class="mw-list-item"><a href="/wiki/Wikibooks:Card_Catalog_Office" title="Check out what Wikibooks has to offer"><span>Browse</span></a></li><li id="n-Cookbook" class="mw-list-item"><a href="/wiki/Cookbook:Table_of_Contents" title="Learn recipes from around the world"><span>Cookbook</span></a></li><li id="n-Wikijunior" class="mw-list-item"><a href="/wiki/Wikijunior" title="Books for children"><span>Wikijunior</span></a></li><li id="n-Featured-books" class="mw-list-item"><a href="/wiki/Wikibooks:Featured_books" title="The best of Wikibooks"><span>Featured books</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-sitesupport" class="mw-list-item"><a href="//donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_en.wikibooks.org&amp;uselang=en" title="Support Wikibooks"><span>Donations</span></a></li><li id="n-randomrootpage" class="mw-list-item"><a href="/wiki/Special:RandomInCategory/Book:Wikibooks_Stacks/Books"><span>Random book</span></a></li><li id="n-Using-Wikibooks" class="mw-list-item"><a href="/wiki/Using_Wikibooks"><span>Using Wikibooks</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-Community" class="vector-menu mw-portlet mw-portlet-Community vector-menu-portal portal" aria-labelledby="p-Community-label" role="navigation"  >
	<h3
		id="p-Community-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Community</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Reading-room-forum" class="mw-list-item"><a href="/wiki/Wikibooks:Reading_room"><span>Reading room forum</span></a></li><li id="n-portal" class="mw-list-item"><a href="/wiki/Wikibooks:Community_Portal" title="Find your way around the Wikibooks community"><span>Community portal</span></a></li><li id="n-currentevents" class="mw-list-item"><a href="/wiki/Wikibooks:Reading_room/Bulletin_Board" title="Important community news"><span>Bulletin Board</span></a></li><li id="n-maintenance" class="mw-list-item"><a href="/wiki/Wikibooks:Maintenance" title="Frequent tasks that you can help with"><span>Help out!</span></a></li><li id="n-Policies-and-guidelines" class="mw-list-item"><a href="/wiki/Wikibooks:Policies_and_guidelines" title="Pages detailing important rules and procedures"><span>Policies and guidelines</span></a></li><li id="n-contact" class="mw-list-item"><a href="/wiki/Wikibooks:Contact_us" title="Alternative methods of communication"><span>Contact us</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/OpenSCAD_User_Manual/The_OpenSCAD_Language" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/OpenSCAD_User_Manual/The_OpenSCAD_Language" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-upload" class="mw-list-item"><a href="//commons.wikimedia.org/wiki/Special:UploadWizard?uselang=en" title="Upload files [u]" accesskey="u"><span>Upload file</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;oldid=4070690" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;action=info" title="More information about this page"><span>Page information</span></a></li><li id="t-cite" class="mw-list-item"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=OpenSCAD_User_Manual%2FThe_OpenSCAD_Language&amp;id=4070690&amp;wpFormIdentifier=titleform" title="Information on how to cite this page"><span>Cite this page</span></a></li><li id="t-wikibase" class="mw-list-item"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q28651208" title="Link to connected data repository item [g]" accesskey="g"><span>Wikidata item</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-Sister_projects" class="vector-menu mw-portlet mw-portlet-Sister_projects vector-menu-portal portal" aria-labelledby="p-Sister_projects-label" role="navigation"  >
	<h3
		id="p-Sister_projects-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Sister projects</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Wikipedia" class="mw-list-item"><a href="https://en.wikipedia.org/wiki/Main_Page"><span>Wikipedia</span></a></li><li id="n-Wikiversity" class="mw-list-item"><a href="https://en.wikiversity.org/wiki/Wikiversity:Main_Page"><span>Wikiversity</span></a></li><li id="n-Wiktionary" class="mw-list-item"><a href="https://en.wiktionary.org/wiki/Wiktionary:Main_Page"><span>Wiktionary</span></a></li><li id="n-Wikiquote" class="mw-list-item"><a href="https://en.wikiquote.org/wiki/Main_Page"><span>Wikiquote</span></a></li><li id="n-Wikisource" class="mw-list-item"><a href="https://en.wikisource.org/wiki/Main_Page"><span>Wikisource</span></a></li><li id="n-Wikinews" class="mw-list-item"><a href="https://en.wikinews.org/wiki/Main_Page"><span>Wikinews</span></a></li><li id="n-Wikivoyage" class="mw-list-item"><a href="https://en.wikivoyage.org/wiki/Main_Page"><span>Wikivoyage</span></a></li><li id="n-Commons" class="mw-list-item"><a href="https://commons.wikimedia.org/wiki/Main_Page"><span>Commons</span></a></li><li id="n-Wikidata" class="mw-list-item"><a href="https://www.wikidata.org/wiki/Wikidata:Main_Page"><span>Wikidata</span></a></li><li id="n-MediaWiki" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Main_Page"><span>MediaWiki</span></a></li><li id="n-Meta-Wiki" class="mw-list-item"><a href="https://meta.wikimedia.org/wiki/Main_Page"><span>Meta-Wiki</span></a></li></ul>
		
	</div>
</nav>


<nav id="p-coll-print_export" class="vector-menu mw-portlet mw-portlet-coll-print_export vector-menu-portal portal" aria-labelledby="p-coll-print_export-label" role="navigation"  >
	<h3
		id="p-coll-print_export-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Print/export</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="coll-create_a_book" class="mw-list-item"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=OpenSCAD+User+Manual%2FThe+OpenSCAD+Language"><span>Create a collection</span></a></li><li id="coll-download-as-rl" class="mw-list-item"><a href="/w/index.php?title=Special:DownloadAsPdf&amp;page=OpenSCAD_User_Manual%2FThe_OpenSCAD_Language&amp;action=show-download-screen"><span>Download as PDF</span></a></li><li id="t-print" class="mw-list-item"><a href="/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;printable=yes" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-lang" class="vector-menu mw-portlet mw-portlet-lang vector-menu-portal portal" aria-labelledby="p-lang-label" role="navigation"  >
	<h3
		id="p-lang-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">In other languages</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li class="interlanguage-link interwiki-it mw-list-item"><a href="https://it.wikibooks.org/wiki/OpenSCAD/Linguaggio_OpenSCAD" title="OpenSCAD/Linguaggio OpenSCAD – Italian" lang="it" hreflang="it" class="interlanguage-link-target"><span>Italiano</span></a></li><li class="interlanguage-link interwiki-ru mw-list-item"><a href="https://ru.wikibooks.org/wiki/%D0%A0%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F_%D0%BF%D0%BE_OpenSCAD/%D0%AF%D0%B7%D1%8B%D0%BA_%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B5%D0%B2_OpenSCAD" title="Руководство пользователя по OpenSCAD/Язык сценариев OpenSCAD – Russian" lang="ru" hreflang="ru" class="interlanguage-link-target"><span>Русский</span></a></li></ul>
		<div class="after-portlet after-portlet-lang"><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q28651208#sitelinks-wikibooks" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>
	</div>
</nav>

</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 5 June 2022, at 01:10.</li>
	<li id="footer-info-copyright">Text is available under the <a href="//creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike License</a>; additional terms may apply.  By using this site, you agree to the <a href="//foundation.wikimedia.org/wiki/Terms_of_Use">Terms of Use</a> and <a href="//foundation.wikimedia.org/wiki/Privacy_policy">Privacy Policy.</a></li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Wikibooks:Welcome">About Wikibooks</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/Wikibooks:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="//en.m.wikibooks.org/w/index.php?title=OpenSCAD_User_Manual/The_OpenSCAD_Language&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
	<li id="footer-places-developers"><a href="https://developer.wikimedia.org">Developers</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/en.wikibooks.org">Statistics</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Cookie_statement">Cookie statement</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://wikimediafoundation.org/"><img src="/static/images/footer/wikimedia-button.png" srcset="/static/images/footer/wikimedia-button-1.5x.png 1.5x, /static/images/footer/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation" loading="lazy" /></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/static/images/footer/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/footer/poweredby_mediawiki_132x47.png 1.5x, /static/images/footer/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.716","walltime":"0.930","ppvisitednodes":{"value":4819,"limit":1000000},"postexpandincludesize":{"value":280492,"limit":2097152},"templateargumentsize":{"value":12401,"limit":2097152},"expansiondepth":{"value":13,"limit":100},"expensivefunctioncount":{"value":117,"limit":500},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":239018,"limit":5000000},"entityaccesscount":{"value":0,"limit":400},"timingprofile":["100.00%  358.872      1 -total"," 26.75%   96.010     19 Template:BookCat"," 18.12%   65.020      1 OpenSCAD_User_Manual/General"," 15.17%   54.455     11 Template:Incomplete"," 14.83%   53.220     23 Template:Evalx"," 14.32%   51.374     11 Template:Mbox"," 10.65%   38.232      1 OpenSCAD_User_Manual/Transformations","  7.96%   28.570      1 OpenSCAD_User_Manual/Primitive_Solids","  7.33%   26.299      5 Template:OpenSCAD_User_Manual/Deprecated","  6.73%   24.161      5 Template:Bookcat"]},"scribunto":{"limitreport-timeusage":{"value":"0.136","limit":"10.000"},"limitreport-memusage":{"value":2772229,"limit":52428800}},"cachereport":{"origin":"mw1490","timestamp":"20221201092959","ttl":1814400,"transientcontent":false}}});});</script>
<script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Article","name":"OpenSCAD User Manual\/The OpenSCAD Language","url":"https:\/\/en.wikibooks.org\/wiki\/OpenSCAD_User_Manual\/The_OpenSCAD_Language","sameAs":"http:\/\/www.wikidata.org\/entity\/Q28651208","mainEntity":"http:\/\/www.wikidata.org\/entity\/Q28651208","author":{"@type":"Organization","name":"Contributors to Wikimedia projects"},"publisher":{"@type":"Organization","name":"Wikimedia Foundation, Inc.","logo":{"@type":"ImageObject","url":"https:\/\/www.wikimedia.org\/static\/images\/wmf-hor-googpub.png"}},"datePublished":"2009-11-14T19:34:30Z","dateModified":"2022-06-05T01:10:32Z"}</script><script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Article","name":"OpenSCAD User Manual\/The OpenSCAD Language","url":"https:\/\/en.wikibooks.org\/wiki\/OpenSCAD_User_Manual\/The_OpenSCAD_Language","sameAs":"http:\/\/www.wikidata.org\/entity\/Q28651208","mainEntity":"http:\/\/www.wikidata.org\/entity\/Q28651208","author":{"@type":"Organization","name":"Contributors to Wikimedia projects"},"publisher":{"@type":"Organization","name":"Wikimedia Foundation, Inc.","logo":{"@type":"ImageObject","url":"https:\/\/www.wikimedia.org\/static\/images\/wmf-hor-googpub.png"}},"datePublished":"2009-11-14T19:34:30Z","dateModified":"2022-06-05T01:10:32Z"}</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":205,"wgHostname":"mw1355"});});</script>
</body>
</html>